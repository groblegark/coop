<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>coopmux dashboard</title>
    <script type="module" crossorigin>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const u of h.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(o){if(o.ep)return;o.ep=!0;const h=r(o);fetch(o.href,h)}})();var Eu={exports:{}},jl={};var ap;function Ky(){if(ap)return jl;ap=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(l,o,h){var u=null;if(h!==void 0&&(u=""+h),o.key!==void 0&&(u=""+o.key),"key"in o){h={};for(var _ in o)_!=="key"&&(h[_]=o[_])}else h=o;return o=h.ref,{$$typeof:e,type:l,key:u,ref:o!==void 0?o:null,props:h}}return jl.Fragment=t,jl.jsx=r,jl.jsxs=r,jl}var op;function Gy(){return op||(op=1,Eu.exports=Ky()),Eu.exports}var S=Gy(),Mu={exports:{}},me={};var hp;function Vy(){if(hp)return me;hp=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),u=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),b=Symbol.iterator;function x(w){return w===null||typeof w!="object"?null:(w=b&&w[b]||w["@@iterator"],typeof w=="function"?w:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,K={};function W(w,U,X){this.props=w,this.context=U,this.refs=K,this.updater=X||E}W.prototype.isReactComponent={},W.prototype.setState=function(w,U){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,U,"setState")},W.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function ee(){}ee.prototype=W.prototype;function V(w,U,X){this.props=w,this.context=U,this.refs=K,this.updater=X||E}var z=V.prototype=new ee;z.constructor=V,D(z,W.prototype),z.isPureReactComponent=!0;var Q=Array.isArray;function te(){}var ie={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function fe(w,U,X){var se=X.ref;return{$$typeof:e,type:w,key:U,ref:se!==void 0?se:null,props:X}}function Le(w,U){return fe(w.type,U,w.props)}function ae(w){return typeof w=="object"&&w!==null&&w.$$typeof===e}function A(w){var U={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(X){return U[X]})}var T=/\/+/g;function F(w,U){return typeof w=="object"&&w!==null&&w.key!=null?A(""+w.key):U.toString(36)}function j(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(te,te):(w.status="pending",w.then(function(U){w.status==="pending"&&(w.status="fulfilled",w.value=U)},function(U){w.status==="pending"&&(w.status="rejected",w.reason=U)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function M(w,U,X,se,re){var oe=typeof w;(oe==="undefined"||oe==="boolean")&&(w=null);var ue=!1;if(w===null)ue=!0;else switch(oe){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(w.$$typeof){case e:case t:ue=!0;break;case p:return ue=w._init,M(ue(w._payload),U,X,se,re)}}if(ue)return re=re(w),ue=se===""?"."+F(w,0):se,Q(re)?(X="",ue!=null&&(X=ue.replace(T,"$&/")+"/"),M(re,U,X,"",function(Vt){return Vt})):re!=null&&(ae(re)&&(re=Le(re,X+(re.key==null||w&&w.key===re.key?"":(""+re.key).replace(T,"$&/")+"/")+ue)),U.push(re)),1;ue=0;var be=se===""?".":se+":";if(Q(w))for(var pe=0;pe<w.length;pe++)se=w[pe],oe=be+F(se,pe),ue+=M(se,U,X,oe,re);else if(pe=x(w),typeof pe=="function")for(w=pe.call(w),pe=0;!(se=w.next()).done;)se=se.value,oe=be+F(se,pe++),ue+=M(se,U,X,oe,re);else if(oe==="object"){if(typeof w.then=="function")return M(j(w),U,X,se,re);throw U=String(w),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ue}function k(w,U,X){if(w==null)return w;var se=[],re=0;return M(w,se,"","",function(oe){return U.call(X,oe,re++)}),se}function C(w){if(w._status===-1){var U=w._result;U=U(),U.then(function(X){(w._status===0||w._status===-1)&&(w._status=1,w._result=X)},function(X){(w._status===0||w._status===-1)&&(w._status=2,w._result=X)}),w._status===-1&&(w._status=0,w._result=U)}if(w._status===1)return w._result.default;throw w._result}var N=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},Y={map:k,forEach:function(w,U,X){k(w,function(){U.apply(this,arguments)},X)},count:function(w){var U=0;return k(w,function(){U++}),U},toArray:function(w){return k(w,function(U){return U})||[]},only:function(w){if(!ae(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return me.Activity=m,me.Children=Y,me.Component=W,me.Fragment=r,me.Profiler=o,me.PureComponent=V,me.StrictMode=l,me.Suspense=g,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,me.__COMPILER_RUNTIME={__proto__:null,c:function(w){return ie.H.useMemoCache(w)}},me.cache=function(w){return function(){return w.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(w,U,X){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var se=D({},w.props),re=w.key;if(U!=null)for(oe in U.key!==void 0&&(re=""+U.key),U)!le.call(U,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&U.ref===void 0||(se[oe]=U[oe]);var oe=arguments.length-2;if(oe===1)se.children=X;else if(1<oe){for(var ue=Array(oe),be=0;be<oe;be++)ue[be]=arguments[be+2];se.children=ue}return fe(w.type,re,se)},me.createContext=function(w){return w={$$typeof:u,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:h,_context:w},w},me.createElement=function(w,U,X){var se,re={},oe=null;if(U!=null)for(se in U.key!==void 0&&(oe=""+U.key),U)le.call(U,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(re[se]=U[se]);var ue=arguments.length-2;if(ue===1)re.children=X;else if(1<ue){for(var be=Array(ue),pe=0;pe<ue;pe++)be[pe]=arguments[pe+2];re.children=be}if(w&&w.defaultProps)for(se in ue=w.defaultProps,ue)re[se]===void 0&&(re[se]=ue[se]);return fe(w,oe,re)},me.createRef=function(){return{current:null}},me.forwardRef=function(w){return{$$typeof:_,render:w}},me.isValidElement=ae,me.lazy=function(w){return{$$typeof:p,_payload:{_status:-1,_result:w},_init:C}},me.memo=function(w,U){return{$$typeof:f,type:w,compare:U===void 0?null:U}},me.startTransition=function(w){var U=ie.T,X={};ie.T=X;try{var se=w(),re=ie.S;re!==null&&re(X,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(te,N)}catch(oe){N(oe)}finally{U!==null&&X.types!==null&&(U.types=X.types),ie.T=U}},me.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},me.use=function(w){return ie.H.use(w)},me.useActionState=function(w,U,X){return ie.H.useActionState(w,U,X)},me.useCallback=function(w,U){return ie.H.useCallback(w,U)},me.useContext=function(w){return ie.H.useContext(w)},me.useDebugValue=function(){},me.useDeferredValue=function(w,U){return ie.H.useDeferredValue(w,U)},me.useEffect=function(w,U){return ie.H.useEffect(w,U)},me.useEffectEvent=function(w){return ie.H.useEffectEvent(w)},me.useId=function(){return ie.H.useId()},me.useImperativeHandle=function(w,U,X){return ie.H.useImperativeHandle(w,U,X)},me.useInsertionEffect=function(w,U){return ie.H.useInsertionEffect(w,U)},me.useLayoutEffect=function(w,U){return ie.H.useLayoutEffect(w,U)},me.useMemo=function(w,U){return ie.H.useMemo(w,U)},me.useOptimistic=function(w,U){return ie.H.useOptimistic(w,U)},me.useReducer=function(w,U,X){return ie.H.useReducer(w,U,X)},me.useRef=function(w){return ie.H.useRef(w)},me.useState=function(w){return ie.H.useState(w)},me.useSyncExternalStore=function(w,U,X){return ie.H.useSyncExternalStore(w,U,X)},me.useTransition=function(){return ie.H.useTransition()},me.version="19.2.4",me}var cp;function Yd(){return cp||(cp=1,Mu.exports=Vy()),Mu.exports}var O=Yd(),ku={exports:{}},Ul={},Lu={exports:{}},Au={};var up;function Xy(){return up||(up=1,(function(e){function t(M,k){var C=M.length;M.push(k);e:for(;0<C;){var N=C-1>>>1,Y=M[N];if(0<o(Y,k))M[N]=k,M[C]=Y,C=N;else break e}}function r(M){return M.length===0?null:M[0]}function l(M){if(M.length===0)return null;var k=M[0],C=M.pop();if(C!==k){M[0]=C;e:for(var N=0,Y=M.length,w=Y>>>1;N<w;){var U=2*(N+1)-1,X=M[U],se=U+1,re=M[se];if(0>o(X,C))se<Y&&0>o(re,X)?(M[N]=re,M[se]=C,N=se):(M[N]=X,M[U]=C,N=U);else if(se<Y&&0>o(re,C))M[N]=re,M[se]=C,N=se;else break e}}return k}function o(M,k){var C=M.sortIndex-k.sortIndex;return C!==0?C:M.id-k.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var u=Date,_=u.now();e.unstable_now=function(){return u.now()-_}}var g=[],f=[],p=1,m=null,b=3,x=!1,E=!1,D=!1,K=!1,W=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function z(M){for(var k=r(f);k!==null;){if(k.callback===null)l(f);else if(k.startTime<=M)l(f),k.sortIndex=k.expirationTime,t(g,k);else break;k=r(f)}}function Q(M){if(D=!1,z(M),!E)if(r(g)!==null)E=!0,te||(te=!0,A());else{var k=r(f);k!==null&&j(Q,k.startTime-M)}}var te=!1,ie=-1,le=5,fe=-1;function Le(){return K?!0:!(e.unstable_now()-fe<le)}function ae(){if(K=!1,te){var M=e.unstable_now();fe=M;var k=!0;try{e:{E=!1,D&&(D=!1,ee(ie),ie=-1),x=!0;var C=b;try{t:{for(z(M),m=r(g);m!==null&&!(m.expirationTime>M&&Le());){var N=m.callback;if(typeof N=="function"){m.callback=null,b=m.priorityLevel;var Y=N(m.expirationTime<=M);if(M=e.unstable_now(),typeof Y=="function"){m.callback=Y,z(M),k=!0;break t}m===r(g)&&l(g),z(M)}else l(g);m=r(g)}if(m!==null)k=!0;else{var w=r(f);w!==null&&j(Q,w.startTime-M),k=!1}}break e}finally{m=null,b=C,x=!1}k=void 0}}finally{k?A():te=!1}}}var A;if(typeof V=="function")A=function(){V(ae)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,F=T.port2;T.port1.onmessage=ae,A=function(){F.postMessage(null)}}else A=function(){W(ae,0)};function j(M,k){ie=W(function(){M(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(M){switch(b){case 1:case 2:case 3:var k=3;break;default:k=b}var C=b;b=k;try{return M()}finally{b=C}},e.unstable_requestPaint=function(){K=!0},e.unstable_runWithPriority=function(M,k){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var C=b;b=M;try{return k()}finally{b=C}},e.unstable_scheduleCallback=function(M,k,C){var N=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?N+C:N):C=N,M){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=C+Y,M={id:p++,callback:k,priorityLevel:M,startTime:C,expirationTime:Y,sortIndex:-1},C>N?(M.sortIndex=C,t(f,M),r(g)===null&&M===r(f)&&(D?(ee(ie),ie=-1):D=!0,j(Q,C-N))):(M.sortIndex=Y,t(g,M),E||x||(E=!0,te||(te=!0,A()))),M},e.unstable_shouldYield=Le,e.unstable_wrapCallback=function(M){var k=b;return function(){var C=b;b=k;try{return M.apply(this,arguments)}finally{b=C}}}})(Au)),Au}var dp;function Zy(){return dp||(dp=1,Lu.exports=Xy()),Lu.exports}var Tu={exports:{}},Ut={};var fp;function Qy(){if(fp)return Ut;fp=1;var e=Yd();function t(g){var f="https://react.dev/errors/"+g;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+g+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(g,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:m==null?null:""+m,children:g,containerInfo:f,implementation:p}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(g,f){if(g==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Ut.createPortal=function(g,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return h(g,f,null,p)},Ut.flushSync=function(g){var f=u.T,p=l.p;try{if(u.T=null,l.p=2,g)return g()}finally{u.T=f,l.p=p,l.d.f()}},Ut.preconnect=function(g,f){typeof g=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,l.d.C(g,f))},Ut.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},Ut.preinit=function(g,f){if(typeof g=="string"&&f&&typeof f.as=="string"){var p=f.as,m=_(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?l.d.S(g,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:x}):p==="script"&&l.d.X(g,{crossOrigin:m,integrity:b,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ut.preinitModule=function(g,f){if(typeof g=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=_(f.as,f.crossOrigin);l.d.M(g,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&l.d.M(g)},Ut.preload=function(g,f){if(typeof g=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=_(p,f.crossOrigin);l.d.L(g,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ut.preloadModule=function(g,f){if(typeof g=="string")if(f){var p=_(f.as,f.crossOrigin);l.d.m(g,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else l.d.m(g)},Ut.requestFormReset=function(g){l.d.r(g)},Ut.unstable_batchedUpdates=function(g,f){return g(f)},Ut.useFormState=function(g,f,p){return u.H.useFormState(g,f,p)},Ut.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ut.version="19.2.4",Ut}var _p;function Jy(){if(_p)return Tu.exports;_p=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Tu.exports=Qy(),Tu.exports}var gp;function eb(){if(gp)return Ul;gp=1;var e=Zy(),t=Yd(),r=Jy();function l(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)s+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function h(i){var s=i,n=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(n=s.return),i=s.return;while(i)}return s.tag===3?n:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function _(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function g(i){if(h(i)!==i)throw Error(l(188))}function f(i){var s=i.alternate;if(!s){if(s=h(i),s===null)throw Error(l(188));return s!==i?null:i}for(var n=i,a=s;;){var c=n.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){n=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===n)return g(c),i;if(d===a)return g(c),s;d=d.sibling}throw Error(l(188))}if(n.return!==a.return)n=c,a=d;else{for(var v=!1,y=c.child;y;){if(y===n){v=!0,n=c,a=d;break}if(y===a){v=!0,a=c,n=d;break}y=y.sibling}if(!v){for(y=d.child;y;){if(y===n){v=!0,n=d,a=c;break}if(y===a){v=!0,a=d,n=c;break}y=y.sibling}if(!v)throw Error(l(189))}}if(n.alternate!==a)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),V=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),Le=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function A(i){return i===null||typeof i!="object"?null:(i=ae&&i[ae]||i["@@iterator"],typeof i=="function"?i:null)}var T=Symbol.for("react.client.reference");function F(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===T?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case W:return"Profiler";case K:return"StrictMode";case Q:return"Suspense";case te:return"SuspenseList";case fe:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case V:return i.displayName||"Context";case ee:return(i._context.displayName||"Context")+".Consumer";case z:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ie:return s=i.displayName||null,s!==null?s:F(i.type)||"Memo";case le:s=i._payload,i=i._init;try{return F(i(s))}catch{}}return null}var j=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C={pending:!1,data:null,method:null,action:null},N=[],Y=-1;function w(i){return{current:i}}function U(i){0>Y||(i.current=N[Y],N[Y]=null,Y--)}function X(i,s){Y++,N[Y]=i.current,i.current=s}var se=w(null),re=w(null),oe=w(null),ue=w(null);function be(i,s){switch(X(oe,s),X(re,i),X(se,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Tv(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Tv(s),i=Rv(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}U(se),X(se,i)}function pe(){U(se),U(re),U(oe)}function Vt(i){i.memoizedState!==null&&X(ue,i);var s=se.current,n=Rv(s,i.type);s!==n&&(X(re,i),X(se,n))}function Ft(i){re.current===i&&(U(se),U(re)),ue.current===i&&(U(ue),zl._currentValue=C)}var Tt,Ae;function jt(i){if(Tt===void 0)try{throw Error()}catch(n){var s=n.stack.trim().match(/\n( *(at )?)/);Tt=s&&s[1]||"",Ae=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tt+i+Ae}var Pn=!1;function Fn(i,s){if(!i||Pn)return"";Pn=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(s){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var P=q}Reflect.construct(i,[],Z)}else{try{Z.call()}catch(q){P=q}i.call(Z.prototype)}}else{try{throw Error()}catch(q){P=q}(Z=i())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=a.DetermineComponentFrameRoot(),v=d[0],y=d[1];if(v&&y){var L=v.split(`
`),$=y.split(`
`);for(c=a=0;a<L.length&&!L[a].includes("DetermineComponentFrameRoot");)a++;for(;c<$.length&&!$[c].includes("DetermineComponentFrameRoot");)c++;if(a===L.length||c===$.length)for(a=L.length-1,c=$.length-1;1<=a&&0<=c&&L[a]!==$[c];)c--;for(;1<=a&&0<=c;a--,c--)if(L[a]!==$[c]){if(a!==1||c!==1)do if(a--,c--,0>c||L[a]!==$[c]){var I=`
`+L[a].replace(" at new "," at ");return i.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",i.displayName)),I}while(1<=a&&0<=c);break}}}finally{Pn=!1,Error.prepareStackTrace=n}return(n=i?i.displayName||i.name:"")?jt(n):""}function Wn(i,s){switch(i.tag){case 26:case 27:case 5:return jt(i.type);case 16:return jt("Lazy");case 13:return i.child!==s&&s!==null?jt("Suspense Fallback"):jt("Suspense");case 19:return jt("SuspenseList");case 0:case 15:return Fn(i.type,!1);case 11:return Fn(i.type.render,!1);case 1:return Fn(i.type,!0);case 31:return jt("Activity");default:return""}}function qn(i){try{var s="",n=null;do s+=Wn(i,n),n=i,i=i.return;while(i);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Pr=Object.prototype.hasOwnProperty,Yn=e.unstable_scheduleCallback,dh=e.unstable_cancelCallback,E1=e.unstable_shouldYield,M1=e.unstable_requestPaint,li=e.unstable_now,k1=e.unstable_getCurrentPriorityLevel,of=e.unstable_ImmediatePriority,hf=e.unstable_UserBlockingPriority,da=e.unstable_NormalPriority,L1=e.unstable_LowPriority,cf=e.unstable_IdlePriority,A1=e.log,T1=e.unstable_setDisableYieldValue,In=null,ai=null;function As(i){if(typeof A1=="function"&&T1(i),ai&&typeof ai.setStrictMode=="function")try{ai.setStrictMode(In,i)}catch{}}var oi=Math.clz32?Math.clz32:B1,R1=Math.log,D1=Math.LN2;function B1(i){return i>>>=0,i===0?32:31-(R1(i)/D1|0)|0}var fa=256,_a=262144,ga=4194304;function ur(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function va(i,s,n){var a=i.pendingLanes;if(a===0)return 0;var c=0,d=i.suspendedLanes,v=i.pingedLanes;i=i.warmLanes;var y=a&134217727;return y!==0?(a=y&~d,a!==0?c=ur(a):(v&=y,v!==0?c=ur(v):n||(n=y&~i,n!==0&&(c=ur(n))))):(y=a&~d,y!==0?c=ur(y):v!==0?c=ur(v):n||(n=a&~i,n!==0&&(c=ur(n)))),c===0?0:s!==0&&s!==c&&(s&d)===0&&(d=c&-c,n=s&-s,d>=n||d===32&&(n&4194048)!==0)?s:c}function Kn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function z1(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uf(){var i=ga;return ga<<=1,(ga&62914560)===0&&(ga=4194304),i}function fh(i){for(var s=[],n=0;31>n;n++)s.push(i);return s}function Gn(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function O1(i,s,n,a,c,d){var v=i.pendingLanes;i.pendingLanes=n,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=n,i.entangledLanes&=n,i.errorRecoveryDisabledLanes&=n,i.shellSuspendCounter=0;var y=i.entanglements,L=i.expirationTimes,$=i.hiddenUpdates;for(n=v&~n;0<n;){var I=31-oi(n),Z=1<<I;y[I]=0,L[I]=-1;var P=$[I];if(P!==null)for($[I]=null,I=0;I<P.length;I++){var q=P[I];q!==null&&(q.lane&=-536870913)}n&=~Z}a!==0&&df(i,a,0),d!==0&&c===0&&i.tag!==0&&(i.suspendedLanes|=d&~(v&~s))}function df(i,s,n){i.pendingLanes|=s,i.suspendedLanes&=~s;var a=31-oi(s);i.entangledLanes|=s,i.entanglements[a]=i.entanglements[a]|1073741824|n&261930}function ff(i,s){var n=i.entangledLanes|=s;for(i=i.entanglements;n;){var a=31-oi(n),c=1<<a;c&s|i[a]&s&&(i[a]|=s),n&=~c}}function _f(i,s){var n=s&-s;return n=(n&42)!==0?1:_h(n),(n&(i.suspendedLanes|s))!==0?0:n}function _h(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function gh(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function gf(){var i=k.p;return i!==0?i:(i=window.event,i===void 0?32:ep(i.type))}function vf(i,s){var n=k.p;try{return k.p=i,s()}finally{k.p=n}}var Ts=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Ts,Xt="__reactProps$"+Ts,Fr="__reactContainer$"+Ts,vh="__reactEvents$"+Ts,N1="__reactListeners$"+Ts,H1="__reactHandles$"+Ts,pf="__reactResources$"+Ts,Vn="__reactMarker$"+Ts;function ph(i){delete i[Rt],delete i[Xt],delete i[vh],delete i[N1],delete i[H1]}function Wr(i){var s=i[Rt];if(s)return s;for(var n=i.parentNode;n;){if(s=n[Fr]||n[Rt]){if(n=s.alternate,s.child!==null||n!==null&&n.child!==null)for(i=jv(i);i!==null;){if(n=i[Rt])return n;i=jv(i)}return s}i=n,n=i.parentNode}return null}function qr(i){if(i=i[Rt]||i[Fr]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Xn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(l(33))}function Yr(i){var s=i[pf];return s||(s=i[pf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function mt(i){i[Vn]=!0}var mf=new Set,Sf={};function dr(i,s){Ir(i,s),Ir(i+"Capture",s)}function Ir(i,s){for(Sf[i]=s,i=0;i<s.length;i++)mf.add(s[i])}var j1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yf={},bf={};function U1(i){return Pr.call(bf,i)?!0:Pr.call(yf,i)?!1:j1.test(i)?bf[i]=!0:(yf[i]=!0,!1)}function pa(i,s,n){if(U1(s))if(n===null)i.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var a=s.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+n)}}function ma(i,s,n){if(n===null)i.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+n)}}function es(i,s,n,a){if(a===null)i.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(n);return}i.setAttributeNS(s,n,""+a)}}function yi(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xf(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $1(i,s,n){var a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,d=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return c.call(this)},set:function(v){n=""+v,d.call(this,v)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(v){n=""+v},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function mh(i){if(!i._valueTracker){var s=xf(i)?"checked":"value";i._valueTracker=$1(i,s,""+i[s])}}function wf(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var n=s.getValue(),a="";return i&&(a=xf(i)?i.checked?"true":"false":i.value),i=a,i!==n?(s.setValue(i),!0):!1}function Sa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var P1=/[\n"\\]/g;function bi(i){return i.replace(P1,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Sh(i,s,n,a,c,d,v,y){i.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.type=v:i.removeAttribute("type"),s!=null?v==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+yi(s)):i.value!==""+yi(s)&&(i.value=""+yi(s)):v!=="submit"&&v!=="reset"||i.removeAttribute("value"),s!=null?yh(i,v,yi(s)):n!=null?yh(i,v,yi(n)):a!=null&&i.removeAttribute("value"),c==null&&d!=null&&(i.defaultChecked=!!d),c!=null&&(i.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?i.name=""+yi(y):i.removeAttribute("name")}function Cf(i,s,n,a,c,d,v,y){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(i.type=d),s!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){mh(i);return}n=n!=null?""+yi(n):"",s=s!=null?""+yi(s):n,y||s===i.value||(i.value=s),i.defaultValue=s}a=a??c,a=typeof a!="function"&&typeof a!="symbol"&&!!a,i.checked=y?i.checked:!!a,i.defaultChecked=!!a,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.name=v),mh(i)}function yh(i,s,n){s==="number"&&Sa(i.ownerDocument)===i||i.defaultValue===""+n||(i.defaultValue=""+n)}function Kr(i,s,n,a){if(i=i.options,s){s={};for(var c=0;c<n.length;c++)s["$"+n[c]]=!0;for(n=0;n<i.length;n++)c=s.hasOwnProperty("$"+i[n].value),i[n].selected!==c&&(i[n].selected=c),c&&a&&(i[n].defaultSelected=!0)}else{for(n=""+yi(n),s=null,c=0;c<i.length;c++){if(i[c].value===n){i[c].selected=!0,a&&(i[c].defaultSelected=!0);return}s!==null||i[c].disabled||(s=i[c])}s!==null&&(s.selected=!0)}}function Ef(i,s,n){if(s!=null&&(s=""+yi(s),s!==i.value&&(i.value=s),n==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=n!=null?""+yi(n):""}function Mf(i,s,n,a){if(s==null){if(a!=null){if(n!=null)throw Error(l(92));if(j(a)){if(1<a.length)throw Error(l(93));a=a[0]}n=a}n==null&&(n=""),s=n}n=yi(s),i.defaultValue=n,a=i.textContent,a===n&&a!==""&&a!==null&&(i.value=a),mh(i)}function Gr(i,s){if(s){var n=i.firstChild;if(n&&n===i.lastChild&&n.nodeType===3){n.nodeValue=s;return}}i.textContent=s}var F1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kf(i,s,n){var a=s.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":a?i.setProperty(s,n):typeof n!="number"||n===0||F1.has(s)?s==="float"?i.cssFloat=n:i[s]=(""+n).trim():i[s]=n+"px"}function Lf(i,s,n){if(s!=null&&typeof s!="object")throw Error(l(62));if(i=i.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||s!=null&&s.hasOwnProperty(a)||(a.indexOf("--")===0?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="");for(var c in s)a=s[c],s.hasOwnProperty(c)&&n[c]!==a&&kf(i,c,a)}else for(var d in s)s.hasOwnProperty(d)&&kf(i,d,s[d])}function bh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),q1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(i){return q1.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ts(){}var xh=null;function wh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Vr=null,Xr=null;function Af(i){var s=qr(i);if(s&&(i=s.stateNode)){var n=i[Xt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Sh(i,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),s=n.name,n.type==="radio"&&s!=null){for(n=i;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bi(""+s)+'"][type="radio"]'),s=0;s<n.length;s++){var a=n[s];if(a!==i&&a.form===i.form){var c=a[Xt]||null;if(!c)throw Error(l(90));Sh(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(s=0;s<n.length;s++)a=n[s],a.form===i.form&&wf(a)}break e;case"textarea":Ef(i,n.value,n.defaultValue);break e;case"select":s=n.value,s!=null&&Kr(i,!!n.multiple,s,!1)}}}var Ch=!1;function Tf(i,s,n){if(Ch)return i(s,n);Ch=!0;try{var a=i(s);return a}finally{if(Ch=!1,(Vr!==null||Xr!==null)&&(ao(),Vr&&(s=Vr,i=Xr,Xr=Vr=null,Af(s),i)))for(s=0;s<i.length;s++)Af(i[s])}}function Zn(i,s){var n=i.stateNode;if(n===null)return null;var a=n[Xt]||null;if(a===null)return null;n=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(i=i.type,a=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!a;break e;default:i=!1}if(i)return null;if(n&&typeof n!="function")throw Error(l(231,s,typeof n));return n}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eh=!1;if(is)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){Eh=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{Eh=!1}var Rs=null,Mh=null,ba=null;function Rf(){if(ba)return ba;var i,s=Mh,n=s.length,a,c="value"in Rs?Rs.value:Rs.textContent,d=c.length;for(i=0;i<n&&s[i]===c[i];i++);var v=n-i;for(a=1;a<=v&&s[n-a]===c[d-a];a++);return ba=c.slice(i,1<a?1-a:void 0)}function xa(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function wa(){return!0}function Df(){return!1}function Zt(i){function s(n,a,c,d,v){this._reactName=n,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var y in i)i.hasOwnProperty(y)&&(n=i[y],this[y]=n?n(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?wa:Df,this.isPropagationStopped=Df,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wa)},persist:function(){},isPersistent:wa}),s}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=Zt(fr),Jn=m({},fr,{view:0,detail:0}),Y1=Zt(Jn),kh,Lh,el,Ea=m({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Th,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==el&&(el&&i.type==="mousemove"?(kh=i.screenX-el.screenX,Lh=i.screenY-el.screenY):Lh=kh=0,el=i),kh)},movementY:function(i){return"movementY"in i?i.movementY:Lh}}),Bf=Zt(Ea),I1=m({},Ea,{dataTransfer:0}),K1=Zt(I1),G1=m({},Jn,{relatedTarget:0}),Ah=Zt(G1),V1=m({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),X1=Zt(V1),Z1=m({},fr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Q1=Zt(Z1),J1=m({},fr,{data:0}),zf=Zt(J1),eS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sS(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=iS[i])?!!s[i]:!1}function Th(){return sS}var rS=m({},Jn,{key:function(i){if(i.key){var s=eS[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=xa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tS[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Th,charCode:function(i){return i.type==="keypress"?xa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?xa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),nS=Zt(rS),lS=m({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Of=Zt(lS),aS=m({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Th}),oS=Zt(aS),hS=m({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),cS=Zt(hS),uS=m({},Ea,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),dS=Zt(uS),fS=m({},fr,{newState:0,oldState:0}),_S=Zt(fS),gS=[9,13,27,32],Rh=is&&"CompositionEvent"in window,tl=null;is&&"documentMode"in document&&(tl=document.documentMode);var vS=is&&"TextEvent"in window&&!tl,Nf=is&&(!Rh||tl&&8<tl&&11>=tl),Hf=" ",jf=!1;function Uf(i,s){switch(i){case"keyup":return gS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $f(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Zr=!1;function pS(i,s){switch(i){case"compositionend":return $f(s);case"keypress":return s.which!==32?null:(jf=!0,Hf);case"textInput":return i=s.data,i===Hf&&jf?null:i;default:return null}}function mS(i,s){if(Zr)return i==="compositionend"||!Rh&&Uf(i,s)?(i=Rf(),ba=Mh=Rs=null,Zr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Nf&&s.locale!=="ko"?null:s.data;default:return null}}var SS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!SS[i.type]:s==="textarea"}function Ff(i,s,n,a){Vr?Xr?Xr.push(a):Xr=[a]:Vr=a,s=go(s,"onChange"),0<s.length&&(n=new Ca("onChange","change",null,n,a),i.push({event:n,listeners:s}))}var il=null,sl=null;function yS(i){Cv(i,0)}function Ma(i){var s=Xn(i);if(wf(s))return i}function Wf(i,s){if(i==="change")return s}var qf=!1;if(is){var Dh;if(is){var Bh="oninput"in document;if(!Bh){var Yf=document.createElement("div");Yf.setAttribute("oninput","return;"),Bh=typeof Yf.oninput=="function"}Dh=Bh}else Dh=!1;qf=Dh&&(!document.documentMode||9<document.documentMode)}function If(){il&&(il.detachEvent("onpropertychange",Kf),sl=il=null)}function Kf(i){if(i.propertyName==="value"&&Ma(sl)){var s=[];Ff(s,sl,i,wh(i)),Tf(yS,s)}}function bS(i,s,n){i==="focusin"?(If(),il=s,sl=n,il.attachEvent("onpropertychange",Kf)):i==="focusout"&&If()}function xS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ma(sl)}function wS(i,s){if(i==="click")return Ma(s)}function CS(i,s){if(i==="input"||i==="change")return Ma(s)}function ES(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var hi=typeof Object.is=="function"?Object.is:ES;function rl(i,s){if(hi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var n=Object.keys(i),a=Object.keys(s);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var c=n[a];if(!Pr.call(s,c)||!hi(i[c],s[c]))return!1}return!0}function Gf(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Vf(i,s){var n=Gf(i);i=0;for(var a;n;){if(n.nodeType===3){if(a=i+n.textContent.length,i<=s&&a>=s)return{node:n,offset:s-i};i=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gf(n)}}function Xf(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Xf(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Zf(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Sa(i.document);s instanceof i.HTMLIFrameElement;){try{var n=typeof s.contentWindow.location.href=="string"}catch{n=!1}if(n)i=s.contentWindow;else break;s=Sa(i.document)}return s}function zh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var MS=is&&"documentMode"in document&&11>=document.documentMode,Qr=null,Oh=null,nl=null,Nh=!1;function Qf(i,s,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nh||Qr==null||Qr!==Sa(a)||(a=Qr,"selectionStart"in a&&zh(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),nl&&rl(nl,a)||(nl=a,a=go(Oh,"onSelect"),0<a.length&&(s=new Ca("onSelect","select",null,s,n),i.push({event:s,listeners:a}),s.target=Qr)))}function _r(i,s){var n={};return n[i.toLowerCase()]=s.toLowerCase(),n["Webkit"+i]="webkit"+s,n["Moz"+i]="moz"+s,n}var Jr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},Hh={},Jf={};is&&(Jf=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function gr(i){if(Hh[i])return Hh[i];if(!Jr[i])return i;var s=Jr[i],n;for(n in s)if(s.hasOwnProperty(n)&&n in Jf)return Hh[i]=s[n];return i}var e_=gr("animationend"),t_=gr("animationiteration"),i_=gr("animationstart"),kS=gr("transitionrun"),LS=gr("transitionstart"),AS=gr("transitioncancel"),s_=gr("transitionend"),r_=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function Hi(i,s){r_.set(i,s),dr(s,[i])}var ka=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},xi=[],en=0,Uh=0;function La(){for(var i=en,s=Uh=en=0;s<i;){var n=xi[s];xi[s++]=null;var a=xi[s];xi[s++]=null;var c=xi[s];xi[s++]=null;var d=xi[s];if(xi[s++]=null,a!==null&&c!==null){var v=a.pending;v===null?c.next=c:(c.next=v.next,v.next=c),a.pending=c}d!==0&&n_(n,c,d)}}function Aa(i,s,n,a){xi[en++]=i,xi[en++]=s,xi[en++]=n,xi[en++]=a,Uh|=a,i.lanes|=a,i=i.alternate,i!==null&&(i.lanes|=a)}function $h(i,s,n,a){return Aa(i,s,n,a),Ta(i)}function vr(i,s){return Aa(i,null,null,s),Ta(i)}function n_(i,s,n){i.lanes|=n;var a=i.alternate;a!==null&&(a.lanes|=n);for(var c=!1,d=i.return;d!==null;)d.childLanes|=n,a=d.alternate,a!==null&&(a.childLanes|=n),d.tag===22&&(i=d.stateNode,i===null||i._visibility&1||(c=!0)),i=d,d=d.return;return i.tag===3?(d=i.stateNode,c&&s!==null&&(c=31-oi(n),i=d.hiddenUpdates,a=i[c],a===null?i[c]=[s]:a.push(s),s.lane=n|536870912),d):null}function Ta(i){if(50<kl)throw kl=0,Vc=null,Error(l(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var tn={};function TS(i,s,n,a){this.tag=i,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(i,s,n,a){return new TS(i,s,n,a)}function Ph(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ss(i,s){var n=i.alternate;return n===null?(n=ci(i.tag,s,i.key,i.mode),n.elementType=i.elementType,n.type=i.type,n.stateNode=i.stateNode,n.alternate=i,i.alternate=n):(n.pendingProps=s,n.type=i.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=i.flags&65011712,n.childLanes=i.childLanes,n.lanes=i.lanes,n.child=i.child,n.memoizedProps=i.memoizedProps,n.memoizedState=i.memoizedState,n.updateQueue=i.updateQueue,s=i.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},n.sibling=i.sibling,n.index=i.index,n.ref=i.ref,n.refCleanup=i.refCleanup,n}function l_(i,s){i.flags&=65011714;var n=i.alternate;return n===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=n.childLanes,i.lanes=n.lanes,i.child=n.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=n.memoizedProps,i.memoizedState=n.memoizedState,i.updateQueue=n.updateQueue,i.type=n.type,s=n.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Ra(i,s,n,a,c,d){var v=0;if(a=i,typeof i=="function")Ph(i)&&(v=1);else if(typeof i=="string")v=Oy(i,n,se.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case fe:return i=ci(31,n,s,c),i.elementType=fe,i.lanes=d,i;case D:return pr(n.children,c,d,s);case K:v=8,c|=24;break;case W:return i=ci(12,n,s,c|2),i.elementType=W,i.lanes=d,i;case Q:return i=ci(13,n,s,c),i.elementType=Q,i.lanes=d,i;case te:return i=ci(19,n,s,c),i.elementType=te,i.lanes=d,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:v=10;break e;case ee:v=9;break e;case z:v=11;break e;case ie:v=14;break e;case le:v=16,a=null;break e}v=29,n=Error(l(130,i===null?"null":typeof i,"")),a=null}return s=ci(v,n,s,c),s.elementType=i,s.type=a,s.lanes=d,s}function pr(i,s,n,a){return i=ci(7,i,a,s),i.lanes=n,i}function Fh(i,s,n){return i=ci(6,i,null,s),i.lanes=n,i}function a_(i){var s=ci(18,null,null,0);return s.stateNode=i,s}function Wh(i,s,n){return s=ci(4,i.children!==null?i.children:[],i.key,s),s.lanes=n,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var o_=new WeakMap;function wi(i,s){if(typeof i=="object"&&i!==null){var n=o_.get(i);return n!==void 0?n:(s={value:i,source:s,stack:qn(s)},o_.set(i,s),s)}return{value:i,source:s,stack:qn(s)}}var sn=[],rn=0,Da=null,ll=0,Ci=[],Ei=0,Ds=null,Pi=1,Fi="";function rs(i,s){sn[rn++]=ll,sn[rn++]=Da,Da=i,ll=s}function h_(i,s,n){Ci[Ei++]=Pi,Ci[Ei++]=Fi,Ci[Ei++]=Ds,Ds=i;var a=Pi;i=Fi;var c=32-oi(a)-1;a&=~(1<<c),n+=1;var d=32-oi(s)+c;if(30<d){var v=c-c%5;d=(a&(1<<v)-1).toString(32),a>>=v,c-=v,Pi=1<<32-oi(s)+c|n<<c|a,Fi=d+i}else Pi=1<<d|n<<c|a,Fi=i}function qh(i){i.return!==null&&(rs(i,1),h_(i,1,0))}function Yh(i){for(;i===Da;)Da=sn[--rn],sn[rn]=null,ll=sn[--rn],sn[rn]=null;for(;i===Ds;)Ds=Ci[--Ei],Ci[Ei]=null,Fi=Ci[--Ei],Ci[Ei]=null,Pi=Ci[--Ei],Ci[Ei]=null}function c_(i,s){Ci[Ei++]=Pi,Ci[Ei++]=Fi,Ci[Ei++]=Ds,Pi=s.id,Fi=s.overflow,Ds=i}var Dt=null,We=null,Te=!1,Bs=null,Mi=!1,Ih=Error(l(519));function zs(i){var s=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(wi(s,i)),Ih}function u_(i){var s=i.stateNode,n=i.type,a=i.memoizedProps;switch(s[Rt]=i,s[Xt]=a,n){case"dialog":Ee("cancel",s),Ee("close",s);break;case"iframe":case"object":case"embed":Ee("load",s);break;case"video":case"audio":for(n=0;n<Al.length;n++)Ee(Al[n],s);break;case"source":Ee("error",s);break;case"img":case"image":case"link":Ee("error",s),Ee("load",s);break;case"details":Ee("toggle",s);break;case"input":Ee("invalid",s),Cf(s,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ee("invalid",s);break;case"textarea":Ee("invalid",s),Mf(s,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||s.textContent===""+n||a.suppressHydrationWarning===!0||Lv(s.textContent,n)?(a.popover!=null&&(Ee("beforetoggle",s),Ee("toggle",s)),a.onScroll!=null&&Ee("scroll",s),a.onScrollEnd!=null&&Ee("scrollend",s),a.onClick!=null&&(s.onclick=ts),s=!0):s=!1,s||zs(i,!0)}function d_(i){for(Dt=i.return;Dt;)switch(Dt.tag){case 5:case 31:case 13:Mi=!1;return;case 27:case 3:Mi=!0;return;default:Dt=Dt.return}}function nn(i){if(i!==Dt)return!1;if(!Te)return d_(i),Te=!0,!1;var s=i.tag,n;if((n=s!==3&&s!==27)&&((n=s===5)&&(n=i.type,n=!(n!=="form"&&n!=="button")||cu(i.type,i.memoizedProps)),n=!n),n&&We&&zs(i),d_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(l(317));We=Hv(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(l(317));We=Hv(i)}else s===27?(s=We,Gs(i.type)?(i=gu,gu=null,We=i):We=s):We=Dt?Li(i.stateNode.nextSibling):null;return!0}function mr(){We=Dt=null,Te=!1}function Kh(){var i=Bs;return i!==null&&(ti===null?ti=i:ti.push.apply(ti,i),Bs=null),i}function al(i){Bs===null?Bs=[i]:Bs.push(i)}var Gh=w(null),Sr=null,ns=null;function Os(i,s,n){X(Gh,s._currentValue),s._currentValue=n}function ls(i){i._currentValue=Gh.current,U(Gh)}function Vh(i,s,n){for(;i!==null;){var a=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),i===n)break;i=i.return}}function Xh(i,s,n,a){var c=i.child;for(c!==null&&(c.return=i);c!==null;){var d=c.dependencies;if(d!==null){var v=c.child;d=d.firstContext;e:for(;d!==null;){var y=d;d=c;for(var L=0;L<s.length;L++)if(y.context===s[L]){d.lanes|=n,y=d.alternate,y!==null&&(y.lanes|=n),Vh(d.return,n,i),a||(v=null);break e}d=y.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(l(341));v.lanes|=n,d=v.alternate,d!==null&&(d.lanes|=n),Vh(v,n,i),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===i){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function ln(i,s,n,a){i=null;for(var c=s,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(l(387));if(v=v.memoizedProps,v!==null){var y=c.type;hi(c.pendingProps.value,v.value)||(i!==null?i.push(y):i=[y])}}else if(c===ue.current){if(v=c.alternate,v===null)throw Error(l(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(i!==null?i.push(zl):i=[zl])}c=c.return}i!==null&&Xh(s,i,n,a),s.flags|=262144}function Ba(i){for(i=i.firstContext;i!==null;){if(!hi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function yr(i){Sr=i,ns=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Bt(i){return f_(Sr,i)}function za(i,s){return Sr===null&&yr(i),f_(i,s)}function f_(i,s){var n=s._currentValue;if(s={context:s,memoizedValue:n,next:null},ns===null){if(i===null)throw Error(l(308));ns=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ns=ns.next=s;return n}var RS=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(n,a){i.push(a)}};this.abort=function(){s.aborted=!0,i.forEach(function(n){return n()})}},DS=e.unstable_scheduleCallback,BS=e.unstable_NormalPriority,at={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new RS,data:new Map,refCount:0}}function ol(i){i.refCount--,i.refCount===0&&DS(BS,function(){i.controller.abort()})}var hl=null,Qh=0,an=0,on=null;function zS(i,s){if(hl===null){var n=hl=[];Qh=0,an=tu(),on={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Qh++,s.then(__,__),s}function __(){if(--Qh===0&&hl!==null){on!==null&&(on.status="fulfilled");var i=hl;hl=null,an=0,on=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function OS(i,s){var n=[],a={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return i.then(function(){a.status="fulfilled",a.value=s;for(var c=0;c<n.length;c++)(0,n[c])(s)},function(c){for(a.status="rejected",a.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),a}var g_=M.S;M.S=function(i,s){Qg=li(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&zS(i,s),g_!==null&&g_(i,s)};var br=w(null);function Jh(){var i=br.current;return i!==null?i:Fe.pooledCache}function Oa(i,s){s===null?X(br,br.current):X(br,s.pool)}function v_(){var i=Jh();return i===null?null:{parent:at._currentValue,pool:i}}var hn=Error(l(460)),ec=Error(l(474)),Na=Error(l(542)),Ha={then:function(){}};function p_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function m_(i,s,n){switch(n=i[n],n===void 0?i.push(s):n!==s&&(s.then(ts,ts),s=n),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,y_(i),i;default:if(typeof s.status=="string")s.then(ts,ts);else{if(i=Fe,i!==null&&100<i.shellSuspendCounter)throw Error(l(482));i=s,i.status="pending",i.then(function(a){if(s.status==="pending"){var c=s;c.status="fulfilled",c.value=a}},function(a){if(s.status==="pending"){var c=s;c.status="rejected",c.reason=a}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,y_(i),i}throw wr=s,hn}}function xr(i){try{var s=i._init;return s(i._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(wr=n,hn):n}}var wr=null;function S_(){if(wr===null)throw Error(l(459));var i=wr;return wr=null,i}function y_(i){if(i===hn||i===Na)throw Error(l(483))}var cn=null,cl=0;function ja(i){var s=cl;return cl+=1,cn===null&&(cn=[]),m_(cn,i,s)}function ul(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Ua(i,s){throw s.$$typeof===b?Error(l(525)):(i=Object.prototype.toString.call(s),Error(l(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function b_(i){function s(B,R){if(i){var H=B.deletions;H===null?(B.deletions=[R],B.flags|=16):H.push(R)}}function n(B,R){if(!i)return null;for(;R!==null;)s(B,R),R=R.sibling;return null}function a(B){for(var R=new Map;B!==null;)B.key!==null?R.set(B.key,B):R.set(B.index,B),B=B.sibling;return R}function c(B,R){return B=ss(B,R),B.index=0,B.sibling=null,B}function d(B,R,H){return B.index=H,i?(H=B.alternate,H!==null?(H=H.index,H<R?(B.flags|=67108866,R):H):(B.flags|=67108866,R)):(B.flags|=1048576,R)}function v(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function y(B,R,H,G){return R===null||R.tag!==6?(R=Fh(H,B.mode,G),R.return=B,R):(R=c(R,H),R.return=B,R)}function L(B,R,H,G){var _e=H.type;return _e===D?I(B,R,H.props.children,G,H.key):R!==null&&(R.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===le&&xr(_e)===R.type)?(R=c(R,H.props),ul(R,H),R.return=B,R):(R=Ra(H.type,H.key,H.props,null,B.mode,G),ul(R,H),R.return=B,R)}function $(B,R,H,G){return R===null||R.tag!==4||R.stateNode.containerInfo!==H.containerInfo||R.stateNode.implementation!==H.implementation?(R=Wh(H,B.mode,G),R.return=B,R):(R=c(R,H.children||[]),R.return=B,R)}function I(B,R,H,G,_e){return R===null||R.tag!==7?(R=pr(H,B.mode,G,_e),R.return=B,R):(R=c(R,H),R.return=B,R)}function Z(B,R,H){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Fh(""+R,B.mode,H),R.return=B,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case x:return H=Ra(R.type,R.key,R.props,null,B.mode,H),ul(H,R),H.return=B,H;case E:return R=Wh(R,B.mode,H),R.return=B,R;case le:return R=xr(R),Z(B,R,H)}if(j(R)||A(R))return R=pr(R,B.mode,H,null),R.return=B,R;if(typeof R.then=="function")return Z(B,ja(R),H);if(R.$$typeof===V)return Z(B,za(B,R),H);Ua(B,R)}return null}function P(B,R,H,G){var _e=R!==null?R.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return _e!==null?null:y(B,R,""+H,G);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return H.key===_e?L(B,R,H,G):null;case E:return H.key===_e?$(B,R,H,G):null;case le:return H=xr(H),P(B,R,H,G)}if(j(H)||A(H))return _e!==null?null:I(B,R,H,G,null);if(typeof H.then=="function")return P(B,R,ja(H),G);if(H.$$typeof===V)return P(B,R,za(B,H),G);Ua(B,H)}return null}function q(B,R,H,G,_e){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return B=B.get(H)||null,y(R,B,""+G,_e);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return B=B.get(G.key===null?H:G.key)||null,L(R,B,G,_e);case E:return B=B.get(G.key===null?H:G.key)||null,$(R,B,G,_e);case le:return G=xr(G),q(B,R,H,G,_e)}if(j(G)||A(G))return B=B.get(H)||null,I(R,B,G,_e,null);if(typeof G.then=="function")return q(B,R,H,ja(G),_e);if(G.$$typeof===V)return q(B,R,H,za(R,G),_e);Ua(R,G)}return null}function ce(B,R,H,G){for(var _e=null,De=null,de=R,ye=R=0,ke=null;de!==null&&ye<H.length;ye++){de.index>ye?(ke=de,de=null):ke=de.sibling;var Be=P(B,de,H[ye],G);if(Be===null){de===null&&(de=ke);break}i&&de&&Be.alternate===null&&s(B,de),R=d(Be,R,ye),De===null?_e=Be:De.sibling=Be,De=Be,de=ke}if(ye===H.length)return n(B,de),Te&&rs(B,ye),_e;if(de===null){for(;ye<H.length;ye++)de=Z(B,H[ye],G),de!==null&&(R=d(de,R,ye),De===null?_e=de:De.sibling=de,De=de);return Te&&rs(B,ye),_e}for(de=a(de);ye<H.length;ye++)ke=q(de,B,ye,H[ye],G),ke!==null&&(i&&ke.alternate!==null&&de.delete(ke.key===null?ye:ke.key),R=d(ke,R,ye),De===null?_e=ke:De.sibling=ke,De=ke);return i&&de.forEach(function(Js){return s(B,Js)}),Te&&rs(B,ye),_e}function ge(B,R,H,G){if(H==null)throw Error(l(151));for(var _e=null,De=null,de=R,ye=R=0,ke=null,Be=H.next();de!==null&&!Be.done;ye++,Be=H.next()){de.index>ye?(ke=de,de=null):ke=de.sibling;var Js=P(B,de,Be.value,G);if(Js===null){de===null&&(de=ke);break}i&&de&&Js.alternate===null&&s(B,de),R=d(Js,R,ye),De===null?_e=Js:De.sibling=Js,De=Js,de=ke}if(Be.done)return n(B,de),Te&&rs(B,ye),_e;if(de===null){for(;!Be.done;ye++,Be=H.next())Be=Z(B,Be.value,G),Be!==null&&(R=d(Be,R,ye),De===null?_e=Be:De.sibling=Be,De=Be);return Te&&rs(B,ye),_e}for(de=a(de);!Be.done;ye++,Be=H.next())Be=q(de,B,ye,Be.value,G),Be!==null&&(i&&Be.alternate!==null&&de.delete(Be.key===null?ye:Be.key),R=d(Be,R,ye),De===null?_e=Be:De.sibling=Be,De=Be);return i&&de.forEach(function(Iy){return s(B,Iy)}),Te&&rs(B,ye),_e}function $e(B,R,H,G){if(typeof H=="object"&&H!==null&&H.type===D&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case x:e:{for(var _e=H.key;R!==null;){if(R.key===_e){if(_e=H.type,_e===D){if(R.tag===7){n(B,R.sibling),G=c(R,H.props.children),G.return=B,B=G;break e}}else if(R.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===le&&xr(_e)===R.type){n(B,R.sibling),G=c(R,H.props),ul(G,H),G.return=B,B=G;break e}n(B,R);break}else s(B,R);R=R.sibling}H.type===D?(G=pr(H.props.children,B.mode,G,H.key),G.return=B,B=G):(G=Ra(H.type,H.key,H.props,null,B.mode,G),ul(G,H),G.return=B,B=G)}return v(B);case E:e:{for(_e=H.key;R!==null;){if(R.key===_e)if(R.tag===4&&R.stateNode.containerInfo===H.containerInfo&&R.stateNode.implementation===H.implementation){n(B,R.sibling),G=c(R,H.children||[]),G.return=B,B=G;break e}else{n(B,R);break}else s(B,R);R=R.sibling}G=Wh(H,B.mode,G),G.return=B,B=G}return v(B);case le:return H=xr(H),$e(B,R,H,G)}if(j(H))return ce(B,R,H,G);if(A(H)){if(_e=A(H),typeof _e!="function")throw Error(l(150));return H=_e.call(H),ge(B,R,H,G)}if(typeof H.then=="function")return $e(B,R,ja(H),G);if(H.$$typeof===V)return $e(B,R,za(B,H),G);Ua(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,R!==null&&R.tag===6?(n(B,R.sibling),G=c(R,H),G.return=B,B=G):(n(B,R),G=Fh(H,B.mode,G),G.return=B,B=G),v(B)):n(B,R)}return function(B,R,H,G){try{cl=0;var _e=$e(B,R,H,G);return cn=null,_e}catch(de){if(de===hn||de===Na)throw de;var De=ci(29,de,null,B.mode);return De.lanes=G,De.return=B,De}}}var Cr=b_(!0),x_=b_(!1),Ns=!1;function tc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ic(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Hs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function js(i,s,n){var a=i.updateQueue;if(a===null)return null;if(a=a.shared,(ze&2)!==0){var c=a.pending;return c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s,s=Ta(i),n_(i,null,n),s}return Aa(i,a,s,n),Ta(i)}function dl(i,s,n){if(s=s.updateQueue,s!==null&&(s=s.shared,(n&4194048)!==0)){var a=s.lanes;a&=i.pendingLanes,n|=a,s.lanes=n,ff(i,n)}}function sc(i,s){var n=i.updateQueue,a=i.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var c=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var v={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?c=d=v:d=d.next=v,n=n.next}while(n!==null);d===null?c=d=s:d=d.next=s}else c=d=s;n={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,callbacks:a.callbacks},i.updateQueue=n;return}i=n.lastBaseUpdate,i===null?n.firstBaseUpdate=s:i.next=s,n.lastBaseUpdate=s}var rc=!1;function fl(){if(rc){var i=on;if(i!==null)throw i}}function _l(i,s,n,a){rc=!1;var c=i.updateQueue;Ns=!1;var d=c.firstBaseUpdate,v=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var L=y,$=L.next;L.next=null,v===null?d=$:v.next=$,v=L;var I=i.alternate;I!==null&&(I=I.updateQueue,y=I.lastBaseUpdate,y!==v&&(y===null?I.firstBaseUpdate=$:y.next=$,I.lastBaseUpdate=L))}if(d!==null){var Z=c.baseState;v=0,I=$=L=null,y=d;do{var P=y.lane&-536870913,q=P!==y.lane;if(q?(Me&P)===P:(a&P)===P){P!==0&&P===an&&(rc=!0),I!==null&&(I=I.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var ce=i,ge=y;P=s;var $e=n;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){Z=ce.call($e,Z,P);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,P=typeof ce=="function"?ce.call($e,Z,P):ce,P==null)break e;Z=m({},Z,P);break e;case 2:Ns=!0}}P=y.callback,P!==null&&(i.flags|=64,q&&(i.flags|=8192),q=c.callbacks,q===null?c.callbacks=[P]:q.push(P))}else q={lane:P,tag:y.tag,payload:y.payload,callback:y.callback,next:null},I===null?($=I=q,L=Z):I=I.next=q,v|=P;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;q=y,y=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);I===null&&(L=Z),c.baseState=L,c.firstBaseUpdate=$,c.lastBaseUpdate=I,d===null&&(c.shared.lanes=0),Ws|=v,i.lanes=v,i.memoizedState=Z}}function w_(i,s){if(typeof i!="function")throw Error(l(191,i));i.call(s)}function C_(i,s){var n=i.callbacks;if(n!==null)for(i.callbacks=null,i=0;i<n.length;i++)w_(n[i],s)}var un=w(null),$a=w(0);function E_(i,s){i=gs,X($a,i),X(un,s),gs=i|s.baseLanes}function nc(){X($a,gs),X(un,un.current)}function lc(){gs=$a.current,U(un),U($a)}var ui=w(null),ki=null;function Us(i){var s=i.alternate;X(rt,rt.current&1),X(ui,i),ki===null&&(s===null||un.current!==null||s.memoizedState!==null)&&(ki=i)}function ac(i){X(rt,rt.current),X(ui,i),ki===null&&(ki=i)}function M_(i){i.tag===22?(X(rt,rt.current),X(ui,i),ki===null&&(ki=i)):$s()}function $s(){X(rt,rt.current),X(ui,ui.current)}function di(i){U(ui),ki===i&&(ki=null),U(rt)}var rt=w(0);function Pa(i){for(var s=i;s!==null;){if(s.tag===13){var n=s.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||fu(n)||_u(n)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var as=0,Se=null,je=null,ot=null,Fa=!1,dn=!1,Er=!1,Wa=0,gl=0,fn=null,NS=0;function Qe(){throw Error(l(321))}function oc(i,s){if(s===null)return!1;for(var n=0;n<s.length&&n<i.length;n++)if(!hi(i[n],s[n]))return!1;return!0}function hc(i,s,n,a,c,d){return as=d,Se=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,M.H=i===null||i.memoizedState===null?hg:Cc,Er=!1,d=n(a,c),Er=!1,dn&&(d=L_(s,n,a,c)),k_(i),d}function k_(i){M.H=ml;var s=je!==null&&je.next!==null;if(as=0,ot=je=Se=null,Fa=!1,gl=0,fn=null,s)throw Error(l(300));i===null||ht||(i=i.dependencies,i!==null&&Ba(i)&&(ht=!0))}function L_(i,s,n,a){Se=i;var c=0;do{if(dn&&(fn=null),gl=0,dn=!1,25<=c)throw Error(l(301));if(c+=1,ot=je=null,i.updateQueue!=null){var d=i.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}M.H=cg,d=s(n,a)}while(dn);return d}function HS(){var i=M.H,s=i.useState()[0];return s=typeof s.then=="function"?vl(s):s,i=i.useState()[0],(je!==null?je.memoizedState:null)!==i&&(Se.flags|=1024),s}function cc(){var i=Wa!==0;return Wa=0,i}function uc(i,s,n){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~n}function dc(i){if(Fa){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Fa=!1}as=0,ot=je=Se=null,dn=!1,gl=Wa=0,fn=null}function Wt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Se.memoizedState=ot=i:ot=ot.next=i,ot}function nt(){if(je===null){var i=Se.alternate;i=i!==null?i.memoizedState:null}else i=je.next;var s=ot===null?Se.memoizedState:ot.next;if(s!==null)ot=s,je=i;else{if(i===null)throw Se.alternate===null?Error(l(467)):Error(l(310));je=i,i={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},ot===null?Se.memoizedState=ot=i:ot=ot.next=i}return ot}function qa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(i){var s=gl;return gl+=1,fn===null&&(fn=[]),i=m_(fn,i,s),s=Se,(ot===null?s.memoizedState:ot.next)===null&&(s=s.alternate,M.H=s===null||s.memoizedState===null?hg:Cc),i}function Ya(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return vl(i);if(i.$$typeof===V)return Bt(i)}throw Error(l(438,String(i)))}function fc(i){var s=null,n=Se.updateQueue;if(n!==null&&(s=n.memoCache),s==null){var a=Se.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(s={data:a.data.map(function(c){return c.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),n===null&&(n=qa(),Se.updateQueue=n),n.memoCache=s,n=s.data[s.index],n===void 0)for(n=s.data[s.index]=Array(i),a=0;a<i;a++)n[a]=Le;return s.index++,n}function os(i,s){return typeof s=="function"?s(i):s}function Ia(i){var s=nt();return _c(s,je,i)}function _c(i,s,n){var a=i.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=n;var c=i.baseQueue,d=a.pending;if(d!==null){if(c!==null){var v=c.next;c.next=d.next,d.next=v}s.baseQueue=c=d,a.pending=null}if(d=i.baseState,c===null)i.memoizedState=d;else{s=c.next;var y=v=null,L=null,$=s,I=!1;do{var Z=$.lane&-536870913;if(Z!==$.lane?(Me&Z)===Z:(as&Z)===Z){var P=$.revertLane;if(P===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),Z===an&&(I=!0);else if((as&P)===P){$=$.next,P===an&&(I=!0);continue}else Z={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},L===null?(y=L=Z,v=d):L=L.next=Z,Se.lanes|=P,Ws|=P;Z=$.action,Er&&n(d,Z),d=$.hasEagerState?$.eagerState:n(d,Z)}else P={lane:Z,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},L===null?(y=L=P,v=d):L=L.next=P,Se.lanes|=Z,Ws|=Z;$=$.next}while($!==null&&$!==s);if(L===null?v=d:L.next=y,!hi(d,i.memoizedState)&&(ht=!0,I&&(n=on,n!==null)))throw n;i.memoizedState=d,i.baseState=v,i.baseQueue=L,a.lastRenderedState=d}return c===null&&(a.lanes=0),[i.memoizedState,a.dispatch]}function gc(i){var s=nt(),n=s.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=i;var a=n.dispatch,c=n.pending,d=s.memoizedState;if(c!==null){n.pending=null;var v=c=c.next;do d=i(d,v.action),v=v.next;while(v!==c);hi(d,s.memoizedState)||(ht=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),n.lastRenderedState=d}return[d,a]}function A_(i,s,n){var a=Se,c=nt(),d=Te;if(d){if(n===void 0)throw Error(l(407));n=n()}else n=s();var v=!hi((je||c).memoizedState,n);if(v&&(c.memoizedState=n,ht=!0),c=c.queue,mc(D_.bind(null,a,c,i),[i]),c.getSnapshot!==s||v||ot!==null&&ot.memoizedState.tag&1){if(a.flags|=2048,_n(9,{destroy:void 0},R_.bind(null,a,c,n,s),null),Fe===null)throw Error(l(349));d||(as&127)!==0||T_(a,s,n)}return n}function T_(i,s,n){i.flags|=16384,i={getSnapshot:s,value:n},s=Se.updateQueue,s===null?(s=qa(),Se.updateQueue=s,s.stores=[i]):(n=s.stores,n===null?s.stores=[i]:n.push(i))}function R_(i,s,n,a){s.value=n,s.getSnapshot=a,B_(s)&&z_(i)}function D_(i,s,n){return n(function(){B_(s)&&z_(i)})}function B_(i){var s=i.getSnapshot;i=i.value;try{var n=s();return!hi(i,n)}catch{return!0}}function z_(i){var s=vr(i,2);s!==null&&ii(s,i,2)}function vc(i){var s=Wt();if(typeof i=="function"){var n=i;if(i=n(),Er){As(!0);try{n()}finally{As(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:i},s}function O_(i,s,n,a){return i.baseState=n,_c(i,je,typeof a=="function"?a:os)}function jS(i,s,n,a,c){if(Va(i))throw Error(l(485));if(i=s.action,i!==null){var d={payload:c,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};M.T!==null?n(!0):d.isTransition=!1,a(d),n=s.pending,n===null?(d.next=s.pending=d,N_(s,d)):(d.next=n.next,s.pending=n.next=d)}}function N_(i,s){var n=s.action,a=s.payload,c=i.state;if(s.isTransition){var d=M.T,v={};M.T=v;try{var y=n(c,a),L=M.S;L!==null&&L(v,y),H_(i,s,y)}catch($){pc(i,s,$)}finally{d!==null&&v.types!==null&&(d.types=v.types),M.T=d}}else try{d=n(c,a),H_(i,s,d)}catch($){pc(i,s,$)}}function H_(i,s,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){j_(i,s,a)},function(a){return pc(i,s,a)}):j_(i,s,n)}function j_(i,s,n){s.status="fulfilled",s.value=n,U_(s),i.state=n,s=i.pending,s!==null&&(n=s.next,n===s?i.pending=null:(n=n.next,s.next=n,N_(i,n)))}function pc(i,s,n){var a=i.pending;if(i.pending=null,a!==null){a=a.next;do s.status="rejected",s.reason=n,U_(s),s=s.next;while(s!==a)}i.action=null}function U_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function $_(i,s){return s}function P_(i,s){if(Te){var n=Fe.formState;if(n!==null){e:{var a=Se;if(Te){if(We){t:{for(var c=We,d=Mi;c.nodeType!==8;){if(!d){c=null;break t}if(c=Li(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){We=Li(c.nextSibling),a=c.data==="F!";break e}}zs(a)}a=!1}a&&(s=n[0])}}return n=Wt(),n.memoizedState=n.baseState=s,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$_,lastRenderedState:s},n.queue=a,n=lg.bind(null,Se,a),a.dispatch=n,a=vc(!1),d=wc.bind(null,Se,!1,a.queue),a=Wt(),c={state:s,dispatch:null,action:i,pending:null},a.queue=c,n=jS.bind(null,Se,c,d,n),c.dispatch=n,a.memoizedState=i,[s,n,!1]}function F_(i){var s=nt();return W_(s,je,i)}function W_(i,s,n){if(s=_c(i,s,$_)[0],i=Ia(os)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var a=vl(s)}catch(v){throw v===hn?Na:v}else a=s;s=nt();var c=s.queue,d=c.dispatch;return n!==s.memoizedState&&(Se.flags|=2048,_n(9,{destroy:void 0},US.bind(null,c,n),null)),[a,d,i]}function US(i,s){i.action=s}function q_(i){var s=nt(),n=je;if(n!==null)return W_(s,n,i);nt(),s=s.memoizedState,n=nt();var a=n.queue.dispatch;return n.memoizedState=i,[s,a,!1]}function _n(i,s,n,a){return i={tag:i,create:n,deps:a,inst:s,next:null},s=Se.updateQueue,s===null&&(s=qa(),Se.updateQueue=s),n=s.lastEffect,n===null?s.lastEffect=i.next=i:(a=n.next,n.next=i,i.next=a,s.lastEffect=i),i}function Y_(){return nt().memoizedState}function Ka(i,s,n,a){var c=Wt();Se.flags|=i,c.memoizedState=_n(1|s,{destroy:void 0},n,a===void 0?null:a)}function Ga(i,s,n,a){var c=nt();a=a===void 0?null:a;var d=c.memoizedState.inst;je!==null&&a!==null&&oc(a,je.memoizedState.deps)?c.memoizedState=_n(s,d,n,a):(Se.flags|=i,c.memoizedState=_n(1|s,d,n,a))}function I_(i,s){Ka(8390656,8,i,s)}function mc(i,s){Ga(2048,8,i,s)}function $S(i){Se.flags|=4;var s=Se.updateQueue;if(s===null)s=qa(),Se.updateQueue=s,s.events=[i];else{var n=s.events;n===null?s.events=[i]:n.push(i)}}function K_(i){var s=nt().memoizedState;return $S({ref:s,nextImpl:i}),function(){if((ze&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}function G_(i,s){return Ga(4,2,i,s)}function V_(i,s){return Ga(4,4,i,s)}function X_(i,s){if(typeof s=="function"){i=i();var n=s(i);return function(){typeof n=="function"?n():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Z_(i,s,n){n=n!=null?n.concat([i]):null,Ga(4,4,X_.bind(null,s,i),n)}function Sc(){}function Q_(i,s){var n=nt();s=s===void 0?null:s;var a=n.memoizedState;return s!==null&&oc(s,a[1])?a[0]:(n.memoizedState=[i,s],i)}function J_(i,s){var n=nt();s=s===void 0?null:s;var a=n.memoizedState;if(s!==null&&oc(s,a[1]))return a[0];if(a=i(),Er){As(!0);try{i()}finally{As(!1)}}return n.memoizedState=[a,s],a}function yc(i,s,n){return n===void 0||(as&1073741824)!==0&&(Me&261930)===0?i.memoizedState=s:(i.memoizedState=n,i=ev(),Se.lanes|=i,Ws|=i,n)}function eg(i,s,n,a){return hi(n,s)?n:un.current!==null?(i=yc(i,n,a),hi(i,s)||(ht=!0),i):(as&42)===0||(as&1073741824)!==0&&(Me&261930)===0?(ht=!0,i.memoizedState=n):(i=ev(),Se.lanes|=i,Ws|=i,s)}function tg(i,s,n,a,c){var d=k.p;k.p=d!==0&&8>d?d:8;var v=M.T,y={};M.T=y,wc(i,!1,s,n);try{var L=c(),$=M.S;if($!==null&&$(y,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var I=OS(L,a);pl(i,s,I,gi(i))}else pl(i,s,a,gi(i))}catch(Z){pl(i,s,{then:function(){},status:"rejected",reason:Z},gi())}finally{k.p=d,v!==null&&y.types!==null&&(v.types=y.types),M.T=v}}function PS(){}function bc(i,s,n,a){if(i.tag!==5)throw Error(l(476));var c=ig(i).queue;tg(i,c,s,C,n===null?PS:function(){return sg(i),n(a)})}function ig(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:C,baseState:C,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:C},next:null};var n={};return s.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:n},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function sg(i){var s=ig(i);s.next===null&&(s=i.alternate.memoizedState),pl(i,s.next.queue,{},gi())}function xc(){return Bt(zl)}function rg(){return nt().memoizedState}function ng(){return nt().memoizedState}function FS(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var n=gi();i=Hs(n);var a=js(s,i,n);a!==null&&(ii(a,s,n),dl(a,s,n)),s={cache:Zh()},i.payload=s;return}s=s.return}}function WS(i,s,n){var a=gi();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Va(i)?ag(s,n):(n=$h(i,s,n,a),n!==null&&(ii(n,i,a),og(n,s,a)))}function lg(i,s,n){var a=gi();pl(i,s,n,a)}function pl(i,s,n,a){var c={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Va(i))ag(s,c);else{var d=i.alternate;if(i.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var v=s.lastRenderedState,y=d(v,n);if(c.hasEagerState=!0,c.eagerState=y,hi(y,v))return Aa(i,s,c,0),Fe===null&&La(),!1}catch{}if(n=$h(i,s,c,a),n!==null)return ii(n,i,a),og(n,s,a),!0}return!1}function wc(i,s,n,a){if(a={lane:2,revertLane:tu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Va(i)){if(s)throw Error(l(479))}else s=$h(i,n,a,2),s!==null&&ii(s,i,2)}function Va(i){var s=i.alternate;return i===Se||s!==null&&s===Se}function ag(i,s){dn=Fa=!0;var n=i.pending;n===null?s.next=s:(s.next=n.next,n.next=s),i.pending=s}function og(i,s,n){if((n&4194048)!==0){var a=s.lanes;a&=i.pendingLanes,n|=a,s.lanes=n,ff(i,n)}}var ml={readContext:Bt,use:Ya,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};ml.useEffectEvent=Qe;var hg={readContext:Bt,use:Ya,useCallback:function(i,s){return Wt().memoizedState=[i,s===void 0?null:s],i},useContext:Bt,useEffect:I_,useImperativeHandle:function(i,s,n){n=n!=null?n.concat([i]):null,Ka(4194308,4,X_.bind(null,s,i),n)},useLayoutEffect:function(i,s){return Ka(4194308,4,i,s)},useInsertionEffect:function(i,s){Ka(4,2,i,s)},useMemo:function(i,s){var n=Wt();s=s===void 0?null:s;var a=i();if(Er){As(!0);try{i()}finally{As(!1)}}return n.memoizedState=[a,s],a},useReducer:function(i,s,n){var a=Wt();if(n!==void 0){var c=n(s);if(Er){As(!0);try{n(s)}finally{As(!1)}}}else c=s;return a.memoizedState=a.baseState=c,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:c},a.queue=i,i=i.dispatch=WS.bind(null,Se,i),[a.memoizedState,i]},useRef:function(i){var s=Wt();return i={current:i},s.memoizedState=i},useState:function(i){i=vc(i);var s=i.queue,n=lg.bind(null,Se,s);return s.dispatch=n,[i.memoizedState,n]},useDebugValue:Sc,useDeferredValue:function(i,s){var n=Wt();return yc(n,i,s)},useTransition:function(){var i=vc(!1);return i=tg.bind(null,Se,i.queue,!0,!1),Wt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,n){var a=Se,c=Wt();if(Te){if(n===void 0)throw Error(l(407));n=n()}else{if(n=s(),Fe===null)throw Error(l(349));(Me&127)!==0||T_(a,s,n)}c.memoizedState=n;var d={value:n,getSnapshot:s};return c.queue=d,I_(D_.bind(null,a,d,i),[i]),a.flags|=2048,_n(9,{destroy:void 0},R_.bind(null,a,d,n,s),null),n},useId:function(){var i=Wt(),s=Fe.identifierPrefix;if(Te){var n=Fi,a=Pi;n=(a&~(1<<32-oi(a)-1)).toString(32)+n,s="_"+s+"R_"+n,n=Wa++,0<n&&(s+="H"+n.toString(32)),s+="_"}else n=NS++,s="_"+s+"r_"+n.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:xc,useFormState:P_,useActionState:P_,useOptimistic:function(i){var s=Wt();s.memoizedState=s.baseState=i;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=n,s=wc.bind(null,Se,!0,n),n.dispatch=s,[i,s]},useMemoCache:fc,useCacheRefresh:function(){return Wt().memoizedState=FS.bind(null,Se)},useEffectEvent:function(i){var s=Wt(),n={impl:i};return s.memoizedState=n,function(){if((ze&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},Cc={readContext:Bt,use:Ya,useCallback:Q_,useContext:Bt,useEffect:mc,useImperativeHandle:Z_,useInsertionEffect:G_,useLayoutEffect:V_,useMemo:J_,useReducer:Ia,useRef:Y_,useState:function(){return Ia(os)},useDebugValue:Sc,useDeferredValue:function(i,s){var n=nt();return eg(n,je.memoizedState,i,s)},useTransition:function(){var i=Ia(os)[0],s=nt().memoizedState;return[typeof i=="boolean"?i:vl(i),s]},useSyncExternalStore:A_,useId:rg,useHostTransitionStatus:xc,useFormState:F_,useActionState:F_,useOptimistic:function(i,s){var n=nt();return O_(n,je,i,s)},useMemoCache:fc,useCacheRefresh:ng};Cc.useEffectEvent=K_;var cg={readContext:Bt,use:Ya,useCallback:Q_,useContext:Bt,useEffect:mc,useImperativeHandle:Z_,useInsertionEffect:G_,useLayoutEffect:V_,useMemo:J_,useReducer:gc,useRef:Y_,useState:function(){return gc(os)},useDebugValue:Sc,useDeferredValue:function(i,s){var n=nt();return je===null?yc(n,i,s):eg(n,je.memoizedState,i,s)},useTransition:function(){var i=gc(os)[0],s=nt().memoizedState;return[typeof i=="boolean"?i:vl(i),s]},useSyncExternalStore:A_,useId:rg,useHostTransitionStatus:xc,useFormState:q_,useActionState:q_,useOptimistic:function(i,s){var n=nt();return je!==null?O_(n,je,i,s):(n.baseState=i,[i,n.queue.dispatch])},useMemoCache:fc,useCacheRefresh:ng};cg.useEffectEvent=K_;function Ec(i,s,n,a){s=i.memoizedState,n=n(a,s),n=n==null?s:m({},s,n),i.memoizedState=n,i.lanes===0&&(i.updateQueue.baseState=n)}var Mc={enqueueSetState:function(i,s,n){i=i._reactInternals;var a=gi(),c=Hs(a);c.payload=s,n!=null&&(c.callback=n),s=js(i,c,a),s!==null&&(ii(s,i,a),dl(s,i,a))},enqueueReplaceState:function(i,s,n){i=i._reactInternals;var a=gi(),c=Hs(a);c.tag=1,c.payload=s,n!=null&&(c.callback=n),s=js(i,c,a),s!==null&&(ii(s,i,a),dl(s,i,a))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var n=gi(),a=Hs(n);a.tag=2,s!=null&&(a.callback=s),s=js(i,a,n),s!==null&&(ii(s,i,n),dl(s,i,n))}};function ug(i,s,n,a,c,d,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(a,d,v):s.prototype&&s.prototype.isPureReactComponent?!rl(n,a)||!rl(c,d):!0}function dg(i,s,n,a){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(n,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(n,a),s.state!==i&&Mc.enqueueReplaceState(s,s.state,null)}function Mr(i,s){var n=s;if("ref"in s){n={};for(var a in s)a!=="ref"&&(n[a]=s[a])}if(i=i.defaultProps){n===s&&(n=m({},n));for(var c in i)n[c]===void 0&&(n[c]=i[c])}return n}function fg(i){ka(i)}function _g(i){console.error(i)}function gg(i){ka(i)}function Xa(i,s){try{var n=i.onUncaughtError;n(s.value,{componentStack:s.stack})}catch(a){setTimeout(function(){throw a})}}function vg(i,s,n){try{var a=i.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function kc(i,s,n){return n=Hs(n),n.tag=3,n.payload={element:null},n.callback=function(){Xa(i,s)},n}function pg(i){return i=Hs(i),i.tag=3,i}function mg(i,s,n,a){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=a.value;i.payload=function(){return c(d)},i.callback=function(){vg(s,n,a)}}var v=n.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){vg(s,n,a),typeof c!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var y=a.stack;this.componentDidCatch(a.value,{componentStack:y!==null?y:""})})}function qS(i,s,n,a,c){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(s=n.alternate,s!==null&&ln(s,n,c,!0),n=ui.current,n!==null){switch(n.tag){case 31:case 13:return ki===null?oo():n.alternate===null&&Je===0&&(Je=3),n.flags&=-257,n.flags|=65536,n.lanes=c,a===Ha?n.flags|=16384:(s=n.updateQueue,s===null?n.updateQueue=new Set([a]):s.add(a),Qc(i,a,c)),!1;case 22:return n.flags|=65536,a===Ha?n.flags|=16384:(s=n.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=s):(n=s.retryQueue,n===null?s.retryQueue=new Set([a]):n.add(a)),Qc(i,a,c)),!1}throw Error(l(435,n.tag))}return Qc(i,a,c),oo(),!1}if(Te)return s=ui.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=c,a!==Ih&&(i=Error(l(422),{cause:a}),al(wi(i,n)))):(a!==Ih&&(s=Error(l(423),{cause:a}),al(wi(s,n))),i=i.current.alternate,i.flags|=65536,c&=-c,i.lanes|=c,a=wi(a,n),c=kc(i.stateNode,a,c),sc(i,c),Je!==4&&(Je=2)),!1;var d=Error(l(520),{cause:a});if(d=wi(d,n),Ml===null?Ml=[d]:Ml.push(d),Je!==4&&(Je=2),s===null)return!0;a=wi(a,n),n=s;do{switch(n.tag){case 3:return n.flags|=65536,i=c&-c,n.lanes|=i,i=kc(n.stateNode,a,i),sc(n,i),!1;case 1:if(s=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qs===null||!qs.has(d))))return n.flags|=65536,c&=-c,n.lanes|=c,c=pg(c),mg(c,i,n,a),sc(n,c),!1}n=n.return}while(n!==null);return!1}var Lc=Error(l(461)),ht=!1;function zt(i,s,n,a){s.child=i===null?x_(s,null,n,a):Cr(s,i.child,n,a)}function Sg(i,s,n,a,c){n=n.render;var d=s.ref;if("ref"in a){var v={};for(var y in a)y!=="ref"&&(v[y]=a[y])}else v=a;return yr(s),a=hc(i,s,n,v,d,c),y=cc(),i!==null&&!ht?(uc(i,s,c),hs(i,s,c)):(Te&&y&&qh(s),s.flags|=1,zt(i,s,a,c),s.child)}function yg(i,s,n,a,c){if(i===null){var d=n.type;return typeof d=="function"&&!Ph(d)&&d.defaultProps===void 0&&n.compare===null?(s.tag=15,s.type=d,bg(i,s,d,a,c)):(i=Ra(n.type,null,a,s,s.mode,c),i.ref=s.ref,i.return=s,s.child=i)}if(d=i.child,!Nc(i,c)){var v=d.memoizedProps;if(n=n.compare,n=n!==null?n:rl,n(v,a)&&i.ref===s.ref)return hs(i,s,c)}return s.flags|=1,i=ss(d,a),i.ref=s.ref,i.return=s,s.child=i}function bg(i,s,n,a,c){if(i!==null){var d=i.memoizedProps;if(rl(d,a)&&i.ref===s.ref)if(ht=!1,s.pendingProps=a=d,Nc(i,c))(i.flags&131072)!==0&&(ht=!0);else return s.lanes=i.lanes,hs(i,s,c)}return Ac(i,s,n,a,c)}function xg(i,s,n,a){var c=a.children,d=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|n:n,i!==null){for(a=s.child=i.child,c=0;a!==null;)c=c|a.lanes|a.childLanes,a=a.sibling;a=c&~d}else a=0,s.child=null;return wg(i,s,d,n,a)}if((n&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Oa(s,d!==null?d.cachePool:null),d!==null?E_(s,d):nc(),M_(s);else return a=s.lanes=536870912,wg(i,s,d!==null?d.baseLanes|n:n,n,a)}else d!==null?(Oa(s,d.cachePool),E_(s,d),$s(),s.memoizedState=null):(i!==null&&Oa(s,null),nc(),$s());return zt(i,s,c,n),s.child}function Sl(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function wg(i,s,n,a,c){var d=Jh();return d=d===null?null:{parent:at._currentValue,pool:d},s.memoizedState={baseLanes:n,cachePool:d},i!==null&&Oa(s,null),nc(),M_(s),i!==null&&ln(i,s,a,!0),s.childLanes=c,null}function Za(i,s){return s=Ja({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Cg(i,s,n){return Cr(s,i.child,null,n),i=Za(s,s.pendingProps),i.flags|=2,di(s),s.memoizedState=null,i}function YS(i,s,n){var a=s.pendingProps,c=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Te){if(a.mode==="hidden")return i=Za(s,a),s.lanes=536870912,Sl(null,i);if(ac(s),(i=We)?(i=Nv(i,Mi),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ds!==null?{id:Pi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},n=a_(i),n.return=s,s.child=n,Dt=s,We=null)):i=null,i===null)throw zs(s);return s.lanes=536870912,null}return Za(s,a)}var d=i.memoizedState;if(d!==null){var v=d.dehydrated;if(ac(s),c)if(s.flags&256)s.flags&=-257,s=Cg(i,s,n);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(l(558));else if(ht||ln(i,s,n,!1),c=(n&i.childLanes)!==0,ht||c){if(a=Fe,a!==null&&(v=_f(a,n),v!==0&&v!==d.retryLane))throw d.retryLane=v,vr(i,v),ii(a,i,v),Lc;oo(),s=Cg(i,s,n)}else i=d.treeContext,We=Li(v.nextSibling),Dt=s,Te=!0,Bs=null,Mi=!1,i!==null&&c_(s,i),s=Za(s,a),s.flags|=4096;return s}return i=ss(i.child,{mode:a.mode,children:a.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Qa(i,s){var n=s.ref;if(n===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(i===null||i.ref!==n)&&(s.flags|=4194816)}}function Ac(i,s,n,a,c){return yr(s),n=hc(i,s,n,a,void 0,c),a=cc(),i!==null&&!ht?(uc(i,s,c),hs(i,s,c)):(Te&&a&&qh(s),s.flags|=1,zt(i,s,n,c),s.child)}function Eg(i,s,n,a,c,d){return yr(s),s.updateQueue=null,n=L_(s,a,n,c),k_(i),a=cc(),i!==null&&!ht?(uc(i,s,d),hs(i,s,d)):(Te&&a&&qh(s),s.flags|=1,zt(i,s,n,d),s.child)}function Mg(i,s,n,a,c){if(yr(s),s.stateNode===null){var d=tn,v=n.contextType;typeof v=="object"&&v!==null&&(d=Bt(v)),d=new n(a,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Mc,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=a,d.state=s.memoizedState,d.refs={},tc(s),v=n.contextType,d.context=typeof v=="object"&&v!==null?Bt(v):tn,d.state=s.memoizedState,v=n.getDerivedStateFromProps,typeof v=="function"&&(Ec(s,n,v,a),d.state=s.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Mc.enqueueReplaceState(d,d.state,null),_l(s,a,d,c),fl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),a=!0}else if(i===null){d=s.stateNode;var y=s.memoizedProps,L=Mr(n,y);d.props=L;var $=d.context,I=n.contextType;v=tn,typeof I=="object"&&I!==null&&(v=Bt(I));var Z=n.getDerivedStateFromProps;I=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",y=s.pendingProps!==y,I||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y||$!==v)&&dg(s,d,a,v),Ns=!1;var P=s.memoizedState;d.state=P,_l(s,a,d,c),fl(),$=s.memoizedState,y||P!==$||Ns?(typeof Z=="function"&&(Ec(s,n,Z,a),$=s.memoizedState),(L=Ns||ug(s,n,L,a,P,$,v))?(I||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=$),d.props=a,d.state=$,d.context=v,a=L):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{d=s.stateNode,ic(i,s),v=s.memoizedProps,I=Mr(n,v),d.props=I,Z=s.pendingProps,P=d.context,$=n.contextType,L=tn,typeof $=="object"&&$!==null&&(L=Bt($)),y=n.getDerivedStateFromProps,($=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||P!==L)&&dg(s,d,a,L),Ns=!1,P=s.memoizedState,d.state=P,_l(s,a,d,c),fl();var q=s.memoizedState;v!==Z||P!==q||Ns||i!==null&&i.dependencies!==null&&Ba(i.dependencies)?(typeof y=="function"&&(Ec(s,n,y,a),q=s.memoizedState),(I=Ns||ug(s,n,I,a,P,q,L)||i!==null&&i.dependencies!==null&&Ba(i.dependencies))?($||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(a,q,L),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(a,q,L)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===i.memoizedProps&&P===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&P===i.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=q),d.props=a,d.state=q,d.context=L,a=I):(typeof d.componentDidUpdate!="function"||v===i.memoizedProps&&P===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&P===i.memoizedState||(s.flags|=1024),a=!1)}return d=a,Qa(i,s),a=(s.flags&128)!==0,d||a?(d=s.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,i!==null&&a?(s.child=Cr(s,i.child,null,c),s.child=Cr(s,null,n,c)):zt(i,s,n,c),s.memoizedState=d.state,i=s.child):i=hs(i,s,c),i}function kg(i,s,n,a){return mr(),s.flags|=256,zt(i,s,n,a),s.child}var Tc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rc(i){return{baseLanes:i,cachePool:v_()}}function Dc(i,s,n){return i=i!==null?i.childLanes&~n:0,s&&(i|=_i),i}function Lg(i,s,n){var a=s.pendingProps,c=!1,d=(s.flags&128)!==0,v;if((v=d)||(v=i!==null&&i.memoizedState===null?!1:(rt.current&2)!==0),v&&(c=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,i===null){if(Te){if(c?Us(s):$s(),(i=We)?(i=Nv(i,Mi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ds!==null?{id:Pi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},n=a_(i),n.return=s,s.child=n,Dt=s,We=null)):i=null,i===null)throw zs(s);return _u(i)?s.lanes=32:s.lanes=536870912,null}var y=a.children;return a=a.fallback,c?($s(),c=s.mode,y=Ja({mode:"hidden",children:y},c),a=pr(a,c,n,null),y.return=s,a.return=s,y.sibling=a,s.child=y,a=s.child,a.memoizedState=Rc(n),a.childLanes=Dc(i,v,n),s.memoizedState=Tc,Sl(null,a)):(Us(s),Bc(s,y))}var L=i.memoizedState;if(L!==null&&(y=L.dehydrated,y!==null)){if(d)s.flags&256?(Us(s),s.flags&=-257,s=zc(i,s,n)):s.memoizedState!==null?($s(),s.child=i.child,s.flags|=128,s=null):($s(),y=a.fallback,c=s.mode,a=Ja({mode:"visible",children:a.children},c),y=pr(y,c,n,null),y.flags|=2,a.return=s,y.return=s,a.sibling=y,s.child=a,Cr(s,i.child,null,n),a=s.child,a.memoizedState=Rc(n),a.childLanes=Dc(i,v,n),s.memoizedState=Tc,s=Sl(null,a));else if(Us(s),_u(y)){if(v=y.nextSibling&&y.nextSibling.dataset,v)var $=v.dgst;v=$,a=Error(l(419)),a.stack="",a.digest=v,al({value:a,source:null,stack:null}),s=zc(i,s,n)}else if(ht||ln(i,s,n,!1),v=(n&i.childLanes)!==0,ht||v){if(v=Fe,v!==null&&(a=_f(v,n),a!==0&&a!==L.retryLane))throw L.retryLane=a,vr(i,a),ii(v,i,a),Lc;fu(y)||oo(),s=zc(i,s,n)}else fu(y)?(s.flags|=192,s.child=i.child,s=null):(i=L.treeContext,We=Li(y.nextSibling),Dt=s,Te=!0,Bs=null,Mi=!1,i!==null&&c_(s,i),s=Bc(s,a.children),s.flags|=4096);return s}return c?($s(),y=a.fallback,c=s.mode,L=i.child,$=L.sibling,a=ss(L,{mode:"hidden",children:a.children}),a.subtreeFlags=L.subtreeFlags&65011712,$!==null?y=ss($,y):(y=pr(y,c,n,null),y.flags|=2),y.return=s,a.return=s,a.sibling=y,s.child=a,Sl(null,a),a=s.child,y=i.child.memoizedState,y===null?y=Rc(n):(c=y.cachePool,c!==null?(L=at._currentValue,c=c.parent!==L?{parent:L,pool:L}:c):c=v_(),y={baseLanes:y.baseLanes|n,cachePool:c}),a.memoizedState=y,a.childLanes=Dc(i,v,n),s.memoizedState=Tc,Sl(i.child,a)):(Us(s),n=i.child,i=n.sibling,n=ss(n,{mode:"visible",children:a.children}),n.return=s,n.sibling=null,i!==null&&(v=s.deletions,v===null?(s.deletions=[i],s.flags|=16):v.push(i)),s.child=n,s.memoizedState=null,n)}function Bc(i,s){return s=Ja({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Ja(i,s){return i=ci(22,i,null,s),i.lanes=0,i}function zc(i,s,n){return Cr(s,i.child,null,n),i=Bc(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Ag(i,s,n){i.lanes|=s;var a=i.alternate;a!==null&&(a.lanes|=s),Vh(i.return,s,n)}function Oc(i,s,n,a,c,d){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:c,treeForkCount:d}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=a,v.tail=n,v.tailMode=c,v.treeForkCount=d)}function Tg(i,s,n){var a=s.pendingProps,c=a.revealOrder,d=a.tail;a=a.children;var v=rt.current,y=(v&2)!==0;if(y?(v=v&1|2,s.flags|=128):v&=1,X(rt,v),zt(i,s,a,n),a=Te?ll:0,!y&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ag(i,n,s);else if(i.tag===19)Ag(i,n,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(c){case"forwards":for(n=s.child,c=null;n!==null;)i=n.alternate,i!==null&&Pa(i)===null&&(c=n),n=n.sibling;n=c,n===null?(c=s.child,s.child=null):(c=n.sibling,n.sibling=null),Oc(s,!1,c,n,d,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=s.child,s.child=null;c!==null;){if(i=c.alternate,i!==null&&Pa(i)===null){s.child=c;break}i=c.sibling,c.sibling=n,n=c,c=i}Oc(s,!0,n,null,d,a);break;case"together":Oc(s,!1,null,null,void 0,a);break;default:s.memoizedState=null}return s.child}function hs(i,s,n){if(i!==null&&(s.dependencies=i.dependencies),Ws|=s.lanes,(n&s.childLanes)===0)if(i!==null){if(ln(i,s,n,!1),(n&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(l(153));if(s.child!==null){for(i=s.child,n=ss(i,i.pendingProps),s.child=n,n.return=s;i.sibling!==null;)i=i.sibling,n=n.sibling=ss(i,i.pendingProps),n.return=s;n.sibling=null}return s.child}function Nc(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Ba(i)))}function IS(i,s,n){switch(s.tag){case 3:be(s,s.stateNode.containerInfo),Os(s,at,i.memoizedState.cache),mr();break;case 27:case 5:Vt(s);break;case 4:be(s,s.stateNode.containerInfo);break;case 10:Os(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,ac(s),null;break;case 13:var a=s.memoizedState;if(a!==null)return a.dehydrated!==null?(Us(s),s.flags|=128,null):(n&s.child.childLanes)!==0?Lg(i,s,n):(Us(s),i=hs(i,s,n),i!==null?i.sibling:null);Us(s);break;case 19:var c=(i.flags&128)!==0;if(a=(n&s.childLanes)!==0,a||(ln(i,s,n,!1),a=(n&s.childLanes)!==0),c){if(a)return Tg(i,s,n);s.flags|=128}if(c=s.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),X(rt,rt.current),a)break;return null;case 22:return s.lanes=0,xg(i,s,n,s.pendingProps);case 24:Os(s,at,i.memoizedState.cache)}return hs(i,s,n)}function Rg(i,s,n){if(i!==null)if(i.memoizedProps!==s.pendingProps)ht=!0;else{if(!Nc(i,n)&&(s.flags&128)===0)return ht=!1,IS(i,s,n);ht=(i.flags&131072)!==0}else ht=!1,Te&&(s.flags&1048576)!==0&&h_(s,ll,s.index);switch(s.lanes=0,s.tag){case 16:e:{var a=s.pendingProps;if(i=xr(s.elementType),s.type=i,typeof i=="function")Ph(i)?(a=Mr(i,a),s.tag=1,s=Mg(null,s,i,a,n)):(s.tag=0,s=Ac(null,s,i,a,n));else{if(i!=null){var c=i.$$typeof;if(c===z){s.tag=11,s=Sg(null,s,i,a,n);break e}else if(c===ie){s.tag=14,s=yg(null,s,i,a,n);break e}}throw s=F(i)||i,Error(l(306,s,""))}}return s;case 0:return Ac(i,s,s.type,s.pendingProps,n);case 1:return a=s.type,c=Mr(a,s.pendingProps),Mg(i,s,a,c,n);case 3:e:{if(be(s,s.stateNode.containerInfo),i===null)throw Error(l(387));a=s.pendingProps;var d=s.memoizedState;c=d.element,ic(i,s),_l(s,a,null,n);var v=s.memoizedState;if(a=v.cache,Os(s,at,a),a!==d.cache&&Xh(s,[at],n,!0),fl(),a=v.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=kg(i,s,a,n);break e}else if(a!==c){c=wi(Error(l(424)),s),al(c),s=kg(i,s,a,n);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,We=Li(i.firstChild),Dt=s,Te=!0,Bs=null,Mi=!0,n=x_(s,null,a,n),s.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mr(),a===c){s=hs(i,s,n);break e}zt(i,s,a,n)}s=s.child}return s;case 26:return Qa(i,s),i===null?(n=Fv(s.type,null,s.pendingProps,null))?s.memoizedState=n:Te||(n=s.type,i=s.pendingProps,a=vo(oe.current).createElement(n),a[Rt]=s,a[Xt]=i,Ot(a,n,i),mt(a),s.stateNode=a):s.memoizedState=Fv(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Vt(s),i===null&&Te&&(a=s.stateNode=Uv(s.type,s.pendingProps,oe.current),Dt=s,Mi=!0,c=We,Gs(s.type)?(gu=c,We=Li(a.firstChild)):We=c),zt(i,s,s.pendingProps.children,n),Qa(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Te&&((c=a=We)&&(a=xy(a,s.type,s.pendingProps,Mi),a!==null?(s.stateNode=a,Dt=s,We=Li(a.firstChild),Mi=!1,c=!0):c=!1),c||zs(s)),Vt(s),c=s.type,d=s.pendingProps,v=i!==null?i.memoizedProps:null,a=d.children,cu(c,d)?a=null:v!==null&&cu(c,v)&&(s.flags|=32),s.memoizedState!==null&&(c=hc(i,s,HS,null,null,n),zl._currentValue=c),Qa(i,s),zt(i,s,a,n),s.child;case 6:return i===null&&Te&&((i=n=We)&&(n=wy(n,s.pendingProps,Mi),n!==null?(s.stateNode=n,Dt=s,We=null,i=!0):i=!1),i||zs(s)),null;case 13:return Lg(i,s,n);case 4:return be(s,s.stateNode.containerInfo),a=s.pendingProps,i===null?s.child=Cr(s,null,a,n):zt(i,s,a,n),s.child;case 11:return Sg(i,s,s.type,s.pendingProps,n);case 7:return zt(i,s,s.pendingProps,n),s.child;case 8:return zt(i,s,s.pendingProps.children,n),s.child;case 12:return zt(i,s,s.pendingProps.children,n),s.child;case 10:return a=s.pendingProps,Os(s,s.type,a.value),zt(i,s,a.children,n),s.child;case 9:return c=s.type._context,a=s.pendingProps.children,yr(s),c=Bt(c),a=a(c),s.flags|=1,zt(i,s,a,n),s.child;case 14:return yg(i,s,s.type,s.pendingProps,n);case 15:return bg(i,s,s.type,s.pendingProps,n);case 19:return Tg(i,s,n);case 31:return YS(i,s,n);case 22:return xg(i,s,n,s.pendingProps);case 24:return yr(s),a=Bt(at),i===null?(c=Jh(),c===null&&(c=Fe,d=Zh(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=n),c=d),s.memoizedState={parent:a,cache:c},tc(s),Os(s,at,c)):((i.lanes&n)!==0&&(ic(i,s),_l(s,null,null,n),fl()),c=i.memoizedState,d=s.memoizedState,c.parent!==a?(c={parent:a,cache:a},s.memoizedState=c,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=c),Os(s,at,a)):(a=d.cache,Os(s,at,a),a!==c.cache&&Xh(s,[at],n,!0))),zt(i,s,s.pendingProps.children,n),s.child;case 29:throw s.pendingProps}throw Error(l(156,s.tag))}function cs(i){i.flags|=4}function Hc(i,s,n,a,c){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(c&335544128)===c)if(i.stateNode.complete)i.flags|=8192;else if(rv())i.flags|=8192;else throw wr=Ha,ec}else i.flags&=-16777217}function Dg(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Kv(s))if(rv())i.flags|=8192;else throw wr=Ha,ec}function eo(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?uf():536870912,i.lanes|=s,mn|=s)}function yl(i,s){if(!Te)switch(i.tailMode){case"hidden":s=i.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?i.tail=null:n.sibling=null;break;case"collapsed":n=i.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:a.sibling=null}}function qe(i){var s=i.alternate!==null&&i.alternate.child===i.child,n=0,a=0;if(s)for(var c=i.child;c!==null;)n|=c.lanes|c.childLanes,a|=c.subtreeFlags&65011712,a|=c.flags&65011712,c.return=i,c=c.sibling;else for(c=i.child;c!==null;)n|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=i,c=c.sibling;return i.subtreeFlags|=a,i.childLanes=n,s}function KS(i,s,n){var a=s.pendingProps;switch(Yh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(s),null;case 1:return qe(s),null;case 3:return n=s.stateNode,a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ls(at),pe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(i===null||i.child===null)&&(nn(s)?cs(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Kh())),qe(s),null;case 26:var c=s.type,d=s.memoizedState;return i===null?(cs(s),d!==null?(qe(s),Dg(s,d)):(qe(s),Hc(s,c,null,a,n))):d?d!==i.memoizedState?(cs(s),qe(s),Dg(s,d)):(qe(s),s.flags&=-16777217):(i=i.memoizedProps,i!==a&&cs(s),qe(s),Hc(s,c,i,a,n)),null;case 27:if(Ft(s),n=oe.current,c=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==a&&cs(s);else{if(!a){if(s.stateNode===null)throw Error(l(166));return qe(s),null}i=se.current,nn(s)?u_(s):(i=Uv(c,a,n),s.stateNode=i,cs(s))}return qe(s),null;case 5:if(Ft(s),c=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==a&&cs(s);else{if(!a){if(s.stateNode===null)throw Error(l(166));return qe(s),null}if(d=se.current,nn(s))u_(s);else{var v=vo(oe.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof a.is=="string"?v.createElement("select",{is:a.is}):v.createElement("select"),a.multiple?d.multiple=!0:a.size&&(d.size=a.size);break;default:d=typeof a.is=="string"?v.createElement(c,{is:a.is}):v.createElement(c)}}d[Rt]=s,d[Xt]=a;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=d;e:switch(Ot(d,c,a),c){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&cs(s)}}return qe(s),Hc(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,n),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==a&&cs(s);else{if(typeof a!="string"&&s.stateNode===null)throw Error(l(166));if(i=oe.current,nn(s)){if(i=s.stateNode,n=s.memoizedProps,a=null,c=Dt,c!==null)switch(c.tag){case 27:case 5:a=c.memoizedProps}i[Rt]=s,i=!!(i.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Lv(i.nodeValue,n)),i||zs(s,!0)}else i=vo(i).createTextNode(a),i[Rt]=s,s.stateNode=i}return qe(s),null;case 31:if(n=s.memoizedState,i===null||i.memoizedState!==null){if(a=nn(s),n!==null){if(i===null){if(!a)throw Error(l(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(l(557));i[Rt]=s}else mr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;qe(s),i=!1}else n=Kh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=n),i=!0;if(!i)return s.flags&256?(di(s),s):(di(s),null);if((s.flags&128)!==0)throw Error(l(558))}return qe(s),null;case 13:if(a=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(c=nn(s),a!==null&&a.dehydrated!==null){if(i===null){if(!c)throw Error(l(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[Rt]=s}else mr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;qe(s),c=!1}else c=Kh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),c=!0;if(!c)return s.flags&256?(di(s),s):(di(s),null)}return di(s),(s.flags&128)!==0?(s.lanes=n,s):(n=a!==null,i=i!==null&&i.memoizedState!==null,n&&(a=s.child,c=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(c=a.alternate.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==c&&(a.flags|=2048)),n!==i&&n&&(s.child.flags|=8192),eo(s,s.updateQueue),qe(s),null);case 4:return pe(),i===null&&nu(s.stateNode.containerInfo),qe(s),null;case 10:return ls(s.type),qe(s),null;case 19:if(U(rt),a=s.memoizedState,a===null)return qe(s),null;if(c=(s.flags&128)!==0,d=a.rendering,d===null)if(c)yl(a,!1);else{if(Je!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(d=Pa(i),d!==null){for(s.flags|=128,yl(a,!1),i=d.updateQueue,s.updateQueue=i,eo(s,i),s.subtreeFlags=0,i=n,n=s.child;n!==null;)l_(n,i),n=n.sibling;return X(rt,rt.current&1|2),Te&&rs(s,a.treeForkCount),s.child}i=i.sibling}a.tail!==null&&li()>no&&(s.flags|=128,c=!0,yl(a,!1),s.lanes=4194304)}else{if(!c)if(i=Pa(d),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,eo(s,i),yl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!d.alternate&&!Te)return qe(s),null}else 2*li()-a.renderingStartTime>no&&n!==536870912&&(s.flags|=128,c=!0,yl(a,!1),s.lanes=4194304);a.isBackwards?(d.sibling=s.child,s.child=d):(i=a.last,i!==null?i.sibling=d:s.child=d,a.last=d)}return a.tail!==null?(i=a.tail,a.rendering=i,a.tail=i.sibling,a.renderingStartTime=li(),i.sibling=null,n=rt.current,X(rt,c?n&1|2:n&1),Te&&rs(s,a.treeForkCount),i):(qe(s),null);case 22:case 23:return di(s),lc(),a=s.memoizedState!==null,i!==null?i.memoizedState!==null!==a&&(s.flags|=8192):a&&(s.flags|=8192),a?(n&536870912)!==0&&(s.flags&128)===0&&(qe(s),s.subtreeFlags&6&&(s.flags|=8192)):qe(s),n=s.updateQueue,n!==null&&eo(s,n.retryQueue),n=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==n&&(s.flags|=2048),i!==null&&U(br),null;case 24:return n=null,i!==null&&(n=i.memoizedState.cache),s.memoizedState.cache!==n&&(s.flags|=2048),ls(at),qe(s),null;case 25:return null;case 30:return null}throw Error(l(156,s.tag))}function GS(i,s){switch(Yh(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ls(at),pe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ft(s),null;case 31:if(s.memoizedState!==null){if(di(s),s.alternate===null)throw Error(l(340));mr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(di(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(l(340));mr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return U(rt),null;case 4:return pe(),null;case 10:return ls(s.type),null;case 22:case 23:return di(s),lc(),i!==null&&U(br),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ls(at),null;case 25:return null;default:return null}}function Bg(i,s){switch(Yh(s),s.tag){case 3:ls(at),pe();break;case 26:case 27:case 5:Ft(s);break;case 4:pe();break;case 31:s.memoizedState!==null&&di(s);break;case 13:di(s);break;case 19:U(rt);break;case 10:ls(s.type);break;case 22:case 23:di(s),lc(),i!==null&&U(br);break;case 24:ls(at)}}function bl(i,s){try{var n=s.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var c=a.next;n=c;do{if((n.tag&i)===i){a=void 0;var d=n.create,v=n.inst;a=d(),v.destroy=a}n=n.next}while(n!==c)}}catch(y){He(s,s.return,y)}}function Ps(i,s,n){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var d=c.next;a=d;do{if((a.tag&i)===i){var v=a.inst,y=v.destroy;if(y!==void 0){v.destroy=void 0,c=s;var L=n,$=y;try{$()}catch(I){He(c,L,I)}}}a=a.next}while(a!==d)}}catch(I){He(s,s.return,I)}}function zg(i){var s=i.updateQueue;if(s!==null){var n=i.stateNode;try{C_(s,n)}catch(a){He(i,i.return,a)}}}function Og(i,s,n){n.props=Mr(i.type,i.memoizedProps),n.state=i.memoizedState;try{n.componentWillUnmount()}catch(a){He(i,s,a)}}function xl(i,s){try{var n=i.ref;if(n!==null){switch(i.tag){case 26:case 27:case 5:var a=i.stateNode;break;case 30:a=i.stateNode;break;default:a=i.stateNode}typeof n=="function"?i.refCleanup=n(a):n.current=a}}catch(c){He(i,s,c)}}function Wi(i,s){var n=i.ref,a=i.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(c){He(i,s,c)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){He(i,s,c)}else n.current=null}function Ng(i){var s=i.type,n=i.memoizedProps,a=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(c){He(i,i.return,c)}}function jc(i,s,n){try{var a=i.stateNode;vy(a,i.type,n,s),a[Xt]=s}catch(c){He(i,i.return,c)}}function Hg(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Gs(i.type)||i.tag===4}function Uc(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Hg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Gs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $c(i,s,n){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(i,s):(s=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.appendChild(i),n=n._reactRootContainer,n!=null||s.onclick!==null||(s.onclick=ts));else if(a!==4&&(a===27&&Gs(i.type)&&(n=i.stateNode,s=null),i=i.child,i!==null))for($c(i,s,n),i=i.sibling;i!==null;)$c(i,s,n),i=i.sibling}function to(i,s,n){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?n.insertBefore(i,s):n.appendChild(i);else if(a!==4&&(a===27&&Gs(i.type)&&(n=i.stateNode),i=i.child,i!==null))for(to(i,s,n),i=i.sibling;i!==null;)to(i,s,n),i=i.sibling}function jg(i){var s=i.stateNode,n=i.memoizedProps;try{for(var a=i.type,c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Ot(s,a,n),s[Rt]=i,s[Xt]=n}catch(d){He(i,i.return,d)}}var us=!1,ct=!1,Pc=!1,Ug=typeof WeakSet=="function"?WeakSet:Set,St=null;function VS(i,s){if(i=i.containerInfo,ou=wo,i=Zf(i),zh(i)){if("selectionStart"in i)var n={start:i.selectionStart,end:i.selectionEnd};else e:{n=(n=i.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var v=0,y=-1,L=-1,$=0,I=0,Z=i,P=null;t:for(;;){for(var q;Z!==n||c!==0&&Z.nodeType!==3||(y=v+c),Z!==d||a!==0&&Z.nodeType!==3||(L=v+a),Z.nodeType===3&&(v+=Z.nodeValue.length),(q=Z.firstChild)!==null;)P=Z,Z=q;for(;;){if(Z===i)break t;if(P===n&&++$===c&&(y=v),P===d&&++I===a&&(L=v),(q=Z.nextSibling)!==null)break;Z=P,P=Z.parentNode}Z=q}n=y===-1||L===-1?null:{start:y,end:L}}else n=null}n=n||{start:0,end:0}}else n=null;for(hu={focusedElem:i,selectionRange:n},wo=!1,St=s;St!==null;)if(s=St,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,St=i;else for(;St!==null;){switch(s=St,d=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(n=0;n<i.length;n++)c=i[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&d!==null){i=void 0,n=s,c=d.memoizedProps,d=d.memoizedState,a=n.stateNode;try{var ce=Mr(n.type,c);i=a.getSnapshotBeforeUpdate(ce,d),a.__reactInternalSnapshotBeforeUpdate=i}catch(ge){He(n,n.return,ge)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,n=i.nodeType,n===9)du(i);else if(n===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":du(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(l(163))}if(i=s.sibling,i!==null){i.return=s.return,St=i;break}St=s.return}}function $g(i,s,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:fs(i,n),a&4&&bl(5,n);break;case 1:if(fs(i,n),a&4)if(i=n.stateNode,s===null)try{i.componentDidMount()}catch(v){He(n,n.return,v)}else{var c=Mr(n.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(c,s,i.__reactInternalSnapshotBeforeUpdate)}catch(v){He(n,n.return,v)}}a&64&&zg(n),a&512&&xl(n,n.return);break;case 3:if(fs(i,n),a&64&&(i=n.updateQueue,i!==null)){if(s=null,n.child!==null)switch(n.child.tag){case 27:case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}try{C_(i,s)}catch(v){He(n,n.return,v)}}break;case 27:s===null&&a&4&&jg(n);case 26:case 5:fs(i,n),s===null&&a&4&&Ng(n),a&512&&xl(n,n.return);break;case 12:fs(i,n);break;case 31:fs(i,n),a&4&&Wg(i,n);break;case 13:fs(i,n),a&4&&qg(i,n),a&64&&(i=n.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(n=ry.bind(null,n),Cy(i,n))));break;case 22:if(a=n.memoizedState!==null||us,!a){s=s!==null&&s.memoizedState!==null||ct,c=us;var d=ct;us=a,(ct=s)&&!d?_s(i,n,(n.subtreeFlags&8772)!==0):fs(i,n),us=c,ct=d}break;case 30:break;default:fs(i,n)}}function Pg(i){var s=i.alternate;s!==null&&(i.alternate=null,Pg(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ph(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ge=null,Qt=!1;function ds(i,s,n){for(n=n.child;n!==null;)Fg(i,s,n),n=n.sibling}function Fg(i,s,n){if(ai&&typeof ai.onCommitFiberUnmount=="function")try{ai.onCommitFiberUnmount(In,n)}catch{}switch(n.tag){case 26:ct||Wi(n,s),ds(i,s,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ct||Wi(n,s);var a=Ge,c=Qt;Gs(n.type)&&(Ge=n.stateNode,Qt=!1),ds(i,s,n),Rl(n.stateNode),Ge=a,Qt=c;break;case 5:ct||Wi(n,s);case 6:if(a=Ge,c=Qt,Ge=null,ds(i,s,n),Ge=a,Qt=c,Ge!==null)if(Qt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(n.stateNode)}catch(d){He(n,s,d)}else try{Ge.removeChild(n.stateNode)}catch(d){He(n,s,d)}break;case 18:Ge!==null&&(Qt?(i=Ge,zv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.stateNode),Mn(i)):zv(Ge,n.stateNode));break;case 4:a=Ge,c=Qt,Ge=n.stateNode.containerInfo,Qt=!0,ds(i,s,n),Ge=a,Qt=c;break;case 0:case 11:case 14:case 15:Ps(2,n,s),ct||Ps(4,n,s),ds(i,s,n);break;case 1:ct||(Wi(n,s),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Og(n,s,a)),ds(i,s,n);break;case 21:ds(i,s,n);break;case 22:ct=(a=ct)||n.memoizedState!==null,ds(i,s,n),ct=a;break;default:ds(i,s,n)}}function Wg(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Mn(i)}catch(n){He(s,s.return,n)}}}function qg(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Mn(i)}catch(n){He(s,s.return,n)}}function XS(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Ug),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Ug),s;default:throw Error(l(435,i.tag))}}function io(i,s){var n=XS(i);s.forEach(function(a){if(!n.has(a)){n.add(a);var c=ny.bind(null,i,a);a.then(c,c)}})}function Jt(i,s){var n=s.deletions;if(n!==null)for(var a=0;a<n.length;a++){var c=n[a],d=i,v=s,y=v;e:for(;y!==null;){switch(y.tag){case 27:if(Gs(y.type)){Ge=y.stateNode,Qt=!1;break e}break;case 5:Ge=y.stateNode,Qt=!1;break e;case 3:case 4:Ge=y.stateNode.containerInfo,Qt=!0;break e}y=y.return}if(Ge===null)throw Error(l(160));Fg(d,v,c),Ge=null,Qt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Yg(s,i),s=s.sibling}var ji=null;function Yg(i,s){var n=i.alternate,a=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Jt(s,i),ei(i),a&4&&(Ps(3,i,i.return),bl(3,i),Ps(5,i,i.return));break;case 1:Jt(s,i),ei(i),a&512&&(ct||n===null||Wi(n,n.return)),a&64&&us&&(i=i.updateQueue,i!==null&&(a=i.callbacks,a!==null&&(n=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var c=ji;if(Jt(s,i),ei(i),a&512&&(ct||n===null||Wi(n,n.return)),a&4){var d=n!==null?n.memoizedState:null;if(a=i.memoizedState,n===null)if(a===null)if(i.stateNode===null){e:{a=i.type,n=i.memoizedProps,c=c.ownerDocument||c;t:switch(a){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Vn]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(a),c.head.insertBefore(d,c.querySelector("head > title"))),Ot(d,a,n),d[Rt]=i,mt(d),a=d;break e;case"link":var v=Yv("link","href",c).get(a+(n.href||""));if(v){for(var y=0;y<v.length;y++)if(d=v[y],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){v.splice(y,1);break t}}d=c.createElement(a),Ot(d,a,n),c.head.appendChild(d);break;case"meta":if(v=Yv("meta","content",c).get(a+(n.content||""))){for(y=0;y<v.length;y++)if(d=v[y],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){v.splice(y,1);break t}}d=c.createElement(a),Ot(d,a,n),c.head.appendChild(d);break;default:throw Error(l(468,a))}d[Rt]=i,mt(d),a=d}i.stateNode=a}else Iv(c,i.type,i.stateNode);else i.stateNode=qv(c,a,i.memoizedProps);else d!==a?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,a===null?Iv(c,i.type,i.stateNode):qv(c,a,i.memoizedProps)):a===null&&i.stateNode!==null&&jc(i,i.memoizedProps,n.memoizedProps)}break;case 27:Jt(s,i),ei(i),a&512&&(ct||n===null||Wi(n,n.return)),n!==null&&a&4&&jc(i,i.memoizedProps,n.memoizedProps);break;case 5:if(Jt(s,i),ei(i),a&512&&(ct||n===null||Wi(n,n.return)),i.flags&32){c=i.stateNode;try{Gr(c,"")}catch(ce){He(i,i.return,ce)}}a&4&&i.stateNode!=null&&(c=i.memoizedProps,jc(i,c,n!==null?n.memoizedProps:c)),a&1024&&(Pc=!0);break;case 6:if(Jt(s,i),ei(i),a&4){if(i.stateNode===null)throw Error(l(162));a=i.memoizedProps,n=i.stateNode;try{n.nodeValue=a}catch(ce){He(i,i.return,ce)}}break;case 3:if(So=null,c=ji,ji=po(s.containerInfo),Jt(s,i),ji=c,ei(i),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Mn(s.containerInfo)}catch(ce){He(i,i.return,ce)}Pc&&(Pc=!1,Ig(i));break;case 4:a=ji,ji=po(i.stateNode.containerInfo),Jt(s,i),ei(i),ji=a;break;case 12:Jt(s,i),ei(i);break;case 31:Jt(s,i),ei(i),a&4&&(a=i.updateQueue,a!==null&&(i.updateQueue=null,io(i,a)));break;case 13:Jt(s,i),ei(i),i.child.flags&8192&&i.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ro=li()),a&4&&(a=i.updateQueue,a!==null&&(i.updateQueue=null,io(i,a)));break;case 22:c=i.memoizedState!==null;var L=n!==null&&n.memoizedState!==null,$=us,I=ct;if(us=$||c,ct=I||L,Jt(s,i),ct=I,us=$,ei(i),a&8192)e:for(s=i.stateNode,s._visibility=c?s._visibility&-2:s._visibility|1,c&&(n===null||L||us||ct||kr(i)),n=null,s=i;;){if(s.tag===5||s.tag===26){if(n===null){L=n=s;try{if(d=L.stateNode,c)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{y=L.stateNode;var Z=L.memoizedProps.style,P=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;y.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ce){He(L,L.return,ce)}}}else if(s.tag===6){if(n===null){L=s;try{L.stateNode.nodeValue=c?"":L.memoizedProps}catch(ce){He(L,L.return,ce)}}}else if(s.tag===18){if(n===null){L=s;try{var q=L.stateNode;c?Ov(q,!0):Ov(L.stateNode,!1)}catch(ce){He(L,L.return,ce)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;n===s&&(n=null),s=s.return}n===s&&(n=null),s.sibling.return=s.return,s=s.sibling}a&4&&(a=i.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,io(i,n))));break;case 19:Jt(s,i),ei(i),a&4&&(a=i.updateQueue,a!==null&&(i.updateQueue=null,io(i,a)));break;case 30:break;case 21:break;default:Jt(s,i),ei(i)}}function ei(i){var s=i.flags;if(s&2){try{for(var n,a=i.return;a!==null;){if(Hg(a)){n=a;break}a=a.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var c=n.stateNode,d=Uc(i);to(i,d,c);break;case 5:var v=n.stateNode;n.flags&32&&(Gr(v,""),n.flags&=-33);var y=Uc(i);to(i,y,v);break;case 3:case 4:var L=n.stateNode.containerInfo,$=Uc(i);$c(i,$,L);break;default:throw Error(l(161))}}catch(I){He(i,i.return,I)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Ig(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Ig(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function fs(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)$g(i,s.alternate,s),s=s.sibling}function kr(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ps(4,s,s.return),kr(s);break;case 1:Wi(s,s.return);var n=s.stateNode;typeof n.componentWillUnmount=="function"&&Og(s,s.return,n),kr(s);break;case 27:Rl(s.stateNode);case 26:case 5:Wi(s,s.return),kr(s);break;case 22:s.memoizedState===null&&kr(s);break;case 30:kr(s);break;default:kr(s)}i=i.sibling}}function _s(i,s,n){for(n=n&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var a=s.alternate,c=i,d=s,v=d.flags;switch(d.tag){case 0:case 11:case 15:_s(c,d,n),bl(4,d);break;case 1:if(_s(c,d,n),a=d,c=a.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch($){He(a,a.return,$)}if(a=d,c=a.updateQueue,c!==null){var y=a.stateNode;try{var L=c.shared.hiddenCallbacks;if(L!==null)for(c.shared.hiddenCallbacks=null,c=0;c<L.length;c++)w_(L[c],y)}catch($){He(a,a.return,$)}}n&&v&64&&zg(d),xl(d,d.return);break;case 27:jg(d);case 26:case 5:_s(c,d,n),n&&a===null&&v&4&&Ng(d),xl(d,d.return);break;case 12:_s(c,d,n);break;case 31:_s(c,d,n),n&&v&4&&Wg(c,d);break;case 13:_s(c,d,n),n&&v&4&&qg(c,d);break;case 22:d.memoizedState===null&&_s(c,d,n),xl(d,d.return);break;case 30:break;default:_s(c,d,n)}s=s.sibling}}function Fc(i,s){var n=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==n&&(i!=null&&i.refCount++,n!=null&&ol(n))}function Wc(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ol(i))}function Ui(i,s,n,a){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Kg(i,s,n,a),s=s.sibling}function Kg(i,s,n,a){var c=s.flags;switch(s.tag){case 0:case 11:case 15:Ui(i,s,n,a),c&2048&&bl(9,s);break;case 1:Ui(i,s,n,a);break;case 3:Ui(i,s,n,a),c&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ol(i)));break;case 12:if(c&2048){Ui(i,s,n,a),i=s.stateNode;try{var d=s.memoizedProps,v=d.id,y=d.onPostCommit;typeof y=="function"&&y(v,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){He(s,s.return,L)}}else Ui(i,s,n,a);break;case 31:Ui(i,s,n,a);break;case 13:Ui(i,s,n,a);break;case 23:break;case 22:d=s.stateNode,v=s.alternate,s.memoizedState!==null?d._visibility&2?Ui(i,s,n,a):wl(i,s):d._visibility&2?Ui(i,s,n,a):(d._visibility|=2,gn(i,s,n,a,(s.subtreeFlags&10256)!==0||!1)),c&2048&&Fc(v,s);break;case 24:Ui(i,s,n,a),c&2048&&Wc(s.alternate,s);break;default:Ui(i,s,n,a)}}function gn(i,s,n,a,c){for(c=c&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=i,v=s,y=n,L=a,$=v.flags;switch(v.tag){case 0:case 11:case 15:gn(d,v,y,L,c),bl(8,v);break;case 23:break;case 22:var I=v.stateNode;v.memoizedState!==null?I._visibility&2?gn(d,v,y,L,c):wl(d,v):(I._visibility|=2,gn(d,v,y,L,c)),c&&$&2048&&Fc(v.alternate,v);break;case 24:gn(d,v,y,L,c),c&&$&2048&&Wc(v.alternate,v);break;default:gn(d,v,y,L,c)}s=s.sibling}}function wl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var n=i,a=s,c=a.flags;switch(a.tag){case 22:wl(n,a),c&2048&&Fc(a.alternate,a);break;case 24:wl(n,a),c&2048&&Wc(a.alternate,a);break;default:wl(n,a)}s=s.sibling}}var Cl=8192;function vn(i,s,n){if(i.subtreeFlags&Cl)for(i=i.child;i!==null;)Gg(i,s,n),i=i.sibling}function Gg(i,s,n){switch(i.tag){case 26:vn(i,s,n),i.flags&Cl&&i.memoizedState!==null&&Ny(n,ji,i.memoizedState,i.memoizedProps);break;case 5:vn(i,s,n);break;case 3:case 4:var a=ji;ji=po(i.stateNode.containerInfo),vn(i,s,n),ji=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Cl,Cl=16777216,vn(i,s,n),Cl=a):vn(i,s,n));break;default:vn(i,s,n)}}function Vg(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function El(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];St=a,Zg(a,i)}Vg(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xg(i),i=i.sibling}function Xg(i){switch(i.tag){case 0:case 11:case 15:El(i),i.flags&2048&&Ps(9,i,i.return);break;case 3:El(i);break;case 12:El(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,so(i)):El(i);break;default:El(i)}}function so(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];St=a,Zg(a,i)}Vg(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ps(8,s,s.return),so(s);break;case 22:n=s.stateNode,n._visibility&2&&(n._visibility&=-3,so(s));break;default:so(s)}i=i.sibling}}function Zg(i,s){for(;St!==null;){var n=St;switch(n.tag){case 0:case 11:case 15:Ps(8,n,s);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ol(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,St=a;else e:for(n=i;St!==null;){a=St;var c=a.sibling,d=a.return;if(Pg(a),a===n){St=null;break e}if(c!==null){c.return=d,St=c;break e}St=d}}}var ZS={getCacheForType:function(i){var s=Bt(at),n=s.data.get(i);return n===void 0&&(n=i(),s.data.set(i,n)),n},cacheSignal:function(){return Bt(at).controller.signal}},QS=typeof WeakMap=="function"?WeakMap:Map,ze=0,Fe=null,Ce=null,Me=0,Ne=0,fi=null,Fs=!1,pn=!1,qc=!1,gs=0,Je=0,Ws=0,Lr=0,Yc=0,_i=0,mn=0,Ml=null,ti=null,Ic=!1,ro=0,Qg=0,no=1/0,lo=null,qs=null,_t=0,Ys=null,Sn=null,vs=0,Kc=0,Gc=null,Jg=null,kl=0,Vc=null;function gi(){return(ze&2)!==0&&Me!==0?Me&-Me:M.T!==null?tu():gf()}function ev(){if(_i===0)if((Me&536870912)===0||Te){var i=_a;_a<<=1,(_a&3932160)===0&&(_a=262144),_i=i}else _i=536870912;return i=ui.current,i!==null&&(i.flags|=32),_i}function ii(i,s,n){(i===Fe&&(Ne===2||Ne===9)||i.cancelPendingCommit!==null)&&(yn(i,0),Is(i,Me,_i,!1)),Gn(i,n),((ze&2)===0||i!==Fe)&&(i===Fe&&((ze&2)===0&&(Lr|=n),Je===4&&Is(i,Me,_i,!1)),qi(i))}function tv(i,s,n){if((ze&6)!==0)throw Error(l(327));var a=!n&&(s&127)===0&&(s&i.expiredLanes)===0||Kn(i,s),c=a?ty(i,s):Zc(i,s,!0),d=a;do{if(c===0){pn&&!a&&Is(i,s,0,!1);break}else{if(n=i.current.alternate,d&&!JS(n)){c=Zc(i,s,!1),d=!1;continue}if(c===2){if(d=s,i.errorRecoveryDisabledLanes&d)var v=0;else v=i.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var y=i;c=Ml;var L=y.current.memoizedState.isDehydrated;if(L&&(yn(y,v).flags|=256),v=Zc(y,v,!1),v!==2){if(qc&&!L){y.errorRecoveryDisabledLanes|=d,Lr|=d,c=4;break e}d=ti,ti=c,d!==null&&(ti===null?ti=d:ti.push.apply(ti,d))}c=v}if(d=!1,c!==2)continue}}if(c===1){yn(i,0),Is(i,s,0,!0);break}e:{switch(a=i,d=c,d){case 0:case 1:throw Error(l(345));case 4:if((s&4194048)!==s)break;case 6:Is(a,s,_i,!Fs);break e;case 2:ti=null;break;case 3:case 5:break;default:throw Error(l(329))}if((s&62914560)===s&&(c=ro+300-li(),10<c)){if(Is(a,s,_i,!Fs),va(a,0,!0)!==0)break e;vs=s,a.timeoutHandle=Dv(iv.bind(null,a,n,ti,lo,Ic,s,_i,Lr,mn,Fs,d,"Throttled",-0,0),c);break e}iv(a,n,ti,lo,Ic,s,_i,Lr,mn,Fs,d,null,-0,0)}}break}while(!0);qi(i)}function iv(i,s,n,a,c,d,v,y,L,$,I,Z,P,q){if(i.timeoutHandle=-1,Z=s.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ts},Gg(s,d,Z);var ce=(d&62914560)===d?ro-li():(d&4194048)===d?Qg-li():0;if(ce=Hy(Z,ce),ce!==null){vs=d,i.cancelPendingCommit=ce(cv.bind(null,i,s,d,n,a,c,v,y,L,I,Z,null,P,q)),Is(i,d,v,!$);return}}cv(i,s,d,n,a,c,v,y,L)}function JS(i){for(var s=i;;){var n=s.tag;if((n===0||n===11||n===15)&&s.flags&16384&&(n=s.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var c=n[a],d=c.getSnapshot;c=c.value;try{if(!hi(d(),c))return!1}catch{return!1}}if(n=s.child,s.subtreeFlags&16384&&n!==null)n.return=s,s=n;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Is(i,s,n,a){s&=~Yc,s&=~Lr,i.suspendedLanes|=s,i.pingedLanes&=~s,a&&(i.warmLanes|=s),a=i.expirationTimes;for(var c=s;0<c;){var d=31-oi(c),v=1<<d;a[d]=-1,c&=~v}n!==0&&df(i,n,s)}function ao(){return(ze&6)===0?(Ll(0),!1):!0}function Xc(){if(Ce!==null){if(Ne===0)var i=Ce.return;else i=Ce,ns=Sr=null,dc(i),cn=null,cl=0,i=Ce;for(;i!==null;)Bg(i.alternate,i),i=i.return;Ce=null}}function yn(i,s){var n=i.timeoutHandle;n!==-1&&(i.timeoutHandle=-1,Sy(n)),n=i.cancelPendingCommit,n!==null&&(i.cancelPendingCommit=null,n()),vs=0,Xc(),Fe=i,Ce=n=ss(i.current,null),Me=s,Ne=0,fi=null,Fs=!1,pn=Kn(i,s),qc=!1,mn=_i=Yc=Lr=Ws=Je=0,ti=Ml=null,Ic=!1,(s&8)!==0&&(s|=s&32);var a=i.entangledLanes;if(a!==0)for(i=i.entanglements,a&=s;0<a;){var c=31-oi(a),d=1<<c;s|=i[c],a&=~d}return gs=s,La(),n}function sv(i,s){Se=null,M.H=ml,s===hn||s===Na?(s=S_(),Ne=3):s===ec?(s=S_(),Ne=4):Ne=s===Lc?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,fi=s,Ce===null&&(Je=1,Xa(i,wi(s,i.current)))}function rv(){var i=ui.current;return i===null?!0:(Me&4194048)===Me?ki===null:(Me&62914560)===Me||(Me&536870912)!==0?i===ki:!1}function nv(){var i=M.H;return M.H=ml,i===null?ml:i}function lv(){var i=M.A;return M.A=ZS,i}function oo(){Je=4,Fs||(Me&4194048)!==Me&&ui.current!==null||(pn=!0),(Ws&134217727)===0&&(Lr&134217727)===0||Fe===null||Is(Fe,Me,_i,!1)}function Zc(i,s,n){var a=ze;ze|=2;var c=nv(),d=lv();(Fe!==i||Me!==s)&&(lo=null,yn(i,s)),s=!1;var v=Je;e:do try{if(Ne!==0&&Ce!==null){var y=Ce,L=fi;switch(Ne){case 8:Xc(),v=6;break e;case 3:case 2:case 9:case 6:ui.current===null&&(s=!0);var $=Ne;if(Ne=0,fi=null,bn(i,y,L,$),n&&pn){v=0;break e}break;default:$=Ne,Ne=0,fi=null,bn(i,y,L,$)}}ey(),v=Je;break}catch(I){sv(i,I)}while(!0);return s&&i.shellSuspendCounter++,ns=Sr=null,ze=a,M.H=c,M.A=d,Ce===null&&(Fe=null,Me=0,La()),v}function ey(){for(;Ce!==null;)av(Ce)}function ty(i,s){var n=ze;ze|=2;var a=nv(),c=lv();Fe!==i||Me!==s?(lo=null,no=li()+500,yn(i,s)):pn=Kn(i,s);e:do try{if(Ne!==0&&Ce!==null){s=Ce;var d=fi;t:switch(Ne){case 1:Ne=0,fi=null,bn(i,s,d,1);break;case 2:case 9:if(p_(d)){Ne=0,fi=null,ov(s);break}s=function(){Ne!==2&&Ne!==9||Fe!==i||(Ne=7),qi(i)},d.then(s,s);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:p_(d)?(Ne=0,fi=null,ov(s)):(Ne=0,fi=null,bn(i,s,d,7));break;case 5:var v=null;switch(Ce.tag){case 26:v=Ce.memoizedState;case 5:case 27:var y=Ce;if(v?Kv(v):y.stateNode.complete){Ne=0,fi=null;var L=y.sibling;if(L!==null)Ce=L;else{var $=y.return;$!==null?(Ce=$,ho($)):Ce=null}break t}}Ne=0,fi=null,bn(i,s,d,5);break;case 6:Ne=0,fi=null,bn(i,s,d,6);break;case 8:Xc(),Je=6;break e;default:throw Error(l(462))}}iy();break}catch(I){sv(i,I)}while(!0);return ns=Sr=null,M.H=a,M.A=c,ze=n,Ce!==null?0:(Fe=null,Me=0,La(),Je)}function iy(){for(;Ce!==null&&!E1();)av(Ce)}function av(i){var s=Rg(i.alternate,i,gs);i.memoizedProps=i.pendingProps,s===null?ho(i):Ce=s}function ov(i){var s=i,n=s.alternate;switch(s.tag){case 15:case 0:s=Eg(n,s,s.pendingProps,s.type,void 0,Me);break;case 11:s=Eg(n,s,s.pendingProps,s.type.render,s.ref,Me);break;case 5:dc(s);default:Bg(n,s),s=Ce=l_(s,gs),s=Rg(n,s,gs)}i.memoizedProps=i.pendingProps,s===null?ho(i):Ce=s}function bn(i,s,n,a){ns=Sr=null,dc(s),cn=null,cl=0;var c=s.return;try{if(qS(i,c,s,n,Me)){Je=1,Xa(i,wi(n,i.current)),Ce=null;return}}catch(d){if(c!==null)throw Ce=c,d;Je=1,Xa(i,wi(n,i.current)),Ce=null;return}s.flags&32768?(Te||a===1?i=!0:pn||(Me&536870912)!==0?i=!1:(Fs=i=!0,(a===2||a===9||a===3||a===6)&&(a=ui.current,a!==null&&a.tag===13&&(a.flags|=16384))),hv(s,i)):ho(s)}function ho(i){var s=i;do{if((s.flags&32768)!==0){hv(s,Fs);return}i=s.return;var n=KS(s.alternate,s,gs);if(n!==null){Ce=n;return}if(s=s.sibling,s!==null){Ce=s;return}Ce=s=i}while(s!==null);Je===0&&(Je=5)}function hv(i,s){do{var n=GS(i.alternate,i);if(n!==null){n.flags&=32767,Ce=n;return}if(n=i.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!s&&(i=i.sibling,i!==null)){Ce=i;return}Ce=i=n}while(i!==null);Je=6,Ce=null}function cv(i,s,n,a,c,d,v,y,L){i.cancelPendingCommit=null;do co();while(_t!==0);if((ze&6)!==0)throw Error(l(327));if(s!==null){if(s===i.current)throw Error(l(177));if(d=s.lanes|s.childLanes,d|=Uh,O1(i,n,d,v,y,L),i===Fe&&(Ce=Fe=null,Me=0),Sn=s,Ys=i,vs=n,Kc=d,Gc=c,Jg=a,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ly(da,function(){return gv(),null})):(i.callbackNode=null,i.callbackPriority=0),a=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||a){a=M.T,M.T=null,c=k.p,k.p=2,v=ze,ze|=4;try{VS(i,s,n)}finally{ze=v,k.p=c,M.T=a}}_t=1,uv(),dv(),fv()}}function uv(){if(_t===1){_t=0;var i=Ys,s=Sn,n=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||n){n=M.T,M.T=null;var a=k.p;k.p=2;var c=ze;ze|=4;try{Yg(s,i);var d=hu,v=Zf(i.containerInfo),y=d.focusedElem,L=d.selectionRange;if(v!==y&&y&&y.ownerDocument&&Xf(y.ownerDocument.documentElement,y)){if(L!==null&&zh(y)){var $=L.start,I=L.end;if(I===void 0&&(I=$),"selectionStart"in y)y.selectionStart=$,y.selectionEnd=Math.min(I,y.value.length);else{var Z=y.ownerDocument||document,P=Z&&Z.defaultView||window;if(P.getSelection){var q=P.getSelection(),ce=y.textContent.length,ge=Math.min(L.start,ce),$e=L.end===void 0?ge:Math.min(L.end,ce);!q.extend&&ge>$e&&(v=$e,$e=ge,ge=v);var B=Vf(y,ge),R=Vf(y,$e);if(B&&R&&(q.rangeCount!==1||q.anchorNode!==B.node||q.anchorOffset!==B.offset||q.focusNode!==R.node||q.focusOffset!==R.offset)){var H=Z.createRange();H.setStart(B.node,B.offset),q.removeAllRanges(),ge>$e?(q.addRange(H),q.extend(R.node,R.offset)):(H.setEnd(R.node,R.offset),q.addRange(H))}}}}for(Z=[],q=y;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<Z.length;y++){var G=Z[y];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}wo=!!ou,hu=ou=null}finally{ze=c,k.p=a,M.T=n}}i.current=s,_t=2}}function dv(){if(_t===2){_t=0;var i=Ys,s=Sn,n=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||n){n=M.T,M.T=null;var a=k.p;k.p=2;var c=ze;ze|=4;try{$g(i,s.alternate,s)}finally{ze=c,k.p=a,M.T=n}}_t=3}}function fv(){if(_t===4||_t===3){_t=0,M1();var i=Ys,s=Sn,n=vs,a=Jg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?_t=5:(_t=0,Sn=Ys=null,_v(i,i.pendingLanes));var c=i.pendingLanes;if(c===0&&(qs=null),gh(n),s=s.stateNode,ai&&typeof ai.onCommitFiberRoot=="function")try{ai.onCommitFiberRoot(In,s,void 0,(s.current.flags&128)===128)}catch{}if(a!==null){s=M.T,c=k.p,k.p=2,M.T=null;try{for(var d=i.onRecoverableError,v=0;v<a.length;v++){var y=a[v];d(y.value,{componentStack:y.stack})}}finally{M.T=s,k.p=c}}(vs&3)!==0&&co(),qi(i),c=i.pendingLanes,(n&261930)!==0&&(c&42)!==0?i===Vc?kl++:(kl=0,Vc=i):kl=0,Ll(0)}}function _v(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,ol(s)))}function co(){return uv(),dv(),fv(),gv()}function gv(){if(_t!==5)return!1;var i=Ys,s=Kc;Kc=0;var n=gh(vs),a=M.T,c=k.p;try{k.p=32>n?32:n,M.T=null,n=Gc,Gc=null;var d=Ys,v=vs;if(_t=0,Sn=Ys=null,vs=0,(ze&6)!==0)throw Error(l(331));var y=ze;if(ze|=4,Xg(d.current),Kg(d,d.current,v,n),ze=y,Ll(0,!1),ai&&typeof ai.onPostCommitFiberRoot=="function")try{ai.onPostCommitFiberRoot(In,d)}catch{}return!0}finally{k.p=c,M.T=a,_v(i,s)}}function vv(i,s,n){s=wi(n,s),s=kc(i.stateNode,s,2),i=js(i,s,2),i!==null&&(Gn(i,2),qi(i))}function He(i,s,n){if(i.tag===3)vv(i,i,n);else for(;s!==null;){if(s.tag===3){vv(s,i,n);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(qs===null||!qs.has(a))){i=wi(n,i),n=pg(2),a=js(s,n,2),a!==null&&(mg(n,a,s,i),Gn(a,2),qi(a));break}}s=s.return}}function Qc(i,s,n){var a=i.pingCache;if(a===null){a=i.pingCache=new QS;var c=new Set;a.set(s,c)}else c=a.get(s),c===void 0&&(c=new Set,a.set(s,c));c.has(n)||(qc=!0,c.add(n),i=sy.bind(null,i,s,n),s.then(i,i))}function sy(i,s,n){var a=i.pingCache;a!==null&&a.delete(s),i.pingedLanes|=i.suspendedLanes&n,i.warmLanes&=~n,Fe===i&&(Me&n)===n&&(Je===4||Je===3&&(Me&62914560)===Me&&300>li()-ro?(ze&2)===0&&yn(i,0):Yc|=n,mn===Me&&(mn=0)),qi(i)}function pv(i,s){s===0&&(s=uf()),i=vr(i,s),i!==null&&(Gn(i,s),qi(i))}function ry(i){var s=i.memoizedState,n=0;s!==null&&(n=s.retryLane),pv(i,n)}function ny(i,s){var n=0;switch(i.tag){case 31:case 13:var a=i.stateNode,c=i.memoizedState;c!==null&&(n=c.retryLane);break;case 19:a=i.stateNode;break;case 22:a=i.stateNode._retryCache;break;default:throw Error(l(314))}a!==null&&a.delete(s),pv(i,n)}function ly(i,s){return Yn(i,s)}var uo=null,xn=null,Jc=!1,fo=!1,eu=!1,Ks=0;function qi(i){i!==xn&&i.next===null&&(xn===null?uo=xn=i:xn=xn.next=i),fo=!0,Jc||(Jc=!0,oy())}function Ll(i,s){if(!eu&&fo){eu=!0;do for(var n=!1,a=uo;a!==null;){if(i!==0){var c=a.pendingLanes;if(c===0)var d=0;else{var v=a.suspendedLanes,y=a.pingedLanes;d=(1<<31-oi(42|i)+1)-1,d&=c&~(v&~y),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,bv(a,d))}else d=Me,d=va(a,a===Fe?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(d&3)===0||Kn(a,d)||(n=!0,bv(a,d));a=a.next}while(n);eu=!1}}function ay(){mv()}function mv(){fo=Jc=!1;var i=0;Ks!==0&&my()&&(i=Ks);for(var s=li(),n=null,a=uo;a!==null;){var c=a.next,d=Sv(a,s);d===0?(a.next=null,n===null?uo=c:n.next=c,c===null&&(xn=n)):(n=a,(i!==0||(d&3)!==0)&&(fo=!0)),a=c}_t!==0&&_t!==5||Ll(i),Ks!==0&&(Ks=0)}function Sv(i,s){for(var n=i.suspendedLanes,a=i.pingedLanes,c=i.expirationTimes,d=i.pendingLanes&-62914561;0<d;){var v=31-oi(d),y=1<<v,L=c[v];L===-1?((y&n)===0||(y&a)!==0)&&(c[v]=z1(y,s)):L<=s&&(i.expiredLanes|=y),d&=~y}if(s=Fe,n=Me,n=va(i,i===s?n:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),a=i.callbackNode,n===0||i===s&&(Ne===2||Ne===9)||i.cancelPendingCommit!==null)return a!==null&&a!==null&&dh(a),i.callbackNode=null,i.callbackPriority=0;if((n&3)===0||Kn(i,n)){if(s=n&-n,s===i.callbackPriority)return s;switch(a!==null&&dh(a),gh(n)){case 2:case 8:n=hf;break;case 32:n=da;break;case 268435456:n=cf;break;default:n=da}return a=yv.bind(null,i),n=Yn(n,a),i.callbackPriority=s,i.callbackNode=n,s}return a!==null&&a!==null&&dh(a),i.callbackPriority=2,i.callbackNode=null,2}function yv(i,s){if(_t!==0&&_t!==5)return i.callbackNode=null,i.callbackPriority=0,null;var n=i.callbackNode;if(co()&&i.callbackNode!==n)return null;var a=Me;return a=va(i,i===Fe?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),a===0?null:(tv(i,a,s),Sv(i,li()),i.callbackNode!=null&&i.callbackNode===n?yv.bind(null,i):null)}function bv(i,s){if(co())return null;tv(i,s,!0)}function oy(){yy(function(){(ze&6)!==0?Yn(of,ay):mv()})}function tu(){if(Ks===0){var i=an;i===0&&(i=fa,fa<<=1,(fa&261888)===0&&(fa=256)),Ks=i}return Ks}function xv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ya(""+i)}function wv(i,s){var n=s.ownerDocument.createElement("input");return n.name=s.name,n.value=s.value,i.id&&n.setAttribute("form",i.id),s.parentNode.insertBefore(n,s),i=new FormData(i),n.parentNode.removeChild(n),i}function hy(i,s,n,a,c){if(s==="submit"&&n&&n.stateNode===c){var d=xv((c[Xt]||null).action),v=a.submitter;v&&(s=(s=v[Xt]||null)?xv(s.formAction):v.getAttribute("formAction"),s!==null&&(d=s,v=null));var y=new Ca("action","action",null,a,c);i.push({event:y,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ks!==0){var L=v?wv(c,v):new FormData(c);bc(n,{pending:!0,data:L,method:c.method,action:d},null,L)}}else typeof d=="function"&&(y.preventDefault(),L=v?wv(c,v):new FormData(c),bc(n,{pending:!0,data:L,method:c.method,action:d},d,L))},currentTarget:c}]})}}for(var iu=0;iu<jh.length;iu++){var su=jh[iu],cy=su.toLowerCase(),uy=su[0].toUpperCase()+su.slice(1);Hi(cy,"on"+uy)}Hi(e_,"onAnimationEnd"),Hi(t_,"onAnimationIteration"),Hi(i_,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(kS,"onTransitionRun"),Hi(LS,"onTransitionStart"),Hi(AS,"onTransitionCancel"),Hi(s_,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function Cv(i,s){s=(s&4)!==0;for(var n=0;n<i.length;n++){var a=i[n],c=a.event;a=a.listeners;e:{var d=void 0;if(s)for(var v=a.length-1;0<=v;v--){var y=a[v],L=y.instance,$=y.currentTarget;if(y=y.listener,L!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=$;try{d(c)}catch(I){ka(I)}c.currentTarget=null,d=L}else for(v=0;v<a.length;v++){if(y=a[v],L=y.instance,$=y.currentTarget,y=y.listener,L!==d&&c.isPropagationStopped())break e;d=y,c.currentTarget=$;try{d(c)}catch(I){ka(I)}c.currentTarget=null,d=L}}}}function Ee(i,s){var n=s[vh];n===void 0&&(n=s[vh]=new Set);var a=i+"__bubble";n.has(a)||(Ev(s,i,2,!1),n.add(a))}function ru(i,s,n){var a=0;s&&(a|=4),Ev(n,i,a,s)}var _o="_reactListening"+Math.random().toString(36).slice(2);function nu(i){if(!i[_o]){i[_o]=!0,mf.forEach(function(n){n!=="selectionchange"&&(dy.has(n)||ru(n,!1,i),ru(n,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[_o]||(s[_o]=!0,ru("selectionchange",!1,s))}}function Ev(i,s,n,a){switch(ep(s)){case 2:var c=$y;break;case 8:c=Py;break;default:c=yu}n=c.bind(null,s,n,i),c=void 0,!Eh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(c=!0),a?c!==void 0?i.addEventListener(s,n,{capture:!0,passive:c}):i.addEventListener(s,n,!0):c!==void 0?i.addEventListener(s,n,{passive:c}):i.addEventListener(s,n,!1)}function lu(i,s,n,a,c){var d=a;if((s&1)===0&&(s&2)===0&&a!==null)e:for(;;){if(a===null)return;var v=a.tag;if(v===3||v===4){var y=a.stateNode.containerInfo;if(y===c)break;if(v===4)for(v=a.return;v!==null;){var L=v.tag;if((L===3||L===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;y!==null;){if(v=Wr(y),v===null)return;if(L=v.tag,L===5||L===6||L===26||L===27){a=d=v;continue e}y=y.parentNode}}a=a.return}Tf(function(){var $=d,I=wh(n),Z=[];e:{var P=r_.get(i);if(P!==void 0){var q=Ca,ce=i;switch(i){case"keypress":if(xa(n)===0)break e;case"keydown":case"keyup":q=nS;break;case"focusin":ce="focus",q=Ah;break;case"focusout":ce="blur",q=Ah;break;case"beforeblur":case"afterblur":q=Ah;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=K1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=oS;break;case e_:case t_:case i_:q=X1;break;case s_:q=cS;break;case"scroll":case"scrollend":q=Y1;break;case"wheel":q=dS;break;case"copy":case"cut":case"paste":q=Q1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Of;break;case"toggle":case"beforetoggle":q=_S}var ge=(s&4)!==0,$e=!ge&&(i==="scroll"||i==="scrollend"),B=ge?P!==null?P+"Capture":null:P;ge=[];for(var R=$,H;R!==null;){var G=R;if(H=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||H===null||B===null||(G=Zn(R,B),G!=null&&ge.push(Tl(R,G,H))),$e)break;R=R.return}0<ge.length&&(P=new q(P,ce,null,n,I),Z.push({event:P,listeners:ge}))}}if((s&7)===0){e:{if(P=i==="mouseover"||i==="pointerover",q=i==="mouseout"||i==="pointerout",P&&n!==xh&&(ce=n.relatedTarget||n.fromElement)&&(Wr(ce)||ce[Fr]))break e;if((q||P)&&(P=I.window===I?I:(P=I.ownerDocument)?P.defaultView||P.parentWindow:window,q?(ce=n.relatedTarget||n.toElement,q=$,ce=ce?Wr(ce):null,ce!==null&&($e=h(ce),ge=ce.tag,ce!==$e||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(q=null,ce=$),q!==ce)){if(ge=Bf,G="onMouseLeave",B="onMouseEnter",R="mouse",(i==="pointerout"||i==="pointerover")&&(ge=Of,G="onPointerLeave",B="onPointerEnter",R="pointer"),$e=q==null?P:Xn(q),H=ce==null?P:Xn(ce),P=new ge(G,R+"leave",q,n,I),P.target=$e,P.relatedTarget=H,G=null,Wr(I)===$&&(ge=new ge(B,R+"enter",ce,n,I),ge.target=H,ge.relatedTarget=$e,G=ge),$e=G,q&&ce)t:{for(ge=fy,B=q,R=ce,H=0,G=B;G;G=ge(G))H++;G=0;for(var _e=R;_e;_e=ge(_e))G++;for(;0<H-G;)B=ge(B),H--;for(;0<G-H;)R=ge(R),G--;for(;H--;){if(B===R||R!==null&&B===R.alternate){ge=B;break t}B=ge(B),R=ge(R)}ge=null}else ge=null;q!==null&&Mv(Z,P,q,ge,!1),ce!==null&&$e!==null&&Mv(Z,$e,ce,ge,!0)}}e:{if(P=$?Xn($):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var De=Wf;else if(Pf(P))if(qf)De=CS;else{De=xS;var de=bS}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?$&&bh($.elementType)&&(De=Wf):De=wS;if(De&&(De=De(i,$))){Ff(Z,De,n,I);break e}de&&de(i,P,$),i==="focusout"&&$&&P.type==="number"&&$.memoizedProps.value!=null&&yh(P,"number",P.value)}switch(de=$?Xn($):window,i){case"focusin":(Pf(de)||de.contentEditable==="true")&&(Qr=de,Oh=$,nl=null);break;case"focusout":nl=Oh=Qr=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,Qf(Z,n,I);break;case"selectionchange":if(MS)break;case"keydown":case"keyup":Qf(Z,n,I)}var ye;if(Rh)e:{switch(i){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Zr?Uf(i,n)&&(ke="onCompositionEnd"):i==="keydown"&&n.keyCode===229&&(ke="onCompositionStart");ke&&(Nf&&n.locale!=="ko"&&(Zr||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Zr&&(ye=Rf()):(Rs=I,Mh="value"in Rs?Rs.value:Rs.textContent,Zr=!0)),de=go($,ke),0<de.length&&(ke=new zf(ke,i,null,n,I),Z.push({event:ke,listeners:de}),ye?ke.data=ye:(ye=$f(n),ye!==null&&(ke.data=ye)))),(ye=vS?pS(i,n):mS(i,n))&&(ke=go($,"onBeforeInput"),0<ke.length&&(de=new zf("onBeforeInput","beforeinput",null,n,I),Z.push({event:de,listeners:ke}),de.data=ye)),hy(Z,i,$,n,I)}Cv(Z,s)})}function Tl(i,s,n){return{instance:i,listener:s,currentTarget:n}}function go(i,s){for(var n=s+"Capture",a=[];i!==null;){var c=i,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Zn(i,n),c!=null&&a.unshift(Tl(i,c,d)),c=Zn(i,s),c!=null&&a.push(Tl(i,c,d))),i.tag===3)return a;i=i.return}return[]}function fy(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Mv(i,s,n,a,c){for(var d=s._reactName,v=[];n!==null&&n!==a;){var y=n,L=y.alternate,$=y.stateNode;if(y=y.tag,L!==null&&L===a)break;y!==5&&y!==26&&y!==27||$===null||(L=$,c?($=Zn(n,d),$!=null&&v.unshift(Tl(n,$,L))):c||($=Zn(n,d),$!=null&&v.push(Tl(n,$,L)))),n=n.return}v.length!==0&&i.push({event:s,listeners:v})}var _y=/\r\n?/g,gy=/\u0000|\uFFFD/g;function kv(i){return(typeof i=="string"?i:""+i).replace(_y,`
`).replace(gy,"")}function Lv(i,s){return s=kv(s),kv(i)===s}function Ue(i,s,n,a,c,d){switch(n){case"children":typeof a=="string"?s==="body"||s==="textarea"&&a===""||Gr(i,a):(typeof a=="number"||typeof a=="bigint")&&s!=="body"&&Gr(i,""+a);break;case"className":ma(i,"class",a);break;case"tabIndex":ma(i,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ma(i,n,a);break;case"style":Lf(i,a,d);break;case"data":if(s!=="object"){ma(i,"data",a);break}case"src":case"href":if(a===""&&(s!=="a"||n!=="href")){i.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){i.removeAttribute(n);break}a=ya(""+a),i.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){i.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(s!=="input"&&Ue(i,s,"name",c.name,c,null),Ue(i,s,"formEncType",c.formEncType,c,null),Ue(i,s,"formMethod",c.formMethod,c,null),Ue(i,s,"formTarget",c.formTarget,c,null)):(Ue(i,s,"encType",c.encType,c,null),Ue(i,s,"method",c.method,c,null),Ue(i,s,"target",c.target,c,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){i.removeAttribute(n);break}a=ya(""+a),i.setAttribute(n,a);break;case"onClick":a!=null&&(i.onclick=ts);break;case"onScroll":a!=null&&Ee("scroll",i);break;case"onScrollEnd":a!=null&&Ee("scrollend",i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(l(61));if(n=a.__html,n!=null){if(c.children!=null)throw Error(l(60));i.innerHTML=n}}break;case"multiple":i.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":i.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){i.removeAttribute("xlink:href");break}n=ya(""+a),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?i.setAttribute(n,""+a):i.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?i.setAttribute(n,""):i.removeAttribute(n);break;case"capture":case"download":a===!0?i.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?i.setAttribute(n,a):i.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?i.setAttribute(n,a):i.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?i.removeAttribute(n):i.setAttribute(n,a);break;case"popover":Ee("beforetoggle",i),Ee("toggle",i),pa(i,"popover",a);break;case"xlinkActuate":es(i,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":es(i,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":es(i,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":es(i,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":es(i,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":es(i,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":es(i,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":es(i,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":es(i,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":pa(i,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=W1.get(n)||n,pa(i,n,a))}}function au(i,s,n,a,c,d){switch(n){case"style":Lf(i,a,d);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(l(61));if(n=a.__html,n!=null){if(c.children!=null)throw Error(l(60));i.innerHTML=n}}break;case"children":typeof a=="string"?Gr(i,a):(typeof a=="number"||typeof a=="bigint")&&Gr(i,""+a);break;case"onScroll":a!=null&&Ee("scroll",i);break;case"onScrollEnd":a!=null&&Ee("scrollend",i);break;case"onClick":a!=null&&(i.onclick=ts);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sf.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),s=n.slice(2,c?n.length-7:void 0),d=i[Xt]||null,d=d!=null?d[n]:null,typeof d=="function"&&i.removeEventListener(s,d,c),typeof a=="function")){typeof d!="function"&&d!==null&&(n in i?i[n]=null:i.hasAttribute(n)&&i.removeAttribute(n)),i.addEventListener(s,a,c);break e}n in i?i[n]=a:a===!0?i.setAttribute(n,""):pa(i,n,a)}}}function Ot(i,s,n){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",i),Ee("load",i);var a=!1,c=!1,d;for(d in n)if(n.hasOwnProperty(d)){var v=n[d];if(v!=null)switch(d){case"src":a=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,s));default:Ue(i,s,d,v,n,null)}}c&&Ue(i,s,"srcSet",n.srcSet,n,null),a&&Ue(i,s,"src",n.src,n,null);return;case"input":Ee("invalid",i);var y=d=v=c=null,L=null,$=null;for(a in n)if(n.hasOwnProperty(a)){var I=n[a];if(I!=null)switch(a){case"name":c=I;break;case"type":v=I;break;case"checked":L=I;break;case"defaultChecked":$=I;break;case"value":d=I;break;case"defaultValue":y=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(l(137,s));break;default:Ue(i,s,a,I,n,null)}}Cf(i,d,y,L,$,v,c,!1);return;case"select":Ee("invalid",i),a=v=d=null;for(c in n)if(n.hasOwnProperty(c)&&(y=n[c],y!=null))switch(c){case"value":d=y;break;case"defaultValue":v=y;break;case"multiple":a=y;default:Ue(i,s,c,y,n,null)}s=d,n=v,i.multiple=!!a,s!=null?Kr(i,!!a,s,!1):n!=null&&Kr(i,!!a,n,!0);return;case"textarea":Ee("invalid",i),d=c=a=null;for(v in n)if(n.hasOwnProperty(v)&&(y=n[v],y!=null))switch(v){case"value":a=y;break;case"defaultValue":c=y;break;case"children":d=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(l(91));break;default:Ue(i,s,v,y,n,null)}Mf(i,a,c,d);return;case"option":for(L in n)n.hasOwnProperty(L)&&(a=n[L],a!=null)&&(L==="selected"?i.selected=a&&typeof a!="function"&&typeof a!="symbol":Ue(i,s,L,a,n,null));return;case"dialog":Ee("beforetoggle",i),Ee("toggle",i),Ee("cancel",i),Ee("close",i);break;case"iframe":case"object":Ee("load",i);break;case"video":case"audio":for(a=0;a<Al.length;a++)Ee(Al[a],i);break;case"image":Ee("error",i),Ee("load",i);break;case"details":Ee("toggle",i);break;case"embed":case"source":case"link":Ee("error",i),Ee("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in n)if(n.hasOwnProperty($)&&(a=n[$],a!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,s));default:Ue(i,s,$,a,n,null)}return;default:if(bh(s)){for(I in n)n.hasOwnProperty(I)&&(a=n[I],a!==void 0&&au(i,s,I,a,n,void 0));return}}for(y in n)n.hasOwnProperty(y)&&(a=n[y],a!=null&&Ue(i,s,y,a,n,null))}function vy(i,s,n,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,v=null,y=null,L=null,$=null,I=null;for(q in n){var Z=n[q];if(n.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":L=Z;default:a.hasOwnProperty(q)||Ue(i,s,q,null,a,Z)}}for(var P in a){var q=a[P];if(Z=n[P],a.hasOwnProperty(P)&&(q!=null||Z!=null))switch(P){case"type":d=q;break;case"name":c=q;break;case"checked":$=q;break;case"defaultChecked":I=q;break;case"value":v=q;break;case"defaultValue":y=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,s));break;default:q!==Z&&Ue(i,s,P,q,a,Z)}}Sh(i,v,y,L,$,I,d,c);return;case"select":q=v=y=P=null;for(d in n)if(L=n[d],n.hasOwnProperty(d)&&L!=null)switch(d){case"value":break;case"multiple":q=L;default:a.hasOwnProperty(d)||Ue(i,s,d,null,a,L)}for(c in a)if(d=a[c],L=n[c],a.hasOwnProperty(c)&&(d!=null||L!=null))switch(c){case"value":P=d;break;case"defaultValue":y=d;break;case"multiple":v=d;default:d!==L&&Ue(i,s,c,d,a,L)}s=y,n=v,a=q,P!=null?Kr(i,!!n,P,!1):!!a!=!!n&&(s!=null?Kr(i,!!n,s,!0):Kr(i,!!n,n?[]:"",!1));return;case"textarea":q=P=null;for(y in n)if(c=n[y],n.hasOwnProperty(y)&&c!=null&&!a.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ue(i,s,y,null,a,c)}for(v in a)if(c=a[v],d=n[v],a.hasOwnProperty(v)&&(c!=null||d!=null))switch(v){case"value":P=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==d&&Ue(i,s,v,c,a,d)}Ef(i,P,q);return;case"option":for(var ce in n)P=n[ce],n.hasOwnProperty(ce)&&P!=null&&!a.hasOwnProperty(ce)&&(ce==="selected"?i.selected=!1:Ue(i,s,ce,null,a,P));for(L in a)P=a[L],q=n[L],a.hasOwnProperty(L)&&P!==q&&(P!=null||q!=null)&&(L==="selected"?i.selected=P&&typeof P!="function"&&typeof P!="symbol":Ue(i,s,L,P,a,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in n)P=n[ge],n.hasOwnProperty(ge)&&P!=null&&!a.hasOwnProperty(ge)&&Ue(i,s,ge,null,a,P);for($ in a)if(P=a[$],q=n[$],a.hasOwnProperty($)&&P!==q&&(P!=null||q!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(l(137,s));break;default:Ue(i,s,$,P,a,q)}return;default:if(bh(s)){for(var $e in n)P=n[$e],n.hasOwnProperty($e)&&P!==void 0&&!a.hasOwnProperty($e)&&au(i,s,$e,void 0,a,P);for(I in a)P=a[I],q=n[I],!a.hasOwnProperty(I)||P===q||P===void 0&&q===void 0||au(i,s,I,P,a,q);return}}for(var B in n)P=n[B],n.hasOwnProperty(B)&&P!=null&&!a.hasOwnProperty(B)&&Ue(i,s,B,null,a,P);for(Z in a)P=a[Z],q=n[Z],!a.hasOwnProperty(Z)||P===q||P==null&&q==null||Ue(i,s,Z,P,a,q)}function Av(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function py(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var c=n[a],d=c.transferSize,v=c.initiatorType,y=c.duration;if(d&&y&&Av(v)){for(v=0,y=c.responseEnd,a+=1;a<n.length;a++){var L=n[a],$=L.startTime;if($>y)break;var I=L.transferSize,Z=L.initiatorType;I&&Av(Z)&&(L=L.responseEnd,v+=I*(L<y?1:(y-$)/(L-$)))}if(--a,s+=8*(d+v)/(c.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var ou=null,hu=null;function vo(i){return i.nodeType===9?i:i.ownerDocument}function Tv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rv(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function cu(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var uu=null;function my(){var i=window.event;return i&&i.type==="popstate"?i===uu?!1:(uu=i,!0):(uu=null,!1)}var Dv=typeof setTimeout=="function"?setTimeout:void 0,Sy=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,yy=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(i){return Bv.resolve(null).then(i).catch(by)}:Dv;function by(i){setTimeout(function(){throw i})}function Gs(i){return i==="head"}function zv(i,s){var n=s,a=0;do{var c=n.nextSibling;if(i.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(a===0){i.removeChild(c),Mn(s);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Rl(i.ownerDocument.documentElement);else if(n==="head"){n=i.ownerDocument.head,Rl(n);for(var d=n.firstChild;d;){var v=d.nextSibling,y=d.nodeName;d[Vn]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&d.rel.toLowerCase()==="stylesheet"||n.removeChild(d),d=v}}else n==="body"&&Rl(i.ownerDocument.body);n=c}while(n);Mn(s)}function Ov(i,s){var n=i;i=0;do{var a=n.nextSibling;if(n.nodeType===1?s?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(s?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(i===0)break;i--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||i++;n=a}while(n)}function du(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var n=s;switch(s=s.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":du(n),ph(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}i.removeChild(n)}}function xy(i,s,n,a){for(;i.nodeType===1;){var c=n;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!a&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(a){if(!i[Vn])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(d=i.getAttribute("rel"),d==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(d!==c.rel||i.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||i.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||i.getAttribute("title")!==(c.title==null?null:c.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(d=i.getAttribute("src"),(d!==(c.src==null?null:c.src)||i.getAttribute("type")!==(c.type==null?null:c.type)||i.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&i.getAttribute("name")===d)return i}else return i;if(i=Li(i.nextSibling),i===null)break}return null}function wy(i,s,n){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!n||(i=Li(i.nextSibling),i===null))return null;return i}function Nv(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Li(i.nextSibling),i===null))return null;return i}function fu(i){return i.data==="$?"||i.data==="$~"}function _u(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Cy(i,s){var n=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||n.readyState!=="loading")s();else{var a=function(){s(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),i._reactRetry=a}}function Li(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var gu=null;function Hv(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var n=i.data;if(n==="/$"||n==="/&"){if(s===0)return Li(i.nextSibling);s--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||s++}i=i.nextSibling}return null}function jv(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var n=i.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(s===0)return i;s--}else n!=="/$"&&n!=="/&"||s++}i=i.previousSibling}return null}function Uv(i,s,n){switch(s=vo(n),i){case"html":if(i=s.documentElement,!i)throw Error(l(452));return i;case"head":if(i=s.head,!i)throw Error(l(453));return i;case"body":if(i=s.body,!i)throw Error(l(454));return i;default:throw Error(l(451))}}function Rl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ph(i)}var Ai=new Map,$v=new Set;function po(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ps=k.d;k.d={f:Ey,r:My,D:ky,C:Ly,L:Ay,m:Ty,X:Dy,S:Ry,M:By};function Ey(){var i=ps.f(),s=ao();return i||s}function My(i){var s=qr(i);s!==null&&s.tag===5&&s.type==="form"?sg(s):ps.r(i)}var wn=typeof document>"u"?null:document;function Pv(i,s,n){var a=wn;if(a&&typeof s=="string"&&s){var c=bi(s);c='link[rel="'+i+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),$v.has(c)||($v.add(c),i={rel:i,crossOrigin:n,href:s},a.querySelector(c)===null&&(s=a.createElement("link"),Ot(s,"link",i),mt(s),a.head.appendChild(s)))}}function ky(i){ps.D(i),Pv("dns-prefetch",i,null)}function Ly(i,s){ps.C(i,s),Pv("preconnect",i,s)}function Ay(i,s,n){ps.L(i,s,n);var a=wn;if(a&&i&&s){var c='link[rel="preload"][as="'+bi(s)+'"]';s==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+bi(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+bi(n.imageSizes)+'"]')):c+='[href="'+bi(i)+'"]';var d=c;switch(s){case"style":d=Cn(i);break;case"script":d=En(i)}Ai.has(d)||(i=m({rel:"preload",href:s==="image"&&n&&n.imageSrcSet?void 0:i,as:s},n),Ai.set(d,i),a.querySelector(c)!==null||s==="style"&&a.querySelector(Dl(d))||s==="script"&&a.querySelector(Bl(d))||(s=a.createElement("link"),Ot(s,"link",i),mt(s),a.head.appendChild(s)))}}function Ty(i,s){ps.m(i,s);var n=wn;if(n&&i){var a=s&&typeof s.as=="string"?s.as:"script",c='link[rel="modulepreload"][as="'+bi(a)+'"][href="'+bi(i)+'"]',d=c;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=En(i)}if(!Ai.has(d)&&(i=m({rel:"modulepreload",href:i},s),Ai.set(d,i),n.querySelector(c)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Bl(d)))return}a=n.createElement("link"),Ot(a,"link",i),mt(a),n.head.appendChild(a)}}}function Ry(i,s,n){ps.S(i,s,n);var a=wn;if(a&&i){var c=Yr(a).hoistableStyles,d=Cn(i);s=s||"default";var v=c.get(d);if(!v){var y={loading:0,preload:null};if(v=a.querySelector(Dl(d)))y.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":s},n),(n=Ai.get(d))&&vu(i,n);var L=v=a.createElement("link");mt(L),Ot(L,"link",i),L._p=new Promise(function($,I){L.onload=$,L.onerror=I}),L.addEventListener("load",function(){y.loading|=1}),L.addEventListener("error",function(){y.loading|=2}),y.loading|=4,mo(v,s,a)}v={type:"stylesheet",instance:v,count:1,state:y},c.set(d,v)}}}function Dy(i,s){ps.X(i,s);var n=wn;if(n&&i){var a=Yr(n).hoistableScripts,c=En(i),d=a.get(c);d||(d=n.querySelector(Bl(c)),d||(i=m({src:i,async:!0},s),(s=Ai.get(c))&&pu(i,s),d=n.createElement("script"),mt(d),Ot(d,"link",i),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},a.set(c,d))}}function By(i,s){ps.M(i,s);var n=wn;if(n&&i){var a=Yr(n).hoistableScripts,c=En(i),d=a.get(c);d||(d=n.querySelector(Bl(c)),d||(i=m({src:i,async:!0,type:"module"},s),(s=Ai.get(c))&&pu(i,s),d=n.createElement("script"),mt(d),Ot(d,"link",i),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},a.set(c,d))}}function Fv(i,s,n,a){var c=(c=oe.current)?po(c):null;if(!c)throw Error(l(446));switch(i){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(s=Cn(n.href),n=Yr(c).hoistableStyles,a=n.get(s),a||(a={type:"style",instance:null,count:0,state:null},n.set(s,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){i=Cn(n.href);var d=Yr(c).hoistableStyles,v=d.get(i);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(i,v),(d=c.querySelector(Dl(i)))&&!d._p&&(v.instance=d,v.state.loading=5),Ai.has(i)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ai.set(i,n),d||zy(c,i,n,v.state))),s&&a===null)throw Error(l(528,""));return v}if(s&&a!==null)throw Error(l(529,""));return null;case"script":return s=n.async,n=n.src,typeof n=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=En(n),n=Yr(c).hoistableScripts,a=n.get(s),a||(a={type:"script",instance:null,count:0,state:null},n.set(s,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,i))}}function Cn(i){return'href="'+bi(i)+'"'}function Dl(i){return'link[rel="stylesheet"]['+i+"]"}function Wv(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function zy(i,s,n,a){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?a.loading=1:(s=i.createElement("link"),a.preload=s,s.addEventListener("load",function(){return a.loading|=1}),s.addEventListener("error",function(){return a.loading|=2}),Ot(s,"link",n),mt(s),i.head.appendChild(s))}function En(i){return'[src="'+bi(i)+'"]'}function Bl(i){return"script[async]"+i}function qv(i,s,n){if(s.count++,s.instance===null)switch(s.type){case"style":var a=i.querySelector('style[data-href~="'+bi(n.href)+'"]');if(a)return s.instance=a,mt(a),a;var c=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(i.ownerDocument||i).createElement("style"),mt(a),Ot(a,"style",c),mo(a,n.precedence,i),s.instance=a;case"stylesheet":c=Cn(n.href);var d=i.querySelector(Dl(c));if(d)return s.state.loading|=4,s.instance=d,mt(d),d;a=Wv(n),(c=Ai.get(c))&&vu(a,c),d=(i.ownerDocument||i).createElement("link"),mt(d);var v=d;return v._p=new Promise(function(y,L){v.onload=y,v.onerror=L}),Ot(d,"link",a),s.state.loading|=4,mo(d,n.precedence,i),s.instance=d;case"script":return d=En(n.src),(c=i.querySelector(Bl(d)))?(s.instance=c,mt(c),c):(a=n,(c=Ai.get(d))&&(a=m({},n),pu(a,c)),i=i.ownerDocument||i,c=i.createElement("script"),mt(c),Ot(c,"link",a),i.head.appendChild(c),s.instance=c);case"void":return null;default:throw Error(l(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(a=s.instance,s.state.loading|=4,mo(a,n.precedence,i));return s.instance}function mo(i,s,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=a.length?a[a.length-1]:null,d=c,v=0;v<a.length;v++){var y=a[v];if(y.dataset.precedence===s)d=y;else if(d!==c)break}d?d.parentNode.insertBefore(i,d.nextSibling):(s=n.nodeType===9?n.head:n,s.insertBefore(i,s.firstChild))}function vu(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function pu(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var So=null;function Yv(i,s,n){if(So===null){var a=new Map,c=So=new Map;c.set(n,a)}else c=So,a=c.get(n),a||(a=new Map,c.set(n,a));if(a.has(i))return a;for(a.set(i,null),n=n.getElementsByTagName(i),c=0;c<n.length;c++){var d=n[c];if(!(d[Vn]||d[Rt]||i==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(s)||"";v=i+v;var y=a.get(v);y?y.push(d):a.set(v,[d])}}return a}function Iv(i,s,n){i=i.ownerDocument||i,i.head.insertBefore(n,s==="title"?i.querySelector("head > title"):null)}function Oy(i,s,n){if(n===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Kv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Ny(i,s,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Cn(a.href),d=s.querySelector(Dl(c));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=yo.bind(i),s.then(i,i)),n.state.loading|=4,n.instance=d,mt(d);return}d=s.ownerDocument||s,a=Wv(a),(c=Ai.get(c))&&vu(a,c),d=d.createElement("link"),mt(d);var v=d;v._p=new Promise(function(y,L){v.onload=y,v.onerror=L}),Ot(d,"link",a),n.instance=d}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(n,s),(s=n.state.preload)&&(n.state.loading&3)===0&&(i.count++,n=yo.bind(i),s.addEventListener("load",n),s.addEventListener("error",n))}}var mu=0;function Hy(i,s){return i.stylesheets&&i.count===0&&xo(i,i.stylesheets),0<i.count||0<i.imgCount?function(n){var a=setTimeout(function(){if(i.stylesheets&&xo(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4+s);0<i.imgBytes&&mu===0&&(mu=62500*py());var c=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&xo(i,i.stylesheets),i.unsuspend)){var d=i.unsuspend;i.unsuspend=null,d()}},(i.imgBytes>mu?50:800)+s);return i.unsuspend=n,function(){i.unsuspend=null,clearTimeout(a),clearTimeout(c)}}:null}function yo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xo(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var bo=null;function xo(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,bo=new Map,s.forEach(jy,i),bo=null,yo.call(i))}function jy(i,s){if(!(s.state.loading&4)){var n=bo.get(i);if(n)var a=n.get(null);else{n=new Map,bo.set(i,n);for(var c=i.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var v=c[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(n.set(v.dataset.precedence,v),a=v)}a&&n.set(null,a)}c=s.instance,v=c.getAttribute("data-precedence"),d=n.get(v)||a,d===a&&n.set(null,c),n.set(v,c),this.count++,a=yo.bind(this),c.addEventListener("load",a),c.addEventListener("error",a),d?d.parentNode.insertBefore(c,d.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(c,i.firstChild)),s.state.loading|=4}}var zl={$$typeof:V,Provider:null,Consumer:null,_currentValue:C,_currentValue2:C,_threadCount:0};function Uy(i,s,n,a,c,d,v,y,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fh(0),this.hiddenUpdates=fh(null),this.identifierPrefix=a,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Gv(i,s,n,a,c,d,v,y,L,$,I,Z){return i=new Uy(i,s,n,v,L,$,I,Z,y),s=1,d===!0&&(s|=24),d=ci(3,null,null,s),i.current=d,d.stateNode=i,s=Zh(),s.refCount++,i.pooledCache=s,s.refCount++,d.memoizedState={element:a,isDehydrated:n,cache:s},tc(d),i}function Vv(i){return i?(i=tn,i):tn}function Xv(i,s,n,a,c,d){c=Vv(c),a.context===null?a.context=c:a.pendingContext=c,a=Hs(s),a.payload={element:n},d=d===void 0?null:d,d!==null&&(a.callback=d),n=js(i,a,s),n!==null&&(ii(n,i,s),dl(n,i,s))}function Zv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var n=i.retryLane;i.retryLane=n!==0&&n<s?n:s}}function Su(i,s){Zv(i,s),(i=i.alternate)&&Zv(i,s)}function Qv(i){if(i.tag===13||i.tag===31){var s=vr(i,67108864);s!==null&&ii(s,i,67108864),Su(i,67108864)}}function Jv(i){if(i.tag===13||i.tag===31){var s=gi();s=_h(s);var n=vr(i,s);n!==null&&ii(n,i,s),Su(i,s)}}var wo=!0;function $y(i,s,n,a){var c=M.T;M.T=null;var d=k.p;try{k.p=2,yu(i,s,n,a)}finally{k.p=d,M.T=c}}function Py(i,s,n,a){var c=M.T;M.T=null;var d=k.p;try{k.p=8,yu(i,s,n,a)}finally{k.p=d,M.T=c}}function yu(i,s,n,a){if(wo){var c=bu(a);if(c===null)lu(i,s,a,Co,n),tp(i,a);else if(Wy(c,i,s,n,a))a.stopPropagation();else if(tp(i,a),s&4&&-1<Fy.indexOf(i)){for(;c!==null;){var d=qr(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ur(d.pendingLanes);if(v!==0){var y=d;for(y.pendingLanes|=2,y.entangledLanes|=2;v;){var L=1<<31-oi(v);y.entanglements[1]|=L,v&=~L}qi(d),(ze&6)===0&&(no=li()+500,Ll(0))}}break;case 31:case 13:y=vr(d,2),y!==null&&ii(y,d,2),ao(),Su(d,2)}if(d=bu(a),d===null&&lu(i,s,a,Co,n),d===c)break;c=d}c!==null&&a.stopPropagation()}else lu(i,s,a,null,n)}}function bu(i){return i=wh(i),xu(i)}var Co=null;function xu(i){if(Co=null,i=Wr(i),i!==null){var s=h(i);if(s===null)i=null;else{var n=s.tag;if(n===13){if(i=u(s),i!==null)return i;i=null}else if(n===31){if(i=_(s),i!==null)return i;i=null}else if(n===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Co=i,null}function ep(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(k1()){case of:return 2;case hf:return 8;case da:case L1:return 32;case cf:return 268435456;default:return 32}default:return 32}}var wu=!1,Vs=null,Xs=null,Zs=null,Ol=new Map,Nl=new Map,Qs=[],Fy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tp(i,s){switch(i){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Ol.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(s.pointerId)}}function Hl(i,s,n,a,c,d){return i===null||i.nativeEvent!==d?(i={blockedOn:s,domEventName:n,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},s!==null&&(s=qr(s),s!==null&&Qv(s)),i):(i.eventSystemFlags|=a,s=i.targetContainers,c!==null&&s.indexOf(c)===-1&&s.push(c),i)}function Wy(i,s,n,a,c){switch(s){case"focusin":return Vs=Hl(Vs,i,s,n,a,c),!0;case"dragenter":return Xs=Hl(Xs,i,s,n,a,c),!0;case"mouseover":return Zs=Hl(Zs,i,s,n,a,c),!0;case"pointerover":var d=c.pointerId;return Ol.set(d,Hl(Ol.get(d)||null,i,s,n,a,c)),!0;case"gotpointercapture":return d=c.pointerId,Nl.set(d,Hl(Nl.get(d)||null,i,s,n,a,c)),!0}return!1}function ip(i){var s=Wr(i.target);if(s!==null){var n=h(s);if(n!==null){if(s=n.tag,s===13){if(s=u(n),s!==null){i.blockedOn=s,vf(i.priority,function(){Jv(n)});return}}else if(s===31){if(s=_(n),s!==null){i.blockedOn=s,vf(i.priority,function(){Jv(n)});return}}else if(s===3&&n.stateNode.current.memoizedState.isDehydrated){i.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Eo(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var n=bu(i.nativeEvent);if(n===null){n=i.nativeEvent;var a=new n.constructor(n.type,n);xh=a,n.target.dispatchEvent(a),xh=null}else return s=qr(n),s!==null&&Qv(s),i.blockedOn=n,!1;s.shift()}return!0}function sp(i,s,n){Eo(i)&&n.delete(s)}function qy(){wu=!1,Vs!==null&&Eo(Vs)&&(Vs=null),Xs!==null&&Eo(Xs)&&(Xs=null),Zs!==null&&Eo(Zs)&&(Zs=null),Ol.forEach(sp),Nl.forEach(sp)}function Mo(i,s){i.blockedOn===s&&(i.blockedOn=null,wu||(wu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qy)))}var ko=null;function rp(i){ko!==i&&(ko=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ko===i&&(ko=null);for(var s=0;s<i.length;s+=3){var n=i[s],a=i[s+1],c=i[s+2];if(typeof a!="function"){if(xu(a||n)===null)continue;break}var d=qr(n);d!==null&&(i.splice(s,3),s-=3,bc(d,{pending:!0,data:c,method:n.method,action:a},a,c))}}))}function Mn(i){function s(L){return Mo(L,i)}Vs!==null&&Mo(Vs,i),Xs!==null&&Mo(Xs,i),Zs!==null&&Mo(Zs,i),Ol.forEach(s),Nl.forEach(s);for(var n=0;n<Qs.length;n++){var a=Qs[n];a.blockedOn===i&&(a.blockedOn=null)}for(;0<Qs.length&&(n=Qs[0],n.blockedOn===null);)ip(n),n.blockedOn===null&&Qs.shift();if(n=(i.ownerDocument||i).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var c=n[a],d=n[a+1],v=c[Xt]||null;if(typeof d=="function")v||rp(n);else if(v){var y=null;if(d&&d.hasAttribute("formAction")){if(c=d,v=d[Xt]||null)y=v.formAction;else if(xu(c)!==null)continue}else y=v.action;typeof y=="function"?n[a+1]=y:(n.splice(a,3),a-=3),rp(n)}}}function np(){function i(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return c=v})},focusReset:"manual",scroll:"manual"})}function s(){c!==null&&(c(),c=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,c=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),c!==null&&(c(),c=null)}}}function Cu(i){this._internalRoot=i}Lo.prototype.render=Cu.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(l(409));var n=s.current,a=gi();Xv(n,a,i,s,null,null)},Lo.prototype.unmount=Cu.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Xv(i.current,2,null,i,null,null),ao(),s[Fr]=null}};function Lo(i){this._internalRoot=i}Lo.prototype.unstable_scheduleHydration=function(i){if(i){var s=gf();i={blockedOn:null,target:i,priority:s};for(var n=0;n<Qs.length&&s!==0&&s<Qs[n].priority;n++);Qs.splice(n,0,i),n===0&&ip(i)}};var lp=t.version;if(lp!=="19.2.4")throw Error(l(527,lp,"19.2.4"));k.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(l(188)):(i=Object.keys(i).join(","),Error(l(268,i)));return i=f(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var Yy={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{In=Ao.inject(Yy),ai=Ao}catch{}}return Ul.createRoot=function(i,s){if(!o(i))throw Error(l(299));var n=!1,a="",c=fg,d=_g,v=gg;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onUncaughtError!==void 0&&(c=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=Gv(i,1,!1,null,null,n,a,null,c,d,v,np),i[Fr]=s.current,nu(i),new Cu(s)},Ul.hydrateRoot=function(i,s,n){if(!o(i))throw Error(l(299));var a=!1,c="",d=fg,v=_g,y=gg,L=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.formState!==void 0&&(L=n.formState)),s=Gv(i,1,!0,s,n??null,a,c,L,d,v,y,np),s.context=Vv(null),n=s.current,a=gi(),a=_h(a),c=Hs(a),c.callback=null,js(n,c,a),n=a,s.current.lanes=n,Gn(s,n),qi(s),i[Fr]=s.current,nu(i),new Lo(s)},Ul.version="19.2.4",Ul}var vp;function tb(){if(vp)return ku.exports;vp=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ku.exports=eb(),ku.exports}var ib=tb();function sb({active:e}){return e?S.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center border-3 border-dashed border-blue-400 bg-zinc-900/85",children:S.jsx("span",{className:"font-mono text-xl font-semibold tracking-wide text-blue-400",children:"Drop file to upload"})}):null}function rb({url:e,onDismiss:t}){return S.jsxs("div",{className:"fixed top-4 right-4 z-[200] flex items-center gap-3 rounded-lg border border-purple-500/50 bg-[#1a1a2e] px-4 py-3 shadow-lg",children:[S.jsx("span",{className:"text-sm text-purple-300",children:"OAuth login required"}),S.jsx("button",{type:"button",className:"rounded bg-purple-600 px-3 py-1 text-sm text-white hover:bg-purple-500",onClick:()=>{window.open(e,"_blank"),t()},children:"Open in new tab"}),S.jsx("button",{type:"button",className:"px-0.5 text-zinc-500 hover:text-zinc-300",onClick:t,title:"Dismiss",children:S.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[S.jsx("title",{children:"Dismiss"}),S.jsx("line",{x1:"3",y1:"3",x2:"11",y2:"11"}),S.jsx("line",{x1:"11",y1:"3",x2:"3",y2:"11"})]})})]})}function Im({label:e="[coop]",wsStatus:t,host:r,ptyOffset:l,onToggleInspector:o,inspectorVisible:h}){return S.jsxs("div",{className:"flex h-8 shrink-0 items-center justify-between border-t border-[#333] bg-[#1a1a1a] px-3 font-mono text-[13px] text-zinc-300",children:[S.jsx("span",{className:"flex items-center gap-2.5",children:S.jsx("span",{className:"font-bold tracking-wide text-teal-400",children:e})}),S.jsxs("span",{className:"flex items-center gap-2.5",children:[l!=null&&l>0&&S.jsxs("span",{className:"text-xs text-zinc-600",children:["offset: ",l]}),S.jsxs("span",{className:"flex items-center",children:[S.jsx("span",{className:`mr-1.5 inline-block h-2 w-2 rounded-full ${t==="connected"?"bg-green-500":t==="connecting"?"bg-amber-500":"bg-red-500"}`}),S.jsx("span",{children:t==="connected"?`Connected  ${r||location.host}`:t==="connecting"?"Connecting":"Disconnected"})]}),o&&S.jsx("button",{type:"button",className:"rounded border border-zinc-600 px-2.5 py-0.5 font-mono text-[11px] text-zinc-200 hover:border-zinc-400 hover:text-white",onClick:o,children:h?"Hide":"Inspector"})]})]})}const er={idle:"bg-blue-500/20 text-blue-400",working:"bg-green-500/20 text-green-400",permission_prompt:"bg-yellow-500/20 text-yellow-500",error:"bg-red-500/20 text-red-400",exited:"bg-zinc-700 text-zinc-400",starting:"bg-blue-500/20 text-blue-400",unknown:"bg-zinc-700 text-zinc-400"};function nb(e){if(!e)return er.unknown;const t=e.toLowerCase();return t==="idle"||t==="waiting_for_input"?er.idle:t==="working"?er.working:t.includes("prompt")?er.permission_prompt:t.includes("error")||t==="parked"?er.error:t==="exited"?er.exited:t==="starting"||t==="restarting"?er.starting:er.unknown}function Km({state:e,className:t}){return S.jsx("span",{className:`inline-block rounded-full px-2 py-0.5 text-[11px] font-medium uppercase whitespace-nowrap ${nb(e)} ${t||""}`,children:e||"unknown"})}const Wo=["#000000","#cd3131","#0dbc79","#e5e510","#2472c8","#bc3fbc","#11a8cd","#e5e5e5","#666666","#f14c4c","#23d18b","#f5f543","#3b8eea","#d670d6","#29b8db","#ffffff"];function pp(e){if(e<16)return Wo[e];if(e<232){const r=e-16,l=r%6*51,o=Math.floor(r/6)%6*51;return`rgb(${Math.floor(r/36)*51},${o},${l})`}const t=(e-232)*10+8;return`rgb(${t},${t},${t})`}function Jo(){return{bold:!1,faint:!1,italic:!1,underline:!1,strikethrough:!1,inverse:!1,fg:null,bg:null}}function mp(e,t){const r=e[t+1];return r===5&&t+2<e.length?{color:{kind:"named",index:e[t+2]},consumed:3}:r===2&&t+4<e.length?{color:{kind:"rgb",r:e[t+2],g:e[t+3],b:e[t+4]},consumed:5}:{color:null,consumed:1}}function lb(e,t){if(t.length===0){Object.assign(e,Jo());return}let r=0;for(;r<t.length;){const l=t[r];if(l===0)Object.assign(e,Jo());else if(l===1)e.bold=!0;else if(l===2)e.faint=!0;else if(l===3)e.italic=!0;else if(l===4)e.underline=!0;else if(l===7)e.inverse=!0;else if(l===9)e.strikethrough=!0;else if(l===22)e.bold=!1,e.faint=!1;else if(l===23)e.italic=!1;else if(l===24)e.underline=!1;else if(l===27)e.inverse=!1;else if(l===29)e.strikethrough=!1;else if(l>=30&&l<=37)e.fg={kind:"named",index:l-30};else if(l===38){const o=mp(t,r);e.fg=o.color,r+=o.consumed-1}else if(l===39)e.fg=null;else if(l>=40&&l<=47)e.bg={kind:"named",index:l-40};else if(l===48){const o=mp(t,r);e.bg=o.color,r+=o.consumed-1}else l===49?e.bg=null:l>=90&&l<=97?e.fg={kind:"named",index:l-90+8}:l>=100&&l<=107&&(e.bg={kind:"named",index:l-100+8});r++}}const To=/\x1b\[([0-9;]*)([A-Za-z])/g,ab=/\x1b\].*?(?:\x1b\\|\x07)/g;function ob(e){const t=[],r=Jo(),l=e.replace(ab,"");let o=0;To.lastIndex=0;for(let h=To.exec(l);h!==null;h=To.exec(l)){if(h.index>o){const u=l.slice(o,h.index);u&&t.push({text:u,...r,fg:r.fg,bg:r.bg})}if(o=To.lastIndex,h[2]==="m"){const u=h[1]?h[1].split(";").map(Number):[];lb(r,u)}}if(o<l.length){const h=l.slice(o);h&&t.push({text:h,...r,fg:r.fg,bg:r.bg})}return t.length===0&&t.push({text:"",...Jo()}),t}function hb(e,t){const r={};let l=!1,o=e.fg,h=e.bg;if(e.inverse){const _=o;o=h,h=_}if(o){let _;o.kind==="named"&&e.bold&&o.index<8?_=Wo[o.index+8]:o.kind==="named"&&o.index<16?_=Wo[o.index]:o.kind==="named"?_=pp(o.index):_=`rgb(${o.r},${o.g},${o.b})`,r.color=_,l=!0}else e.inverse&&(r.color=t.background??"#1e1e1e",l=!0);if(h){const _=h.kind==="named"?h.index<16?Wo[h.index]:pp(h.index):`rgb(${h.r},${h.g},${h.b})`;r.backgroundColor=_,l=!0}else e.inverse&&(r.backgroundColor=t.foreground??"#c9d1d9",l=!0);e.bold&&(r.fontWeight="bold",l=!0),e.faint&&(r.opacity=.5,l=!0),e.italic&&(r.fontStyle="italic",l=!0);const u=[];return e.underline&&u.push("underline"),e.strikethrough&&u.push("line-through"),u.length>0&&(r.textDecoration=u.join(" "),l=!0),l?r:void 0}const sa="'Source Code Pro', 'Fira Code', 'Fira Mono', 'SF Mono', 'Cascadia Code', Menlo, Consolas, monospace",hr={background:"#1e1e1e",foreground:"#c9d1d9",cursor:"#1e1e1e",selectionBackground:"#388bfd44"},cb=9,Gm=14,ub=["enter","escape","tab","backspace","delete","up","down","left","right","ctrl-c","ctrl-d","ctrl-z","ctrl-l","ctrl-a","ctrl-e"];function Vm(e,t){const r=document.createElement("pre");Object.assign(r.style,{margin:"0",fontFamily:sa,fontSize:`${t.fontSize}px`,lineHeight:"1.2",whiteSpace:"pre",color:hr.foreground,...t.background?{background:t.background}:{}});for(const l of e){const o=document.createElement("div"),h=ob(l);for(const u of h){const _=document.createElement("span");_.textContent=u.text;const g=hb(u,hr);g&&Object.assign(_.style,g),o.appendChild(_)}o.appendChild(document.createTextNode(`
`)),r.appendChild(o)}return r}function db({lastScreenLines:e,sourceCols:t}){const r=O.useRef(null);return O.useEffect(()=>{const l=r.current;if(!l)return;for(;l.firstChild;)l.removeChild(l.firstChild);if(!e)return;const o=Vm(e,{fontSize:cb,background:hr.background});Object.assign(o.style,{position:"absolute",bottom:"0",left:"0",padding:"2px 4px",width:`${t}ch`,overflow:"hidden"}),l.appendChild(o)},[e,t]),S.jsx("div",{ref:r,className:"pointer-events-none relative flex-1 overflow-hidden",style:{fontFamily:sa}})}const fb={danger:"border-red-800 text-red-400 hover:border-red-400 hover:text-red-300",success:"border-green-800 text-green-400 hover:border-green-400 hover:text-green-300",warn:"border-amber-700 text-amber-400 hover:border-amber-400 hover:text-amber-300",default:"border-zinc-600 text-zinc-400 hover:border-zinc-500 hover:text-white"};function Re({children:e,variant:t,dashed:r,onClick:l,className:o}){return S.jsx("button",{type:"button",className:`whitespace-nowrap rounded bg-[#2a2a2a] px-2.5 py-0.5 font-mono text-[11px] transition-colors active:bg-[#333] ${fb[t??"default"]} ${r?"border-dashed opacity-85":"border"} ${o||""}`,onClick:l,children:e})}function Oe(e){const t=e.json?JSON.stringify(e.json):e.text;return{ok:e.ok,text:`${e.status}: ${t}`}}function ni({result:e}){return e?S.jsx("div",{className:`mt-1 max-h-10 overflow-y-auto break-all text-[10px] ${e.ok?"text-green-400":"text-red-400"}`,children:e.text}):null}function Lt({label:e,headerRight:t,children:r}){return S.jsxs("div",{className:"border-b border-[#2a2a2a] p-2",children:[S.jsxs("div",{className:"mb-1 flex items-center justify-between text-[10px] font-semibold uppercase tracking-wide text-zinc-600",children:[S.jsx("span",{children:e}),t]}),r]})}function _b(){return new URLSearchParams(window.location.search).get("token")}function gb(){const e=_b(),t={"Content-Type":"application/json"};return e&&(t.Authorization=`Bearer ${e}`),t}async function Xm(e,t,r){const l=await fetch(`${location.origin}${t}`,{method:e,headers:gb(),body:r!==void 0?JSON.stringify(r):void 0}),o=await l.text();let h;try{h=JSON.parse(o)}catch{h=null}return{ok:l.ok,status:l.status,json:h,text:o}}const Id=e=>Xm("GET",e),Dn=(e,t)=>Xm("POST",e,t);function vb(e){const t=O.useRef(e);return t.current=e,t}function Kd(e){const t=O.useRef(!1);t.current||(t.current=!0,e())}const Sp=[{label:"Local Directory",env:{WORKING_DIR:""}},{label:"Git Clone",env:{GIT_REPO:"",GIT_BRANCH:"main",WORKING_DIR:"/workspace/repo"}},{label:"Empty",env:{}}];function Zm({onClose:e}){const[t,r]=O.useState(0),[l,o]=O.useState({WORKING_DIR:""}),[h,u]=O.useState(""),[_,g]=O.useState(!1),[f,p]=O.useState(null),m=O.useRef(null);Kd(()=>{Id("/api/v1/config/launch").then(W=>{if(W.ok&&W.json&&typeof W.json=="object"){const ee=W.json;typeof ee.cwd=="string"&&u(ee.cwd)}})}),O.useEffect(()=>{o({...Sp[t].env})},[t]),O.useEffect(()=>{const W=ee=>{m.current&&!m.current.contains(ee.target)&&e()};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[e]);const b=O.useCallback(async()=>{g(!0),p(null);const W=Object.fromEntries(Object.entries(l).filter(([V,z])=>z.trim()!=="")),ee=await Dn("/api/v1/sessions/launch",{env:W});p(Oe(ee)),g(!1),ee.ok&&setTimeout(e,1500)},[l,e]),x=(W,ee)=>{const V={...l};if(W!==ee){const z=V[W];delete V[W],V[ee]=z}o(V)},E=(W,ee)=>{o({...l,[W]:ee})},D=()=>{o({...l,NEW_VAR:""})},K=W=>{const ee={...l};delete ee[W],o(ee)};return S.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center bg-black/50",children:S.jsx("div",{ref:m,className:"w-full max-w-lg rounded border border-[#21262d] bg-[#161b22] p-4 shadow-xl",children:S.jsxs(Lt,{label:"Launch Session",headerRight:S.jsx("button",{type:"button",className:"text-[10px] text-zinc-500 hover:text-zinc-300",onClick:e,children:"Close"}),children:[S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"preset-select",className:"mb-1 block text-[10px] text-zinc-500",children:"Preset"}),S.jsx("select",{id:"preset-select",className:"w-full rounded border border-[#2a2a2a] bg-[#0d1117] px-2 py-1 text-[11px] font-mono text-zinc-300 outline-none",value:t,onChange:W=>r(Number(W.target.value)),children:Sp.map((W,ee)=>S.jsx("option",{value:ee,children:W.label},ee))})]}),S.jsxs("div",{className:"mb-3",children:[S.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[S.jsx("div",{className:"text-[10px] text-zinc-500",children:"Environment Variables"}),S.jsx("button",{type:"button",className:"text-[10px] text-zinc-500 hover:text-zinc-300",onClick:D,children:"+ Add"})]}),S.jsxs("div",{className:"space-y-1.5",children:[Object.entries(l).map(([W,ee])=>S.jsxs("div",{className:"flex gap-1.5",children:[S.jsx("input",{className:"w-1/3 rounded border border-[#2a2a2a] bg-[#0d1117] px-2 py-1 text-[11px] font-mono text-zinc-300 placeholder-zinc-600 outline-none focus:border-zinc-500",placeholder:"KEY",value:W,onChange:V=>x(W,V.target.value)}),S.jsx("input",{className:"flex-1 rounded border border-[#2a2a2a] bg-[#0d1117] px-2 py-1 text-[11px] font-mono text-zinc-300 placeholder-zinc-600 outline-none focus:border-zinc-500",placeholder:W==="WORKING_DIR"&&h?h:"value",value:ee,onChange:V=>E(W,V.target.value)}),S.jsx("button",{type:"button",className:"px-1 text-[14px] text-zinc-500 hover:text-red-400",onClick:()=>K(W),children:""})]},W)),Object.keys(l).length===0&&S.jsx("div",{className:"py-2 text-center text-[11px] text-zinc-500",children:"No environment variables"})]})]}),S.jsx("div",{className:"flex gap-2",children:S.jsx(Re,{variant:"success",onClick:b,className:_?"flex-1 opacity-50":"flex-1",children:_?"Launching...":"Launch Session"})}),S.jsx(ni,{result:f})]})})})}function Qm(e){if(e.metadata?.k8s?.pod)return e.metadata.k8s.pod;if(e.url)try{return new URL(e.url).host}catch{}return e.id.substring(0,12)}function Jm(e){const t=e.id.substring(0,8);return e.metadata?.k8s?.namespace?`${e.metadata.k8s.namespace}  ${t}`:t}function pb({info:e,focused:t,onToggleExpand:r}){const l=O.useMemo(()=>Qm(e),[e.id,e.url,e.metadata,e]),o=O.useMemo(()=>Jm(e),[e.id,e.metadata,e]);return S.jsxs("div",{role:"button",tabIndex:0,className:`flex flex-col overflow-hidden rounded-lg border bg-[#1e1e1e] transition-[border-color,background-color] duration-150 h-[280px] ${t?"border-blue-500":"border-[#21262d] hover:border-[#444c56]"} cursor-pointer select-none hover:bg-[#242424]`,onClick:r,onKeyDown:h=>{(h.key==="Enter"||h.key===" ")&&r()},children:[S.jsxs("div",{className:"flex shrink-0 items-center justify-between gap-2 border-b border-[#21262d] px-3 py-1.5",children:[S.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[S.jsx("span",{className:"truncate font-mono text-[13px] font-semibold",children:l}),S.jsx("span",{className:"truncate text-[11px] text-zinc-500",children:o})]}),S.jsxs("div",{className:"flex shrink-0 items-center gap-1.5",children:[e.credAlert&&S.jsx("span",{className:"text-xs text-red-400",title:"Credential issue",children:" auth"}),S.jsx(Km,{state:e.state})]})]}),S.jsx(db,{lastScreenLines:e.lastScreenLines,sourceCols:e.sourceCols})]})}function mb(){const[e,t]=O.useState(!1),r=O.useCallback(()=>{t(!0)},[]);return S.jsxs(S.Fragment,{children:[S.jsx("button",{type:"button",className:"flex h-[280px] cursor-pointer items-center justify-center rounded-lg border border-dashed border-[#21262d] text-zinc-500 transition-colors hover:border-[#444c56] hover:text-blue-400",onClick:r,title:"Launch new session",children:S.jsx("span",{className:"text-3xl",children:"+"})}),e&&S.jsx(Zm,{onClose:()=>t(!1)})]})}const Sb=new TextEncoder;function yp(e){const t=atob(e),r=new Uint8Array(t.length);for(let l=0;l<t.length;l++)r[l]=t.charCodeAt(l);return r}function yb(e){let t="";for(const r of e)t+=String.fromCharCode(r);return btoa(t)}function bp(e){return yb(Sb.encode(e))}function bb(e){return new Promise((t,r)=>{const l=new FileReader;l.onload=()=>{const o=l.result,h=o.indexOf(",");t(h>=0?o.slice(h+1):o)},l.onerror=()=>r(l.error),l.readAsDataURL(e)})}function xb({uploadPath:e,onUploaded:t,onError:r}){const[l,o]=O.useState(!1),h=O.useRef(0),u=O.useCallback(()=>typeof e=="function"?e():e,[e]),_=O.useCallback(async g=>{const f=u();if(!f){r?.("No upload path available");return}const p=[];for(const m of Array.from(g))try{const b=await bb(m),x=await Dn(f,{filename:m.name,data:b});if(x.ok&&x.json?.path)p.push(x.json.path);else{const E=x.json?.error?.message||x.text||"unknown error";r?.(`upload error: ${E}`)}}catch(b){r?.(`upload error: ${b instanceof Error?b.message:String(b)}`)}p.length&&t?.(p)},[u,t,r]);return O.useEffect(()=>{const g=b=>{b.preventDefault(),h.current++,h.current===1&&o(!0)},f=b=>{b.preventDefault(),h.current--,h.current<=0&&(h.current=0,o(!1))},p=b=>{b.preventDefault(),b.dataTransfer&&(b.dataTransfer.dropEffect="copy")},m=b=>{b.preventDefault(),h.current=0,o(!1),b.dataTransfer?.files.length&&_(b.dataTransfer.files)};return document.addEventListener("dragenter",g),document.addEventListener("dragleave",f),document.addEventListener("dragover",p),document.addEventListener("drop",m),()=>{document.removeEventListener("dragenter",g),document.removeEventListener("dragleave",f),document.removeEventListener("dragover",p),document.removeEventListener("drop",m)}},[_]),{dragActive:l}}let wb=1;class e0{constructor(t,r=1e4){this.ws=t,this.timeout=r,this.queue=[]}handleMessage(t){if(!("request_id"in t))return!1;for(;this.queue.length>0;){const r=this.queue.shift();if(clearTimeout(r.timer),r.resolve){const l=t.event==="error";return r.resolve({ok:!l,status:l?400:200,json:t,text:JSON.stringify(t)}),!0}}return!1}request(t){return new Promise(r=>{if(this.ws.readyState!==WebSocket.OPEN){r({ok:!1,status:0,json:null,text:"WebSocket not open"});return}const l={resolve:r,timer:0};l.timer=setTimeout(()=>{l.resolve=null,r({ok:!1,status:408,json:null,text:"Request timeout"})},this.timeout),this.queue.push(l),this.ws.send(JSON.stringify({...t,request_id:`r${wb++}`}))})}dispose(){for(const t of this.queue)clearTimeout(t.timer),t.resolve?.({ok:!1,status:0,json:null,text:"Disposed"});this.queue=[]}}function Cb({path:e,onMessage:t,reconnectDelay:r=2e3,enabled:l=!0}){const o=O.useRef(null),h=O.useRef(null),[u,_]=O.useState("disconnected"),g=O.useRef(t);g.current=t;const f=O.useCallback(m=>{const b=o.current;b?.readyState===WebSocket.OPEN&&b.send(JSON.stringify(m))},[]),p=O.useCallback(m=>{const b=h.current;return b?b.request(m):Promise.resolve({ok:!1,status:0,json:null,text:"Not connected"})},[]);return O.useEffect(()=>{if(!l)return;let m=!1,b;function x(){if(m)return;_("connecting");const E=location.protocol==="https:"?"wss:":"ws:",D=new URLSearchParams(location.search).get("token"),K=e.includes("?")?"&":"?",W=D?`${E}//${location.host}${e}${K}token=${encodeURIComponent(D)}`:`${E}//${location.host}${e}`,ee=new WebSocket(W);o.current=ee;const V=new e0(ee);h.current=V,ee.onopen=()=>{if(m){ee.close();return}_("connected")},ee.onmessage=z=>{try{const Q=JSON.parse(z.data);V.handleMessage(Q)||g.current(Q)}catch{}},ee.onclose=()=>{o.current=null,V.dispose(),h.current=null,m||(_("disconnected"),b=setTimeout(x,r))},ee.onerror=()=>{ee.close()}}return x(),()=>{m=!0,clearTimeout(b),h.current?.dispose(),h.current=null,o.current?.close(),o.current=null}},[e,r,l]),{send:f,request:p,status:u,wsRef:o}}const Eb={healthy:"bg-green-500/20 text-green-400",refreshing:"bg-yellow-500/20 text-yellow-400",expired:"bg-red-500/20 text-red-400"};function Mb({status:e}){return S.jsx("span",{className:`inline-block rounded-full px-2 py-0.5 text-[10px] font-medium uppercase ${Eb[e]||"bg-zinc-700 text-zinc-400"}`,children:e})}const kb={claude:["CLAUDE_CODE_OAUTH_TOKEN","ANTHROPIC_API_KEY"],openai:["OPENAI_API_KEY"],gemini:["GEMINI_API_KEY"],other:["API_KEY"]};function Ro(e){return kb[e]??["API_KEY"]}function Lb(e){return e<60?`${e}s`:e<3600?`${Math.floor(e/60)}m`:`${Math.floor(e/3600)}h ${Math.floor(e%3600/60)}m`}function Ab({onClose:e,alerts:t}){const[r,l]=O.useState([]),[o,h]=O.useState(null),[u,_]=O.useState(!1),[g,f]=O.useState(null),[p,m]=O.useState(""),b=O.useRef(null),x=O.useCallback(async()=>{const A=await Id("/api/v1/credentials/status");A.ok&&Array.isArray(A.json)&&l(A.json)},[]);O.useEffect(()=>{x();const A=setInterval(x,1e4);return()=>clearInterval(A)},[x]),O.useEffect(()=>{const A=T=>{b.current&&!b.current.contains(T.target)&&e()};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[e]);const E=O.useCallback(async A=>{h(null),f(null),m("");const T=await Dn("/api/v1/credentials/reauth",{account:A});if(T.ok&&T.json&&typeof T.json=="object"){const F=T.json,j=F.auth_url,M=F.user_code,k=F.state;if(M){h({ok:!0,text:`Enter code: ${M}`}),x();return}j&&(window.open(j,"_blank"),k&&f({account:A,state:k}))}g||h(Oe(T)),x()},[x,g]),D=O.useCallback(async()=>{if(!g||!p.trim())return;h(null);const A=await Dn("/api/v1/credentials/exchange",{state:g.state,code:p.trim()});A.ok?(f(null),m(""),h({ok:!0,text:"Authorization complete"})):h(Oe(A)),x()},[g,p,x]),K=O.useCallback(async A=>{h(null);const T=await Dn("/api/v1/credentials/distribute",{account:A,switch:!0});h(Oe(T))},[]),[W,ee]=O.useState(""),[V,z]=O.useState("claude"),[Q,te]=O.useState(Ro("claude")[0]),[ie,le]=O.useState(""),[fe,Le]=O.useState(!1),ae=O.useCallback(async()=>{if(!W.trim())return;Le(!0),h(null);const A={name:W.trim(),provider:V,env_key:Q,reauth:!ie.trim()};ie.trim()&&(A.token=ie.trim());const T=await Dn("/api/v1/credentials/new",A);h(Oe(T)),Le(!1),T.ok&&(ee(""),le(""),te(Ro(V)[0]),_(!1),x())},[W,V,Q,ie,x]);return S.jsxs("div",{ref:b,className:"absolute right-0 top-full z-[200] mt-1 w-80 rounded border border-[#21262d] bg-[#161b22] shadow-xl",children:[t&&[...t.entries()].some(([,A])=>A.user_code)&&S.jsx(Lt,{label:"Authorization Required",children:[...t.entries()].filter(([,A])=>A.user_code).map(([A,T])=>S.jsxs("div",{className:"mb-1.5 rounded border border-yellow-700/50 bg-yellow-500/10 px-2 py-1.5",children:[S.jsx("div",{className:"text-[11px] text-yellow-300",children:A}),S.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[S.jsx("code",{className:"rounded bg-[#0d1117] px-2 py-0.5 text-sm font-bold text-yellow-200",children:T.user_code}),S.jsx("button",{type:"button",className:"text-[10px] text-zinc-400 hover:text-zinc-200",onClick:()=>navigator.clipboard.writeText(T.user_code??""),children:"Copy"})]}),T.auth_url&&S.jsx("a",{href:T.auth_url,target:"_blank",rel:"noopener noreferrer",className:"mt-1 block truncate text-[10px] text-blue-400 hover:text-blue-300",children:T.auth_url})]},A))}),g&&S.jsx(Lt,{label:"Paste Authorization Code",children:S.jsxs("div",{className:"rounded border border-blue-700/50 bg-blue-500/10 px-2 py-1.5",children:[S.jsx("div",{className:"text-[11px] text-blue-300 mb-1",children:g.account}),S.jsxs("div",{className:"flex gap-1.5",children:[S.jsx("input",{className:"flex-1 rounded border border-[#2a2a2a] bg-[#0d1117] px-2 py-1 text-[11px] font-mono text-zinc-300 placeholder-zinc-600 outline-none focus:border-zinc-500",placeholder:"Paste code here",value:p,onChange:A=>m(A.target.value),onKeyDown:A=>{A.key==="Enter"&&D()}}),S.jsx(Re,{variant:"success",onClick:D,children:"Submit"})]})]})}),S.jsxs(Lt,{label:"Accounts",headerRight:S.jsx("button",{type:"button",className:"text-[10px] text-zinc-500 hover:text-zinc-300",onClick:()=>_(A=>!A),children:u?"Cancel":"+ Add"}),children:[r.length===0&&!u&&S.jsx("div",{className:"py-2 text-center text-[11px] text-zinc-500",children:"No accounts configured"}),r.map(A=>S.jsxs("div",{className:"mb-1.5 flex items-center gap-2 rounded bg-[#1c2128] px-2 py-1.5",children:[S.jsxs("div",{className:"min-w-0 flex-1",children:[S.jsxs("div",{className:"flex items-center gap-1.5",children:[S.jsx("span",{className:"truncate text-[11px] font-mono text-zinc-300",children:A.name}),S.jsx("span",{className:"shrink-0 rounded bg-[#2a2a2a] px-1 py-px text-[9px] uppercase text-zinc-500",children:A.provider})]}),S.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[S.jsx(Mb,{status:A.status}),A.expires_in_secs!=null&&S.jsx("span",{className:"text-[10px] text-zinc-500",children:Lb(A.expires_in_secs)})]})]}),S.jsxs("div",{className:"flex shrink-0 gap-1",children:[A.status==="expired"&&A.reauth&&S.jsx(Re,{variant:"warn",onClick:()=>E(A.name),children:"Reauth"}),A.status==="healthy"&&S.jsx(Re,{onClick:()=>K(A.name),children:"Push"})]})]},A.name)),u&&S.jsxs("div",{className:"mt-2 rounded border border-[#2a2a2a] bg-[#1c2128] p-2",children:[S.jsxs("div",{className:"mb-1.5 flex gap-2",children:[S.jsx("input",{className:"flex-1 rounded border border-[#2a2a2a] bg-[#0d1117] px-2 py-1 text-[11px] font-mono text-zinc-300 placeholder-zinc-600 outline-none focus:border-zinc-500",placeholder:"Account name",value:W,onChange:A=>ee(A.target.value)}),S.jsxs("select",{className:"rounded border border-[#2a2a2a] bg-[#0d1117] px-1.5 py-1 text-[11px] font-mono text-zinc-300 outline-none",value:V,onChange:A=>{z(A.target.value),te(Ro(A.target.value)[0])},children:[S.jsx("option",{value:"claude",children:"claude"}),S.jsx("option",{value:"openai",children:"openai"}),S.jsx("option",{value:"gemini",children:"gemini"}),S.jsx("option",{value:"other",children:"other"})]})]}),S.jsx("select",{className:"mb-1.5 w-full rounded border border-[#2a2a2a] bg-[#0d1117] px-2 py-1 text-[11px] font-mono text-zinc-300 outline-none",value:Q,onChange:A=>te(A.target.value),children:Ro(V).map(A=>S.jsx("option",{value:A,children:A},A))}),S.jsx("input",{className:"mb-1.5 w-full rounded border border-[#2a2a2a] bg-[#0d1117] px-2 py-1 text-[11px] font-mono text-zinc-300 placeholder-zinc-600 outline-none focus:border-zinc-500",placeholder:"Token (optional)",type:"password",value:ie,onChange:A=>le(A.target.value)}),S.jsx(Re,{variant:"success",onClick:ae,className:fe?"opacity-50":"",children:fe?"Adding...":"Add Account"})]})]}),S.jsx(ni,{result:o})]})}var Tb=2,Rb=1,t0=class{activate(e){this._terminal=e}dispose(){}fit(){let e=this.proposeDimensions();if(!e||!this._terminal||isNaN(e.cols)||isNaN(e.rows))return;let t=this._terminal._core;(this._terminal.rows!==e.rows||this._terminal.cols!==e.cols)&&(t._renderService.clear(),this._terminal.resize(e.cols,e.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;let e=this._terminal._core._renderService.dimensions;if(e.css.cell.width===0||e.css.cell.height===0)return;let t=this._terminal.options.scrollback===0?0:this._terminal.options.overviewRuler?.width||14,r=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(r.getPropertyValue("height")),o=Math.max(0,parseInt(r.getPropertyValue("width"))),h=window.getComputedStyle(this._terminal.element),u={top:parseInt(h.getPropertyValue("padding-top")),bottom:parseInt(h.getPropertyValue("padding-bottom")),right:parseInt(h.getPropertyValue("padding-right")),left:parseInt(h.getPropertyValue("padding-left"))},_=u.top+u.bottom,g=u.right+u.left,f=l-_,p=o-g-t;return{cols:Math.max(Tb,Math.floor(p/e.css.cell.width)),rows:Math.max(Rb,Math.floor(f/e.css.cell.height))}}};var Db=(e,t,r,l)=>{for(var o=t,h=e.length-1,u;h>=0;h--)(u=e[h])&&(o=u(o)||o);return o},Bb=(e,t)=>(r,l)=>t(r,l,e),zb=class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?xp.isErrorNoTelemetry(e)?new xp(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(t=>{t(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},Ob=new zb;function Ru(e){Nb(e)||Ob.onUnexpectedError(e)}var id="Canceled";function Nb(e){return e instanceof Hb?!0:e instanceof Error&&e.name===id&&e.message===id}var Hb=class extends Error{constructor(){super(id),this.name=this.message}},xp=class sd extends Error{constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof sd)return t;let r=new sd;return r.message=t.message,r.stack=t.stack,r}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}},jb;(e=>{function t(h){return h<0}e.isLessThan=t;function r(h){return h<=0}e.isLessThanOrEqual=r;function l(h){return h>0}e.isGreaterThan=l;function o(h){return h===0}e.isNeitherLessOrGreaterThan=o,e.greaterThan=1,e.lessThan=-1,e.neitherLessOrGreaterThan=0})(jb||={});function Ub(e,t){let r=this,l=!1,o;return function(){return l||(l=!0,t||(o=e.apply(r,arguments))),o}}var i0;(e=>{function t(z){return z&&typeof z=="object"&&typeof z[Symbol.iterator]=="function"}e.is=t;let r=Object.freeze([]);function l(){return r}e.empty=l;function*o(z){yield z}e.single=o;function h(z){return t(z)?z:o(z)}e.wrap=h;function u(z){return z||r}e.from=u;function*_(z){for(let Q=z.length-1;Q>=0;Q--)yield z[Q]}e.reverse=_;function g(z){return!z||z[Symbol.iterator]().next().done===!0}e.isEmpty=g;function f(z){return z[Symbol.iterator]().next().value}e.first=f;function p(z,Q){let te=0;for(let ie of z)if(Q(ie,te++))return!0;return!1}e.some=p;function m(z,Q){for(let te of z)if(Q(te))return te}e.find=m;function*b(z,Q){for(let te of z)Q(te)&&(yield te)}e.filter=b;function*x(z,Q){let te=0;for(let ie of z)yield Q(ie,te++)}e.map=x;function*E(z,Q){let te=0;for(let ie of z)yield*Q(ie,te++)}e.flatMap=E;function*D(...z){for(let Q of z)yield*Q}e.concat=D;function K(z,Q,te){let ie=te;for(let le of z)ie=Q(ie,le);return ie}e.reduce=K;function*W(z,Q,te=z.length){for(Q<0&&(Q+=z.length),te<0?te+=z.length:te>z.length&&(te=z.length);Q<te;Q++)yield z[Q]}e.slice=W;function ee(z,Q=Number.POSITIVE_INFINITY){let te=[];if(Q===0)return[te,z];let ie=z[Symbol.iterator]();for(let le=0;le<Q;le++){let fe=ie.next();if(fe.done)return[te,e.empty()];te.push(fe.value)}return[te,{[Symbol.iterator](){return ie}}]}e.consume=ee;async function V(z){let Q=[];for await(let te of z)Q.push(te);return Promise.resolve(Q)}e.asyncToArray=V})(i0||={});function s0(e){if(i0.is(e)){let t=[];for(let r of e)if(r)try{r.dispose()}catch(l){t.push(l)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}function r0(...e){return Pt(()=>s0(e))}function Pt(e){return{dispose:Ub(()=>{e()})}}var n0=class l0{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{s0(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?l0.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),void 0)}};n0.DISABLE_DISPOSED_WARNING=!1;var Nn=n0,$i=class{constructor(){this._store=new Nn,this._store}dispose(){this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}};$i.None=Object.freeze({dispose(){}});var $l=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(t){this._isDisposed||t===this._value||(this._value?.dispose(),this._value=t)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}clearAndLeak(){let t=this._value;return this._value=void 0,t}},Gd=typeof process<"u"&&"title"in process,ah=Gd?"node":navigator.userAgent,$b=Gd?"node":navigator.platform,Pb=ah.includes("Firefox"),Fb=ah.includes("Edge"),a0=/^((?!chrome|android).)*safari/i.test(ah);function Wb(){if(!a0)return 0;let e=ah.match(/Version\/(\d+)/);return e===null||e.length<2?0:parseInt(e[1])}$b.indexOf("Linux")>=0;var qb="",xt=0,wt=0,Ct=0,tt=0,Ri={css:"#00000000",rgba:0},It;(e=>{function t(o,h,u,_){return _!==void 0?`#${Ar(o)}${Ar(h)}${Ar(u)}${Ar(_)}`:`#${Ar(o)}${Ar(h)}${Ar(u)}`}e.toCss=t;function r(o,h,u,_=255){return(o<<24|h<<16|u<<8|_)>>>0}e.toRgba=r;function l(o,h,u,_){return{css:e.toCss(o,h,u,_),rgba:e.toRgba(o,h,u,_)}}e.toColor=l})(It||={});var Xl;(e=>{function t(g,f){if(tt=(f.rgba&255)/255,tt===1)return{css:f.css,rgba:f.rgba};let p=f.rgba>>24&255,m=f.rgba>>16&255,b=f.rgba>>8&255,x=g.rgba>>24&255,E=g.rgba>>16&255,D=g.rgba>>8&255;xt=x+Math.round((p-x)*tt),wt=E+Math.round((m-E)*tt),Ct=D+Math.round((b-D)*tt);let K=It.toCss(xt,wt,Ct),W=It.toRgba(xt,wt,Ct);return{css:K,rgba:W}}e.blend=t;function r(g){return(g.rgba&255)===255}e.isOpaque=r;function l(g,f,p){let m=Or.ensureContrastRatio(g.rgba,f.rgba,p);if(m)return It.toColor(m>>24&255,m>>16&255,m>>8&255)}e.ensureContrastRatio=l;function o(g){let f=(g.rgba|255)>>>0;return[xt,wt,Ct]=Or.toChannels(f),{css:It.toCss(xt,wt,Ct),rgba:f}}e.opaque=o;function h(g,f){return tt=Math.round(f*255),[xt,wt,Ct]=Or.toChannels(g.rgba),{css:It.toCss(xt,wt,Ct,tt),rgba:It.toRgba(xt,wt,Ct,tt)}}e.opacity=h;function u(g,f){return tt=g.rgba&255,h(g,tt*f/255)}e.multiplyOpacity=u;function _(g){return[g.rgba>>24&255,g.rgba>>16&255,g.rgba>>8&255]}e.toColorRGB=_})(Xl||={});var Yb;(e=>{let t,r;try{let o=document.createElement("canvas");o.width=1,o.height=1;let h=o.getContext("2d",{willReadFrequently:!0});h&&(t=h,t.globalCompositeOperation="copy",r=t.createLinearGradient(0,0,1,1))}catch{}function l(o){if(o.match(/#[\da-f]{3,8}/i))switch(o.length){case 4:return xt=parseInt(o.slice(1,2).repeat(2),16),wt=parseInt(o.slice(2,3).repeat(2),16),Ct=parseInt(o.slice(3,4).repeat(2),16),It.toColor(xt,wt,Ct);case 5:return xt=parseInt(o.slice(1,2).repeat(2),16),wt=parseInt(o.slice(2,3).repeat(2),16),Ct=parseInt(o.slice(3,4).repeat(2),16),tt=parseInt(o.slice(4,5).repeat(2),16),It.toColor(xt,wt,Ct,tt);case 7:return{css:o,rgba:(parseInt(o.slice(1),16)<<8|255)>>>0};case 9:return{css:o,rgba:parseInt(o.slice(1),16)>>>0}}let h=o.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(h)return xt=parseInt(h[1]),wt=parseInt(h[2]),Ct=parseInt(h[3]),tt=Math.round((h[5]===void 0?1:parseFloat(h[5]))*255),It.toColor(xt,wt,Ct,tt);if(!t||!r)throw new Error("css.toColor: Unsupported css format");if(t.fillStyle=r,t.fillStyle=o,typeof t.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(t.fillRect(0,0,1,1),[xt,wt,Ct,tt]=t.getImageData(0,0,1,1).data,tt!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:It.toRgba(xt,wt,Ct,tt),css:o}}e.toColor=l})(Yb||={});var qt;(e=>{function t(l){return r(l>>16&255,l>>8&255,l&255)}e.relativeLuminance=t;function r(l,o,h){let u=l/255,_=o/255,g=h/255,f=u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4),p=_<=.03928?_/12.92:Math.pow((_+.055)/1.055,2.4),m=g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4);return f*.2126+p*.7152+m*.0722}e.relativeLuminance2=r})(qt||={});var Or;(e=>{function t(u,_){if(tt=(_&255)/255,tt===1)return _;let g=_>>24&255,f=_>>16&255,p=_>>8&255,m=u>>24&255,b=u>>16&255,x=u>>8&255;return xt=m+Math.round((g-m)*tt),wt=b+Math.round((f-b)*tt),Ct=x+Math.round((p-x)*tt),It.toRgba(xt,wt,Ct)}e.blend=t;function r(u,_,g){let f=qt.relativeLuminance(u>>8),p=qt.relativeLuminance(_>>8);if(ms(f,p)<g){if(p<f){let x=l(u,_,g),E=ms(f,qt.relativeLuminance(x>>8));if(E<g){let D=o(u,_,g),K=ms(f,qt.relativeLuminance(D>>8));return E>K?x:D}return x}let m=o(u,_,g),b=ms(f,qt.relativeLuminance(m>>8));if(b<g){let x=l(u,_,g),E=ms(f,qt.relativeLuminance(x>>8));return b>E?m:x}return m}}e.ensureContrastRatio=r;function l(u,_,g){let f=u>>24&255,p=u>>16&255,m=u>>8&255,b=_>>24&255,x=_>>16&255,E=_>>8&255,D=ms(qt.relativeLuminance2(b,x,E),qt.relativeLuminance2(f,p,m));for(;D<g&&(b>0||x>0||E>0);)b-=Math.max(0,Math.ceil(b*.1)),x-=Math.max(0,Math.ceil(x*.1)),E-=Math.max(0,Math.ceil(E*.1)),D=ms(qt.relativeLuminance2(b,x,E),qt.relativeLuminance2(f,p,m));return(b<<24|x<<16|E<<8|255)>>>0}e.reduceLuminance=l;function o(u,_,g){let f=u>>24&255,p=u>>16&255,m=u>>8&255,b=_>>24&255,x=_>>16&255,E=_>>8&255,D=ms(qt.relativeLuminance2(b,x,E),qt.relativeLuminance2(f,p,m));for(;D<g&&(b<255||x<255||E<255);)b=Math.min(255,b+Math.ceil((255-b)*.1)),x=Math.min(255,x+Math.ceil((255-x)*.1)),E=Math.min(255,E+Math.ceil((255-E)*.1)),D=ms(qt.relativeLuminance2(b,x,E),qt.relativeLuminance2(f,p,m));return(b<<24|x<<16|E<<8|255)>>>0}e.increaseLuminance=o;function h(u){return[u>>24&255,u>>16&255,u>>8&255,u&255]}e.toChannels=h})(Or||={});function Ar(e){let t=e.toString(16);return t.length<2?"0"+t:t}function ms(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}function dt(e){if(!e)throw new Error("value must not be falsy");return e}function Vd(e){return 57508<=e&&e<=57558}function Ib(e){return 57520<=e&&e<=57527}function Kb(e){return 57344<=e&&e<=63743}function Gb(e){return 9472<=e&&e<=9631}function Vb(e){return e>=128512&&e<=128591||e>=127744&&e<=128511||e>=128640&&e<=128767||e>=9728&&e<=9983||e>=9984&&e<=10175||e>=65024&&e<=65039||e>=129280&&e<=129535||e>=127462&&e<=127487}function Xb(e,t,r,l){return t===1&&r>Math.ceil(l*1.5)&&e!==void 0&&e>255&&!Vb(e)&&!Vd(e)&&!Kb(e)}function o0(e){return Vd(e)||Gb(e)}function Zb(){return{css:{canvas:Do(),cell:Do()},device:{canvas:Do(),cell:Do(),char:{width:0,height:0,left:0,top:0}}}}function Do(){return{width:0,height:0}}function Qb(e,t,r=0){return(e-(Math.round(t)*2-r))%(Math.round(t)*2)}var Nt=0,yt=0,Yi=!1,Ss=!1,Bo=!1,si,Du=0,Jb=class{constructor(e,t,r,l,o,h){this._terminal=e,this._optionService=t,this._selectionRenderModel=r,this._decorationService=l,this._coreBrowserService=o,this._themeService=h,this.result={fg:0,bg:0,ext:0}}resolve(e,t,r,l){if(this.result.bg=e.bg,this.result.fg=e.fg,this.result.ext=e.bg&268435456?e.extended.ext:0,yt=0,Nt=0,Ss=!1,Yi=!1,Bo=!1,si=this._themeService.colors,Du=0,e.getCode()!==0&&e.extended.underlineStyle===4){let o=Math.max(1,Math.floor(this._optionService.rawOptions.fontSize*this._coreBrowserService.dpr/15));Du=t*l%(Math.round(o)*2)}if(this._decorationService.forEachDecorationAtCell(t,r,"bottom",o=>{o.backgroundColorRGB&&(yt=o.backgroundColorRGB.rgba>>8&16777215,Ss=!0),o.foregroundColorRGB&&(Nt=o.foregroundColorRGB.rgba>>8&16777215,Yi=!0)}),Bo=this._selectionRenderModel.isCellSelected(this._terminal,t,r),Bo){if(this.result.fg&67108864||(this.result.bg&50331648)!==0){if(this.result.fg&67108864)switch(this.result.fg&50331648){case 16777216:case 33554432:yt=this._themeService.colors.ansi[this.result.fg&255].rgba;break;case 50331648:yt=(this.result.fg&16777215)<<8|255;break;default:yt=this._themeService.colors.foreground.rgba}else switch(this.result.bg&50331648){case 16777216:case 33554432:yt=this._themeService.colors.ansi[this.result.bg&255].rgba;break;case 50331648:yt=(this.result.bg&16777215)<<8|255;break}yt=Or.blend(yt,(this._coreBrowserService.isFocused?si.selectionBackgroundOpaque:si.selectionInactiveBackgroundOpaque).rgba&4294967040|128)>>8&16777215}else yt=(this._coreBrowserService.isFocused?si.selectionBackgroundOpaque:si.selectionInactiveBackgroundOpaque).rgba>>8&16777215;if(Ss=!0,si.selectionForeground&&(Nt=si.selectionForeground.rgba>>8&16777215,Yi=!0),o0(e.getCode())){if(this.result.fg&67108864&&(this.result.bg&50331648)===0)Nt=(this._coreBrowserService.isFocused?si.selectionBackgroundOpaque:si.selectionInactiveBackgroundOpaque).rgba>>8&16777215;else{if(this.result.fg&67108864)switch(this.result.bg&50331648){case 16777216:case 33554432:Nt=this._themeService.colors.ansi[this.result.bg&255].rgba;break;case 50331648:Nt=(this.result.bg&16777215)<<8|255;break}else switch(this.result.fg&50331648){case 16777216:case 33554432:Nt=this._themeService.colors.ansi[this.result.fg&255].rgba;break;case 50331648:Nt=(this.result.fg&16777215)<<8|255;break;default:Nt=this._themeService.colors.foreground.rgba}Nt=Or.blend(Nt,(this._coreBrowserService.isFocused?si.selectionBackgroundOpaque:si.selectionInactiveBackgroundOpaque).rgba&4294967040|128)>>8&16777215}Yi=!0}}this._decorationService.forEachDecorationAtCell(t,r,"top",o=>{o.backgroundColorRGB&&(yt=o.backgroundColorRGB.rgba>>8&16777215,Ss=!0),o.foregroundColorRGB&&(Nt=o.foregroundColorRGB.rgba>>8&16777215,Yi=!0)}),Ss&&(Bo?yt=e.bg&-16777216&-134217729|yt|50331648:yt=e.bg&-16777216|yt|50331648),Yi&&(Nt=e.fg&-16777216&-67108865|Nt|50331648),this.result.fg&67108864&&(Ss&&!Yi&&((this.result.bg&50331648)===0?Nt=this.result.fg&-134217728|si.background.rgba>>8&16777215&16777215|50331648:Nt=this.result.fg&-134217728|this.result.bg&67108863,Yi=!0),!Ss&&Yi&&((this.result.fg&50331648)===0?yt=this.result.bg&-67108864|si.foreground.rgba>>8&16777215&16777215|50331648:yt=this.result.bg&-67108864|this.result.fg&67108863,Ss=!0)),si=void 0,this.result.bg=Ss?yt:this.result.bg,this.result.fg=Yi?Nt:this.result.fg,this.result.ext&=536870911,this.result.ext|=Du<<29&3758096384}},ex=.5,h0=Pb||Fb?"bottom":"ideographic",tx={"":[{x:0,y:0,w:8,h:4}],"":[{x:0,y:7,w:8,h:1}],"":[{x:0,y:6,w:8,h:2}],"":[{x:0,y:5,w:8,h:3}],"":[{x:0,y:4,w:8,h:4}],"":[{x:0,y:3,w:8,h:5}],"":[{x:0,y:2,w:8,h:6}],"":[{x:0,y:1,w:8,h:7}],"":[{x:0,y:0,w:8,h:8}],"":[{x:0,y:0,w:7,h:8}],"":[{x:0,y:0,w:6,h:8}],"":[{x:0,y:0,w:5,h:8}],"":[{x:0,y:0,w:4,h:8}],"":[{x:0,y:0,w:3,h:8}],"":[{x:0,y:0,w:2,h:8}],"":[{x:0,y:0,w:1,h:8}],"":[{x:4,y:0,w:4,h:8}],"":[{x:0,y:0,w:8,h:1}],"":[{x:7,y:0,w:1,h:8}],"":[{x:0,y:4,w:4,h:4}],"":[{x:4,y:4,w:4,h:4}],"":[{x:0,y:0,w:4,h:4}],"":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"":[{x:0,y:0,w:4,h:8},{x:4,y:0,w:4,h:4}],"":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"":[{x:4,y:0,w:4,h:4}],"":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"":[{x:1,y:0,w:1,h:8}],"":[{x:2,y:0,w:1,h:8}],"":[{x:3,y:0,w:1,h:8}],"":[{x:4,y:0,w:1,h:8}],"":[{x:5,y:0,w:1,h:8}],"":[{x:6,y:0,w:1,h:8}],"":[{x:0,y:1,w:8,h:1}],"":[{x:0,y:2,w:8,h:1}],"":[{x:0,y:3,w:8,h:1}],"":[{x:0,y:4,w:8,h:1}],"":[{x:0,y:5,w:8,h:1}],"":[{x:0,y:6,w:8,h:1}],"":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"":[{x:0,y:0,w:8,h:2}],"":[{x:0,y:0,w:8,h:3}],"":[{x:0,y:0,w:8,h:5}],"":[{x:0,y:0,w:8,h:6}],"":[{x:0,y:0,w:8,h:7}],"":[{x:6,y:0,w:2,h:8}],"":[{x:5,y:0,w:3,h:8}],"":[{x:3,y:0,w:5,h:8}],"":[{x:2,y:0,w:6,h:8}],"":[{x:1,y:0,w:7,h:8}],"":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]},ix={"":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"":[[1,0],[0,0],[0,1],[0,0]],"":[[0,1],[1,1],[1,0],[1,1]]},sx={"":{1:"M0,.5 L1,.5"},"":{3:"M0,.5 L1,.5"},"":{1:"M.5,0 L.5,1"},"":{3:"M.5,0 L.5,1"},"":{1:"M0.5,1 L.5,.5 L1,.5"},"":{3:"M0.5,1 L.5,.5 L1,.5"},"":{1:"M0,.5 L.5,.5 L.5,1"},"":{3:"M0,.5 L.5,.5 L.5,1"},"":{1:"M.5,0 L.5,.5 L1,.5"},"":{3:"M.5,0 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,.5 L0,.5"},"":{3:"M.5,0 L.5,.5 L0,.5"},"":{1:"M.5,0 L.5,1 M.5,.5 L1,.5"},"":{3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"":{1:"M.5,0 L.5,1 M.5,.5 L0,.5"},"":{3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"":{1:"M0,.5 L1,.5 M.5,.5 L.5,1"},"":{3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"":{1:"M0,.5 L1,.5 M.5,.5 L.5,0"},"":{3:"M0,.5 L1,.5 M.5,.5 L.5,0"},"":{1:"M0,.5 L1,.5 M.5,0 L.5,1"},"":{3:"M0,.5 L1,.5 M.5,0 L.5,1"},"":{1:"M.5,.5 L0,.5"},"":{3:"M.5,.5 L0,.5"},"":{1:"M.5,.5 L.5,0"},"":{3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L1,.5"},"":{3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,1"},"":{3:"M.5,.5 L.5,1"},"":{1:(e,t)=>`M0,${.5-t} L1,${.5-t} M0,${.5+t} L1,${.5+t}`},"":{1:(e,t)=>`M${.5-e},0 L${.5-e},1 M${.5+e},0 L${.5+e},1`},"":{1:(e,t)=>`M.5,1 L.5,${.5-t} L1,${.5-t} M.5,${.5+t} L1,${.5+t}`},"":{1:(e,t)=>`M${.5-e},1 L${.5-e},.5 L1,.5 M${.5+e},.5 L${.5+e},1`},"":{1:(e,t)=>`M1,${.5-t} L${.5-e},${.5-t} L${.5-e},1 M1,${.5+t} L${.5+e},${.5+t} L${.5+e},1`},"":{1:(e,t)=>`M0,${.5-t} L.5,${.5-t} L.5,1 M0,${.5+t} L.5,${.5+t}`},"":{1:(e,t)=>`M${.5+e},1 L${.5+e},.5 L0,.5 M${.5-e},.5 L${.5-e},1`},"":{1:(e,t)=>`M0,${.5+t} L${.5-e},${.5+t} L${.5-e},1 M0,${.5-t} L${.5+e},${.5-t} L${.5+e},1`},"":{1:(e,t)=>`M.5,0 L.5,${.5+t} L1,${.5+t} M.5,${.5-t} L1,${.5-t}`},"":{1:(e,t)=>`M1,.5 L${.5-e},.5 L${.5-e},0 M${.5+e},.5 L${.5+e},0`},"":{1:(e,t)=>`M1,${.5-t} L${.5+e},${.5-t} L${.5+e},0 M1,${.5+t} L${.5-e},${.5+t} L${.5-e},0`},"":{1:(e,t)=>`M0,${.5+t} L.5,${.5+t} L.5,0 M0,${.5-t} L.5,${.5-t}`},"":{1:(e,t)=>`M0,.5 L${.5+e},.5 L${.5+e},0 M${.5-e},.5 L${.5-e},0`},"":{1:(e,t)=>`M0,${.5-t} L${.5-e},${.5-t} L${.5-e},0 M0,${.5+t} L${.5+e},${.5+t} L${.5+e},0`},"":{1:(e,t)=>`M.5,0 L.5,1 M.5,${.5-t} L1,${.5-t} M.5,${.5+t} L1,${.5+t}`},"":{1:(e,t)=>`M${.5-e},0 L${.5-e},1 M${.5+e},0 L${.5+e},1 M${.5+e},.5 L1,.5`},"":{1:(e,t)=>`M${.5-e},0 L${.5-e},1 M1,${.5+t} L${.5+e},${.5+t} L${.5+e},1 M1,${.5-t} L${.5+e},${.5-t} L${.5+e},0`},"":{1:(e,t)=>`M.5,0 L.5,1 M0,${.5-t} L.5,${.5-t} M0,${.5+t} L.5,${.5+t}`},"":{1:(e,t)=>`M0,.5 L${.5-e},.5 M${.5-e},0 L${.5-e},1 M${.5+e},0 L${.5+e},1`},"":{1:(e,t)=>`M${.5+e},0 L${.5+e},1 M0,${.5+t} L${.5-e},${.5+t} L${.5-e},1 M0,${.5-t} L${.5-e},${.5-t} L${.5-e},0`},"":{1:(e,t)=>`M0,${.5-t} L1,${.5-t} M0,${.5+t} L1,${.5+t} M.5,${.5+t} L.5,1`},"":{1:(e,t)=>`M0,.5 L1,.5 M${.5-e},.5 L${.5-e},1 M${.5+e},.5 L${.5+e},1`},"":{1:(e,t)=>`M0,${.5-t} L1,${.5-t} M0,${.5+t} L${.5-e},${.5+t} L${.5-e},1 M1,${.5+t} L${.5+e},${.5+t} L${.5+e},1`},"":{1:(e,t)=>`M.5,0 L.5,${.5-t} M0,${.5-t} L1,${.5-t} M0,${.5+t} L1,${.5+t}`},"":{1:(e,t)=>`M0,.5 L1,.5 M${.5-e},.5 L${.5-e},0 M${.5+e},.5 L${.5+e},0`},"":{1:(e,t)=>`M0,${.5+t} L1,${.5+t} M0,${.5-t} L${.5-e},${.5-t} L${.5-e},0 M1,${.5-t} L${.5+e},${.5-t} L${.5+e},0`},"":{1:(e,t)=>`M.5,0 L.5,1 M0,${.5-t} L1,${.5-t} M0,${.5+t} L1,${.5+t}`},"":{1:(e,t)=>`M0,.5 L1,.5 M${.5-e},0 L${.5-e},1 M${.5+e},0 L${.5+e},1`},"":{1:(e,t)=>`M0,${.5+t} L${.5-e},${.5+t} L${.5-e},1 M1,${.5+t} L${.5+e},${.5+t} L${.5+e},1 M0,${.5-t} L${.5-e},${.5-t} L${.5-e},0 M1,${.5-t} L${.5+e},${.5-t} L${.5+e},0`},"":{1:"M1,0 L0,1"},"":{1:"M0,0 L1,1"},"":{1:"M1,0 L0,1 M0,0 L1,1"},"":{1:"M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,0",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L.5,1",3:"M.5,.5 L0,.5"},"":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L.5,0",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L.5,0",3:"M.5,.5 L0,.5"},"":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,0"},"":{1:"M.5,0 L.5,1",3:"M.5,.5 L1,.5"},"":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1"},"":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,0",3:"M0.5,1 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,1",3:"M.5,.5 L0,.5"},"":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1"},"":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L0,.5"},"":{1:"M.5,.5 L.5,0",3:"M0,.5 L.5,.5 L.5,1"},"":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,1",3:"M0,.5 L1,.5"},"":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"":{1:"M.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"":{1:"M.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5"},"":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,1 M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"":{1:"M.5,0 L.5,1 M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"":{1:"M.5,0 L.5,1",3:"M0,.5 L1,.5"},"":{1:"M0,.5 L1,.5 M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"":{1:"M.5,.5 L.5,0 M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"":{1:"M0,.5 L1,.5",3:"M.5,0 L.5,1"},"":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"":{1:"M.5,0 L.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"":{1:"M.5,0 L.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0 M0,.5 L1,.5"},"":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"":{1:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"":{3:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"":{1:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"":{3:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"":{1:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"":{3:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"":{1:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"":{3:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"":{1:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"":{3:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"":{1:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"":{3:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"":{1:(e,t)=>`M.5,1 L.5,${.5+t/.15*.5} C.5,${.5+t/.15*.5},.5,.5,1,.5`},"":{1:(e,t)=>`M.5,1 L.5,${.5+t/.15*.5} C.5,${.5+t/.15*.5},.5,.5,0,.5`},"":{1:(e,t)=>`M.5,0 L.5,${.5-t/.15*.5} C.5,${.5-t/.15*.5},.5,.5,0,.5`},"":{1:(e,t)=>`M.5,0 L.5,${.5-t/.15*.5} C.5,${.5-t/.15*.5},.5,.5,1,.5`}},ra={"":{d:"M.3,1 L.03,1 L.03,.88 C.03,.82,.06,.78,.11,.73 C.15,.7,.2,.68,.28,.65 L.43,.6 C.49,.58,.53,.56,.56,.53 C.59,.5,.6,.47,.6,.43 L.6,.27 L.4,.27 L.69,.1 L.98,.27 L.78,.27 L.78,.46 C.78,.52,.76,.56,.72,.61 C.68,.66,.63,.67,.56,.7 L.48,.72 C.42,.74,.38,.76,.35,.78 C.32,.8,.31,.84,.31,.88 L.31,1 M.3,.5 L.03,.59 L.03,.09 L.3,.09 L.3,.655",type:0},"":{d:"M.7,.4 L.7,.47 L.2,.47 L.2,.03 L.355,.03 L.355,.4 L.705,.4 M.7,.5 L.86,.5 L.86,.95 L.69,.95 L.44,.66 L.46,.86 L.46,.95 L.3,.95 L.3,.49 L.46,.49 L.71,.78 L.69,.565 L.69,.5",type:0},"":{d:"M.25,.94 C.16,.94,.11,.92,.11,.87 L.11,.53 C.11,.48,.15,.455,.23,.45 L.23,.3 C.23,.25,.26,.22,.31,.19 C.36,.16,.43,.15,.51,.15 C.59,.15,.66,.16,.71,.19 C.77,.22,.79,.26,.79,.3 L.79,.45 C.87,.45,.91,.48,.91,.53 L.91,.87 C.91,.92,.86,.94,.77,.94 L.24,.94 M.53,.2 C.49,.2,.45,.21,.42,.23 C.39,.25,.38,.27,.38,.3 L.38,.45 L.68,.45 L.68,.3 C.68,.27,.67,.25,.64,.23 C.61,.21,.58,.2,.53,.2 M.58,.82 L.58,.66 C.63,.65,.65,.63,.65,.6 C.65,.58,.64,.57,.61,.56 C.58,.55,.56,.54,.52,.54 C.48,.54,.46,.55,.43,.56 C.4,.57,.39,.59,.39,.6 C.39,.63,.41,.64,.46,.66 L.46,.82 L.57,.82",type:0},"":{d:"M0,0 L1,.5 L0,1",type:0,rightPadding:2},"":{d:"M-1,-.5 L1,.5 L-1,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M1,0 L0,.5 L1,1",type:0,leftPadding:2},"":{d:"M2,-.5 L0,.5 L2,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M0,0 L0,1 C0.552,1,1,0.776,1,.5 C1,0.224,0.552,0,0,0",type:0,rightPadding:1},"":{d:"M.2,1 C.422,1,.8,.826,.78,.5 C.8,.174,0.422,0,.2,0",type:1,rightPadding:1},"":{d:"M1,0 L1,1 C0.448,1,0,0.776,0,.5 C0,0.224,0.448,0,1,0",type:0,leftPadding:1},"":{d:"M.8,1 C0.578,1,0.2,.826,.22,.5 C0.2,0.174,0.578,0,0.8,0",type:1,leftPadding:1},"":{d:"M-.5,-.5 L1.5,1.5 L-.5,1.5",type:0},"":{d:"M-.5,-.5 L1.5,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M1.5,-.5 L-.5,1.5 L1.5,1.5",type:0},"":{d:"M1.5,-.5 L-.5,1.5 L-.5,-.5",type:0},"":{d:"M1.5,-.5 L-.5,1.5",type:1,leftPadding:1,rightPadding:1},"":{d:"M-.5,-.5 L1.5,1.5 L1.5,-.5",type:0}};ra[""]=ra[""];ra[""]=ra[""];function rx(e,t,r,l,o,h,u,_){let g=tx[t];if(g)return nx(e,g,r,l,o,h),!0;let f=ix[t];if(f)return lx(e,f,r,l,o,h),!0;let p=sx[t];if(p)return ax(e,p,r,l,o,h,_),!0;let m=ra[t];return m?(ox(e,m,r,l,o,h,u,_),!0):!1}function nx(e,t,r,l,o,h){for(let u=0;u<t.length;u++){let _=t[u],g=o/8,f=h/8;e.fillRect(r+_.x*g,l+_.y*f,_.w*g,_.h*f)}}var wp=new Map;function lx(e,t,r,l,o,h){let u=wp.get(t);u||(u=new Map,wp.set(t,u));let _=e.fillStyle;if(typeof _!="string")throw new Error(`Unexpected fillStyle type "${_}"`);let g=u.get(_);if(!g){let f=t[0].length,p=t.length,m=e.canvas.ownerDocument.createElement("canvas");m.width=f,m.height=p;let b=dt(m.getContext("2d")),x=new ImageData(f,p),E,D,K,W;if(_.startsWith("#"))E=parseInt(_.slice(1,3),16),D=parseInt(_.slice(3,5),16),K=parseInt(_.slice(5,7),16),W=_.length>7&&parseInt(_.slice(7,9),16)||1;else if(_.startsWith("rgba"))[E,D,K,W]=_.substring(5,_.length-1).split(",").map(ee=>parseFloat(ee));else throw new Error(`Unexpected fillStyle color format "${_}" when drawing pattern glyph`);for(let ee=0;ee<p;ee++)for(let V=0;V<f;V++)x.data[(ee*f+V)*4]=E,x.data[(ee*f+V)*4+1]=D,x.data[(ee*f+V)*4+2]=K,x.data[(ee*f+V)*4+3]=t[ee][V]*(W*255);b.putImageData(x,0,0),g=dt(e.createPattern(m,null)),u.set(_,g)}e.fillStyle=g,e.fillRect(r,l,o,h)}function ax(e,t,r,l,o,h,u){e.strokeStyle=e.fillStyle;for(let[_,g]of Object.entries(t)){e.beginPath(),e.lineWidth=u*Number.parseInt(_);let f;if(typeof g=="function"){let p=.15/h*o;f=g(.15,p)}else f=g;for(let p of f.split(" ")){let m=p[0],b=c0[m];if(!b){console.error(`Could not find drawing instructions for "${m}"`);continue}let x=p.substring(1).split(",");!x[0]||!x[1]||b(e,u0(x,o,h,r,l,!0,u))}e.stroke(),e.closePath()}}function ox(e,t,r,l,o,h,u,_){let g=new Path2D;g.rect(r,l,o,h),e.clip(g),e.beginPath();let f=u/12;e.lineWidth=_*f;for(let p of t.d.split(" ")){let m=p[0],b=c0[m];if(!b){console.error(`Could not find drawing instructions for "${m}"`);continue}let x=p.substring(1).split(",");!x[0]||!x[1]||b(e,u0(x,o,h,r,l,!1,_,(t.leftPadding??0)*(f/2),(t.rightPadding??0)*(f/2)))}t.type===1?(e.strokeStyle=e.fillStyle,e.stroke()):e.fill(),e.closePath()}function Cp(e,t,r=0){return Math.max(Math.min(e,t),r)}var c0={C:(e,t)=>e.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5]),L:(e,t)=>e.lineTo(t[0],t[1]),M:(e,t)=>e.moveTo(t[0],t[1])};function u0(e,t,r,l,o,h,u,_=0,g=0){let f=e.map(p=>parseFloat(p)||parseInt(p));if(f.length<2)throw new Error("Too few arguments for instruction");for(let p=0;p<f.length;p+=2)f[p]*=t-_*u-g*u,h&&f[p]!==0&&(f[p]=Cp(Math.round(f[p]+.5)-.5,t,0)),f[p]+=l+_*u;for(let p=1;p<f.length;p+=2)f[p]*=r,h&&f[p]!==0&&(f[p]=Cp(Math.round(f[p]+.5)-.5,r,0)),f[p]+=o;return f}var Ep=class{constructor(){this._data={}}set(t,r,l){this._data[t]||(this._data[t]={}),this._data[t][r]=l}get(t,r){return this._data[t]?this._data[t][r]:void 0}clear(){this._data={}}},Mp=class{constructor(){this._data=new Ep}set(e,t,r,l,o){this._data.get(e,t)||this._data.set(e,t,new Ep),this._data.get(e,t).set(r,l,o)}get(e,t,r,l){return this._data.get(e,t)?.get(r,l)}clear(){this._data.clear()}},d0=class{constructor(){this._tasks=[],this._i=0}enqueue(e){this._tasks.push(e),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(e){this._idleCallback=void 0;let t=0,r=0,l=e.timeRemaining(),o=0;for(;this._i<this._tasks.length;){if(t=performance.now(),this._tasks[this._i]()||this._i++,t=Math.max(1,performance.now()-t),r=Math.max(t,r),o=e.timeRemaining(),r*1.5>o){l-t<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(l-t))}ms`),this._start();return}l=o}this.clear()}},hx=class extends d0{_requestCallback(t){return setTimeout(()=>t(this._createDeadline(16)))}_cancelCallback(t){clearTimeout(t)}_createDeadline(t){let r=performance.now()+t;return{timeRemaining:()=>Math.max(0,r-performance.now())}}},cx=class extends d0{_requestCallback(t){return requestIdleCallback(t)}_cancelCallback(t){cancelIdleCallback(t)}},ux=!Gd&&"requestIdleCallback"in window?cx:hx,Bn=class f0{constructor(){this.fg=0,this.bg=0,this.extended=new _0}static toColorRGB(t){return[t>>>16&255,t>>>8&255,t&255]}static fromColorRGB(t){return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255}clone(){let t=new f0;return t.fg=this.fg,t.bg=this.bg,t.extended=this.extended.clone(),t}isInverse(){return this.fg&67108864}isBold(){return this.fg&134217728}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:this.fg&268435456}isBlink(){return this.fg&536870912}isInvisible(){return this.fg&1073741824}isItalic(){return this.bg&67108864}isDim(){return this.bg&134217728}isStrikethrough(){return this.fg&2147483648}isProtected(){return this.bg&536870912}isOverline(){return this.bg&1073741824}getFgColorMode(){return this.fg&50331648}getBgColorMode(){return this.bg&50331648}isFgRGB(){return(this.fg&50331648)===50331648}isBgRGB(){return(this.bg&50331648)===50331648}isFgPalette(){return(this.fg&50331648)===16777216||(this.fg&50331648)===33554432}isBgPalette(){return(this.bg&50331648)===16777216||(this.bg&50331648)===33554432}isFgDefault(){return(this.fg&50331648)===0}isBgDefault(){return(this.bg&50331648)===0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(this.fg&50331648){case 16777216:case 33554432:return this.fg&255;case 50331648:return this.fg&16777215;default:return-1}}getBgColor(){switch(this.bg&50331648){case 16777216:case 33554432:return this.bg&255;case 50331648:return this.bg&16777215;default:return-1}}hasExtendedAttrs(){return this.bg&268435456}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(this.bg&268435456&&~this.extended.underlineColor)switch(this.extended.underlineColor&50331648){case 16777216:case 33554432:return this.extended.underlineColor&255;case 50331648:return this.extended.underlineColor&16777215;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return this.bg&268435456&&~this.extended.underlineColor?this.extended.underlineColor&50331648:this.getFgColorMode()}isUnderlineColorRGB(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===50331648:this.isFgRGB()}isUnderlineColorPalette(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===16777216||(this.extended.underlineColor&50331648)===33554432:this.isFgPalette()}isUnderlineColorDefault(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===0:this.isFgDefault()}getUnderlineStyle(){return this.fg&268435456?this.bg&268435456?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}},_0=class g0{constructor(t=0,r=0){this._ext=0,this._urlId=0,this._ext=t,this._urlId=r}get ext(){return this._urlId?this._ext&-469762049|this.underlineStyle<<26:this._ext}set ext(t){this._ext=t}get underlineStyle(){return this._urlId?5:(this._ext&469762048)>>26}set underlineStyle(t){this._ext&=-469762049,this._ext|=t<<26&469762048}get underlineColor(){return this._ext&67108863}set underlineColor(t){this._ext&=-67108864,this._ext|=t&67108863}get urlId(){return this._urlId}set urlId(t){this._urlId=t}get underlineVariantOffset(){let t=(this._ext&3758096384)>>29;return t<0?t^4294967288:t}set underlineVariantOffset(t){this._ext&=536870911,this._ext|=t<<29&3758096384}clone(){return new g0(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}},dx=globalThis.performance&&typeof globalThis.performance.now=="function",fx=class v0{static create(t){return new v0(t)}constructor(t){this._now=dx&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}},Es;(e=>{e.None=()=>$i.None;function t(A,T){return m(A,()=>{},0,void 0,!0,void 0,T)}e.defer=t;function r(A){return(T,F=null,j)=>{let M=!1,k;return k=A(C=>{if(!M)return k?k.dispose():M=!0,T.call(F,C)},null,j),M&&k.dispose(),k}}e.once=r;function l(A,T,F){return f((j,M=null,k)=>A(C=>j.call(M,T(C)),null,k),F)}e.map=l;function o(A,T,F){return f((j,M=null,k)=>A(C=>{T(C),j.call(M,C)},null,k),F)}e.forEach=o;function h(A,T,F){return f((j,M=null,k)=>A(C=>T(C)&&j.call(M,C),null,k),F)}e.filter=h;function u(A){return A}e.signal=u;function _(...A){return(T,F=null,j)=>{let M=r0(...A.map(k=>k(C=>T.call(F,C))));return p(M,j)}}e.any=_;function g(A,T,F,j){let M=F;return l(A,k=>(M=T(M,k),M),j)}e.reduce=g;function f(A,T){let F,j={onWillAddFirstListener(){F=A(M.fire,M)},onDidRemoveLastListener(){F?.dispose()}},M=new Ke(j);return T?.add(M),M.event}function p(A,T){return T instanceof Array?T.push(A):T&&T.add(A),A}function m(A,T,F=100,j=!1,M=!1,k,C){let N,Y,w,U=0,X,se={leakWarningThreshold:k,onWillAddFirstListener(){N=A(oe=>{U++,Y=T(Y,oe),j&&!w&&(re.fire(Y),Y=void 0),X=()=>{let ue=Y;Y=void 0,w=void 0,(!j||U>1)&&re.fire(ue),U=0},typeof F=="number"?(clearTimeout(w),w=setTimeout(X,F)):w===void 0&&(w=0,queueMicrotask(X))})},onWillRemoveListener(){M&&U>0&&X?.()},onDidRemoveLastListener(){X=void 0,N.dispose()}},re=new Ke(se);return C?.add(re),re.event}e.debounce=m;function b(A,T=0,F){return e.debounce(A,(j,M)=>j?(j.push(M),j):[M],T,void 0,!0,void 0,F)}e.accumulate=b;function x(A,T=(j,M)=>j===M,F){let j=!0,M;return h(A,k=>{let C=j||!T(k,M);return j=!1,M=k,C},F)}e.latch=x;function E(A,T,F){return[e.filter(A,T,F),e.filter(A,j=>!T(j),F)]}e.split=E;function D(A,T=!1,F=[],j){let M=F.slice(),k=A(Y=>{M?M.push(Y):N.fire(Y)});j&&j.add(k);let C=()=>{M?.forEach(Y=>N.fire(Y)),M=null},N=new Ke({onWillAddFirstListener(){k||(k=A(Y=>N.fire(Y)),j&&j.add(k))},onDidAddFirstListener(){M&&(T?setTimeout(C):C())},onDidRemoveLastListener(){k&&k.dispose(),k=null}});return j&&j.add(N),N.event}e.buffer=D;function K(A,T){return(F,j,M)=>{let k=T(new ee);return A(function(C){let N=k.evaluate(C);N!==W&&F.call(j,N)},void 0,M)}}e.chain=K;let W=Symbol("HaltChainable");class ee{constructor(){this.steps=[]}map(T){return this.steps.push(T),this}forEach(T){return this.steps.push(F=>(T(F),F)),this}filter(T){return this.steps.push(F=>T(F)?F:W),this}reduce(T,F){let j=F;return this.steps.push(M=>(j=T(j,M),j)),this}latch(T=(F,j)=>F===j){let F=!0,j;return this.steps.push(M=>{let k=F||!T(M,j);return F=!1,j=M,k?M:W}),this}evaluate(T){for(let F of this.steps)if(T=F(T),T===W)break;return T}}function V(A,T,F=j=>j){let j=(...N)=>C.fire(F(...N)),M=()=>A.on(T,j),k=()=>A.removeListener(T,j),C=new Ke({onWillAddFirstListener:M,onDidRemoveLastListener:k});return C.event}e.fromNodeEventEmitter=V;function z(A,T,F=j=>j){let j=(...N)=>C.fire(F(...N)),M=()=>A.addEventListener(T,j),k=()=>A.removeEventListener(T,j),C=new Ke({onWillAddFirstListener:M,onDidRemoveLastListener:k});return C.event}e.fromDOMEventEmitter=z;function Q(A){return new Promise(T=>r(A)(T))}e.toPromise=Q;function te(A){let T=new Ke;return A.then(F=>{T.fire(F)},()=>{T.fire(void 0)}).finally(()=>{T.dispose()}),T.event}e.fromPromise=te;function ie(A,T){return A(F=>T.fire(F))}e.forward=ie;function le(A,T,F){return T(F),A(j=>T(j))}e.runAndSubscribe=le;class fe{constructor(T,F){this._observable=T,this._counter=0,this._hasChanged=!1;let j={onWillAddFirstListener:()=>{T.addObserver(this)},onDidRemoveLastListener:()=>{T.removeObserver(this)}};this.emitter=new Ke(j),F&&F.add(this.emitter)}beginUpdate(T){this._counter++}handlePossibleChange(T){}handleChange(T,F){this._hasChanged=!0}endUpdate(T){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function Le(A,T){return new fe(A,T).emitter.event}e.fromObservable=Le;function ae(A){return(T,F,j)=>{let M=0,k=!1,C={beginUpdate(){M++},endUpdate(){M--,M===0&&(A.reportChanges(),k&&(k=!1,T.call(F)))},handlePossibleChange(){},handleChange(){k=!0}};A.addObserver(C),A.reportChanges();let N={dispose(){A.removeObserver(C)}};return j instanceof Nn?j.add(N):Array.isArray(j)&&j.push(N),N}}e.fromObservableLight=ae})(Es||={});var rd=class nd{constructor(t){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${t}_${nd._idPool++}`,nd.all.add(this)}start(t){this._stopWatch=new fx,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}};rd.all=new Set,rd._idPool=0;var _x=rd,gx=-1,p0=class m0{constructor(t,r,l=(m0._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t,this.threshold=r,this.name=l,this._warnCountdown=0}dispose(){this._stacks?.clear()}check(t,r){let l=this.threshold;if(l<=0||r<l)return;this._stacks||(this._stacks=new Map);let o=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,o+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=l*.5;let[h,u]=this.getMostFrequentStack(),_=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${u}):`;console.warn(_),console.warn(h);let g=new mx(_,h);this._errorHandler(g)}return()=>{let h=this._stacks.get(t.value)||0;this._stacks.set(t.value,h-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,r=0;for(let[l,o]of this._stacks)(!t||r<o)&&(t=[l,o],r=o);return t}};p0._idPool=1;var vx=p0,px=class S0{constructor(t){this.value=t}static create(){let t=new Error;return new S0(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},mx=class extends Error{constructor(t,r){super(t),this.name="ListenerLeakError",this.stack=r}},Sx=class extends Error{constructor(t,r){super(t),this.name="ListenerRefusalError",this.stack=r}},yx=0,Bu=class{constructor(e){this.value=e,this.id=yx++}},bx=2,xx,Ke=class{constructor(t){this._size=0,this._options=t,this._leakageMon=this._options?.leakWarningThreshold?new vx(t?.onListenerError??Ru,this._options?.leakWarningThreshold??gx):void 0,this._perfMon=this._options?._profName?new _x(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){this._disposed||(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose())}get event(){return this._event??=(t,r,l)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let _=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(_);let g=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],f=new Sx(`${_}. HINT: Stack shows most frequent listener (${g[1]}-times)`,g[0]);return(this._options?.onListenerError||Ru)(f),$i.None}if(this._disposed)return $i.None;r&&(t=t.bind(r));let o=new Bu(t),h;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(o.stack=px.create(),h=this._leakageMon.check(o.stack,this._size+1)),this._listeners?this._listeners instanceof Bu?(this._deliveryQueue??=new wx,this._listeners=[this._listeners,o]):this._listeners.push(o):(this._options?.onWillAddFirstListener?.(this),this._listeners=o,this._options?.onDidAddFirstListener?.(this)),this._size++;let u=Pt(()=>{h?.(),this._removeListener(o)});return l instanceof Nn?l.add(u):Array.isArray(l)&&l.push(u),u},this._event}_removeListener(t){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,l=r.indexOf(t);if(l===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[l]=void 0;let o=this._deliveryQueue.current===this;if(this._size*bx<=r.length){let h=0;for(let u=0;u<r.length;u++)r[u]?r[h++]=r[u]:o&&(this._deliveryQueue.end--,h<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=h}}_deliver(t,r){if(!t)return;let l=this._options?.onListenerError||Ru;if(!l){t.value(r);return}try{t.value(r)}catch(o){l(o)}}_deliverQueue(t){let r=t.current._listeners;for(;t.i<t.end;)this._deliver(r[t.i++],t.value);t.reset()}fire(t){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof Bu)this._deliver(this._listeners,t);else{let r=this._deliveryQueue;r.enqueue(this,t,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}},wx=class{constructor(){this.i=-1,this.end=0}enqueue(e,t,r){this.i=0,this.end=r,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}},kp={texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},offset:{x:0,y:0},size:{x:0,y:0},sizeClipSpace:{x:0,y:0}},Pl=2,Fl,nr=class Rn{constructor(t,r,l){this._document=t,this._config=r,this._unicodeService=l,this._didWarmUp=!1,this._cacheMap=new Mp,this._cacheMapCombined=new Mp,this._pages=[],this._activePages=[],this._workBoundingBox={top:0,left:0,bottom:0,right:0},this._workAttributeData=new Bn,this._textureSize=512,this._onAddTextureAtlasCanvas=new Ke,this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=new Ke,this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._requestClearModel=!1,this._createNewPage(),this._tmpCanvas=y0(t,this._config.deviceCellWidth*4+Pl*2,this._config.deviceCellHeight+Pl*2),this._tmpCtx=dt(this._tmpCanvas.getContext("2d",{alpha:this._config.allowTransparency,willReadFrequently:!0}))}get pages(){return this._pages}dispose(){this._tmpCanvas.remove();for(let t of this.pages)t.canvas.remove();this._onAddTextureAtlasCanvas.dispose()}warmUp(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)}_doWarmUp(){let t=new ux;for(let r=33;r<126;r++)t.enqueue(()=>{if(!this._cacheMap.get(r,0,0,0)){let l=this._drawToCache(r,0,0,0,!1,void 0);this._cacheMap.set(r,0,0,0,l)}})}beginFrame(){return this._requestClearModel}clearTexture(){if(!(this._pages[0].currentRow.x===0&&this._pages[0].currentRow.y===0)){for(let t of this._pages)t.clear();this._cacheMap.clear(),this._cacheMapCombined.clear(),this._didWarmUp=!1}}_createNewPage(){if(Rn.maxAtlasPages&&this._pages.length>=Math.max(4,Rn.maxAtlasPages)){let r=this._pages.filter(f=>f.canvas.width*2<=(Rn.maxTextureSize||4096)).sort((f,p)=>p.canvas.width!==f.canvas.width?p.canvas.width-f.canvas.width:p.percentageUsed-f.percentageUsed),l=-1,o=0;for(let f=0;f<r.length;f++)if(r[f].canvas.width!==o)l=f,o=r[f].canvas.width;else if(f-l===3)break;let h=r.slice(l,l+4),u=h.map(f=>f.glyphs[0].texturePage).sort((f,p)=>f>p?1:-1),_=this.pages.length-h.length,g=this._mergePages(h,_);g.version++;for(let f=u.length-1;f>=0;f--)this._deletePage(u[f]);this.pages.push(g),this._requestClearModel=!0,this._onAddTextureAtlasCanvas.fire(g.canvas)}let t=new zu(this._document,this._textureSize);return this._pages.push(t),this._activePages.push(t),this._onAddTextureAtlasCanvas.fire(t.canvas),t}_mergePages(t,r){let l=t[0].canvas.width*2,o=new zu(this._document,l,t);for(let[h,u]of t.entries()){let _=h*u.canvas.width%l,g=Math.floor(h/2)*u.canvas.height;o.ctx.drawImage(u.canvas,_,g);for(let p of u.glyphs)p.texturePage=r,p.sizeClipSpace.x=p.size.x/l,p.sizeClipSpace.y=p.size.y/l,p.texturePosition.x+=_,p.texturePosition.y+=g,p.texturePositionClipSpace.x=p.texturePosition.x/l,p.texturePositionClipSpace.y=p.texturePosition.y/l;this._onRemoveTextureAtlasCanvas.fire(u.canvas);let f=this._activePages.indexOf(u);f!==-1&&this._activePages.splice(f,1)}return o}_deletePage(t){this._pages.splice(t,1);for(let r=t;r<this._pages.length;r++){let l=this._pages[r];for(let o of l.glyphs)o.texturePage--;l.version++}}getRasterizedGlyphCombinedChar(t,r,l,o,h,u){return this._getFromCacheMap(this._cacheMapCombined,t,r,l,o,h,u)}getRasterizedGlyph(t,r,l,o,h,u){return this._getFromCacheMap(this._cacheMap,t,r,l,o,h,u)}_getFromCacheMap(t,r,l,o,h,u,_){return Fl=t.get(r,l,o,h),Fl||(Fl=this._drawToCache(r,l,o,h,u,_),t.set(r,l,o,h,Fl)),Fl}_getColorFromAnsiIndex(t){if(t>=this._config.colors.ansi.length)throw new Error("No color found for idx "+t);return this._config.colors.ansi[t]}_getBackgroundColor(t,r,l,o){if(this._config.allowTransparency)return Ri;let h;switch(t){case 16777216:case 33554432:h=this._getColorFromAnsiIndex(r);break;case 50331648:let u=Bn.toColorRGB(r);h=It.toColor(u[0],u[1],u[2]);break;default:l?h=Xl.opaque(this._config.colors.foreground):h=this._config.colors.background;break}return this._config.allowTransparency||(h=Xl.opaque(h)),h}_getForegroundColor(t,r,l,o,h,u,_,g,f,p){let m=this._getMinimumContrastColor(t,r,l,o,h,u,_,f,g,p);if(m)return m;let b;switch(h){case 16777216:case 33554432:this._config.drawBoldTextInBrightColors&&f&&u<8&&(u+=8),b=this._getColorFromAnsiIndex(u);break;case 50331648:let x=Bn.toColorRGB(u);b=It.toColor(x[0],x[1],x[2]);break;default:_?b=this._config.colors.background:b=this._config.colors.foreground}return this._config.allowTransparency&&(b=Xl.opaque(b)),g&&(b=Xl.multiplyOpacity(b,ex)),b}_resolveBackgroundRgba(t,r,l){switch(t){case 16777216:case 33554432:return this._getColorFromAnsiIndex(r).rgba;case 50331648:return r<<8;default:return l?this._config.colors.foreground.rgba:this._config.colors.background.rgba}}_resolveForegroundRgba(t,r,l,o){switch(t){case 16777216:case 33554432:return this._config.drawBoldTextInBrightColors&&o&&r<8&&(r+=8),this._getColorFromAnsiIndex(r).rgba;case 50331648:return r<<8;default:return l?this._config.colors.background.rgba:this._config.colors.foreground.rgba}}_getMinimumContrastColor(t,r,l,o,h,u,_,g,f,p){if(this._config.minimumContrastRatio===1||p)return;let m=this._getContrastCache(f),b=m.getColor(t,o);if(b!==void 0)return b||void 0;let x=this._resolveBackgroundRgba(r,l,_),E=this._resolveForegroundRgba(h,u,_,g),D=Or.ensureContrastRatio(x,E,this._config.minimumContrastRatio/(f?2:1));if(!D){m.setColor(t,o,null);return}let K=It.toColor(D>>24&255,D>>16&255,D>>8&255);return m.setColor(t,o,K),K}_getContrastCache(t){return t?this._config.colors.halfContrastCache:this._config.colors.contrastCache}_drawToCache(t,r,l,o,h,u){let _=typeof t=="number"?String.fromCharCode(t):t;u&&this._tmpCanvas.parentElement!==u&&(this._tmpCanvas.style.display="none",u.append(this._tmpCanvas));let g=Math.min(this._config.deviceCellWidth*Math.max(_.length,2)+Pl*2,this._config.deviceMaxTextureSize);this._tmpCanvas.width<g&&(this._tmpCanvas.width=g);let f=Math.min(this._config.deviceCellHeight+Pl*4,this._textureSize);if(this._tmpCanvas.height<f&&(this._tmpCanvas.height=f),this._tmpCtx.save(),this._workAttributeData.fg=l,this._workAttributeData.bg=r,this._workAttributeData.extended.ext=o,!!this._workAttributeData.isInvisible())return kp;let p=!!this._workAttributeData.isBold(),m=!!this._workAttributeData.isInverse(),b=!!this._workAttributeData.isDim(),x=!!this._workAttributeData.isItalic(),E=!!this._workAttributeData.isUnderline(),D=!!this._workAttributeData.isStrikethrough(),K=!!this._workAttributeData.isOverline(),W=this._workAttributeData.getFgColor(),ee=this._workAttributeData.getFgColorMode(),V=this._workAttributeData.getBgColor(),z=this._workAttributeData.getBgColorMode();if(m){let Y=W;W=V,V=Y;let w=ee;ee=z,z=w}let Q=this._getBackgroundColor(z,V,m,b);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=Q.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.globalCompositeOperation="source-over";let te=p?this._config.fontWeightBold:this._config.fontWeight,ie=x?"italic":"";this._tmpCtx.font=`${ie} ${te} ${this._config.fontSize*this._config.devicePixelRatio}px ${this._config.fontFamily}`,this._tmpCtx.textBaseline=h0;let le=_.length===1&&Vd(_.charCodeAt(0)),fe=_.length===1&&Ib(_.charCodeAt(0)),Le=this._getForegroundColor(r,z,V,l,ee,W,m,b,p,o0(_.charCodeAt(0)));this._tmpCtx.fillStyle=Le.css;let ae=fe?0:Pl*2,A=!1;this._config.customGlyphs!==!1&&(A=rx(this._tmpCtx,_,ae,ae,this._config.deviceCellWidth,this._config.deviceCellHeight,this._config.fontSize,this._config.devicePixelRatio));let T=!le,F;if(typeof t=="number"?F=this._unicodeService.wcwidth(t):F=this._unicodeService.getStringCellWidth(t),E){this._tmpCtx.save();let Y=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),w=Y%2===1?.5:0;if(this._tmpCtx.lineWidth=Y,this._workAttributeData.isUnderlineColorDefault())this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle;else if(this._workAttributeData.isUnderlineColorRGB())T=!1,this._tmpCtx.strokeStyle=`rgb(${Bn.toColorRGB(this._workAttributeData.getUnderlineColor()).join(",")})`;else{T=!1;let ue=this._workAttributeData.getUnderlineColor();this._config.drawBoldTextInBrightColors&&this._workAttributeData.isBold()&&ue<8&&(ue+=8),this._tmpCtx.strokeStyle=this._getColorFromAnsiIndex(ue).css}this._tmpCtx.beginPath();let U=ae,X=Math.ceil(ae+this._config.deviceCharHeight)-w-(h?Y*2:0),se=X+Y,re=X+Y*2,oe=this._workAttributeData.getUnderlineVariantOffset();for(let ue=0;ue<F;ue++){this._tmpCtx.save();let be=U+ue*this._config.deviceCellWidth,pe=U+(ue+1)*this._config.deviceCellWidth,Vt=be+this._config.deviceCellWidth/2;switch(this._workAttributeData.extended.underlineStyle){case 2:this._tmpCtx.moveTo(be,X),this._tmpCtx.lineTo(pe,X),this._tmpCtx.moveTo(be,re),this._tmpCtx.lineTo(pe,re);break;case 3:let Ft=Y<=1?re:Math.ceil(ae+this._config.deviceCharHeight-Y/2)-w,Tt=Y<=1?X:Math.ceil(ae+this._config.deviceCharHeight+Y/2)-w,Ae=new Path2D;Ae.rect(be,X,this._config.deviceCellWidth,re-X),this._tmpCtx.clip(Ae),this._tmpCtx.moveTo(be-this._config.deviceCellWidth/2,se),this._tmpCtx.bezierCurveTo(be-this._config.deviceCellWidth/2,Tt,be,Tt,be,se),this._tmpCtx.bezierCurveTo(be,Ft,Vt,Ft,Vt,se),this._tmpCtx.bezierCurveTo(Vt,Tt,pe,Tt,pe,se),this._tmpCtx.bezierCurveTo(pe,Ft,pe+this._config.deviceCellWidth/2,Ft,pe+this._config.deviceCellWidth/2,se);break;case 4:let jt=oe===0?0:oe>=Y?Y*2-oe:Y-oe;oe>=Y||jt===0?(this._tmpCtx.setLineDash([Math.round(Y),Math.round(Y)]),this._tmpCtx.moveTo(be+jt,X),this._tmpCtx.lineTo(pe,X)):(this._tmpCtx.setLineDash([Math.round(Y),Math.round(Y)]),this._tmpCtx.moveTo(be,X),this._tmpCtx.lineTo(be+jt,X),this._tmpCtx.moveTo(be+jt+Y,X),this._tmpCtx.lineTo(pe,X)),oe=Qb(pe-be,Y,oe);break;case 5:let Pn=.6,Fn=.3,Wn=pe-be,qn=Math.floor(Pn*Wn),Pr=Math.floor(Fn*Wn),Yn=Wn-qn-Pr;this._tmpCtx.setLineDash([qn,Pr,Yn]),this._tmpCtx.moveTo(be,X),this._tmpCtx.lineTo(pe,X);break;default:this._tmpCtx.moveTo(be,X),this._tmpCtx.lineTo(pe,X);break}this._tmpCtx.stroke(),this._tmpCtx.restore()}if(this._tmpCtx.restore(),!A&&this._config.fontSize>=12&&!this._config.allowTransparency&&_!==" "){this._tmpCtx.save(),this._tmpCtx.textBaseline="alphabetic";let ue=this._tmpCtx.measureText(_);if(this._tmpCtx.restore(),"actualBoundingBoxDescent"in ue&&ue.actualBoundingBoxDescent>0){this._tmpCtx.save();let be=new Path2D;be.rect(U,X-Math.ceil(Y/2),this._config.deviceCellWidth*F,re-X+Math.ceil(Y/2)),this._tmpCtx.clip(be),this._tmpCtx.lineWidth=this._config.devicePixelRatio*3,this._tmpCtx.strokeStyle=Q.css,this._tmpCtx.strokeText(_,ae,ae+this._config.deviceCharHeight),this._tmpCtx.restore()}}}if(K){let Y=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),w=Y%2===1?.5:0;this._tmpCtx.lineWidth=Y,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(ae,ae+w),this._tmpCtx.lineTo(ae+this._config.deviceCharWidth*F,ae+w),this._tmpCtx.stroke()}if(A||this._tmpCtx.fillText(_,ae,ae+this._config.deviceCharHeight),_==="_"&&!this._config.allowTransparency){let Y=Ou(this._tmpCtx.getImageData(ae,ae,this._config.deviceCellWidth,this._config.deviceCellHeight),Q,Le,T);if(Y)for(let w=1;w<=5&&(this._tmpCtx.save(),this._tmpCtx.fillStyle=Q.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.restore(),this._tmpCtx.fillText(_,ae,ae+this._config.deviceCharHeight-w),Y=Ou(this._tmpCtx.getImageData(ae,ae,this._config.deviceCellWidth,this._config.deviceCellHeight),Q,Le,T),!!Y);w++);}if(D){let Y=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/10)),w=this._tmpCtx.lineWidth%2===1?.5:0;this._tmpCtx.lineWidth=Y,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(ae,ae+Math.floor(this._config.deviceCharHeight/2)-w),this._tmpCtx.lineTo(ae+this._config.deviceCharWidth*F,ae+Math.floor(this._config.deviceCharHeight/2)-w),this._tmpCtx.stroke()}this._tmpCtx.restore();let j=this._tmpCtx.getImageData(0,0,this._tmpCanvas.width,this._tmpCanvas.height),M;if(this._config.allowTransparency?M=Cx(j):M=Ou(j,Q,Le,T),M)return kp;let k=this._findGlyphBoundingBox(j,this._workBoundingBox,g,fe,A,ae),C,N;for(;;){if(this._activePages.length===0){let Y=this._createNewPage();C=Y,N=Y.currentRow,N.height=k.size.y;break}C=this._activePages[this._activePages.length-1],N=C.currentRow;for(let Y of this._activePages)k.size.y<=Y.currentRow.height&&(C=Y,N=Y.currentRow);for(let Y=this._activePages.length-1;Y>=0;Y--)for(let w of this._activePages[Y].fixedRows)w.height<=N.height&&k.size.y<=w.height&&(C=this._activePages[Y],N=w);if(k.size.x>this._textureSize){this._overflowSizePage||(this._overflowSizePage=new zu(this._document,this._config.deviceMaxTextureSize),this.pages.push(this._overflowSizePage),this._requestClearModel=!0,this._onAddTextureAtlasCanvas.fire(this._overflowSizePage.canvas)),C=this._overflowSizePage,N=this._overflowSizePage.currentRow,N.x+k.size.x>=C.canvas.width&&(N.x=0,N.y+=N.height,N.height=0);break}if(N.y+k.size.y>=C.canvas.height||N.height>k.size.y+2){let Y=!1;if(C.currentRow.y+C.currentRow.height+k.size.y>=C.canvas.height){let w;for(let U of this._activePages)if(U.currentRow.y+U.currentRow.height+k.size.y<U.canvas.height){w=U;break}if(w)C=w;else if(Rn.maxAtlasPages&&this._pages.length>=Rn.maxAtlasPages&&N.y+k.size.y<=C.canvas.height&&N.height>=k.size.y&&N.x+k.size.x<=C.canvas.width)Y=!0;else{let U=this._createNewPage();C=U,N=U.currentRow,N.height=k.size.y,Y=!0}}Y||(C.currentRow.height>0&&C.fixedRows.push(C.currentRow),N={x:0,y:C.currentRow.y+C.currentRow.height,height:k.size.y},C.fixedRows.push(N),C.currentRow={x:0,y:N.y+N.height,height:0})}if(N.x+k.size.x<=C.canvas.width)break;N===C.currentRow?(N.x=0,N.y+=N.height,N.height=0):C.fixedRows.splice(C.fixedRows.indexOf(N),1)}return k.texturePage=this._pages.indexOf(C),k.texturePosition.x=N.x,k.texturePosition.y=N.y,k.texturePositionClipSpace.x=N.x/C.canvas.width,k.texturePositionClipSpace.y=N.y/C.canvas.height,k.sizeClipSpace.x/=C.canvas.width,k.sizeClipSpace.y/=C.canvas.height,N.height=Math.max(N.height,k.size.y),N.x+=k.size.x,C.ctx.putImageData(j,k.texturePosition.x-this._workBoundingBox.left,k.texturePosition.y-this._workBoundingBox.top,this._workBoundingBox.left,this._workBoundingBox.top,k.size.x,k.size.y),C.addGlyph(k),C.version++,k}_findGlyphBoundingBox(t,r,l,o,h,u){r.top=0;let _=o?this._config.deviceCellHeight:this._tmpCanvas.height,g=o?this._config.deviceCellWidth:l,f=!1;for(let p=0;p<_;p++){for(let m=0;m<g;m++){let b=p*this._tmpCanvas.width*4+m*4+3;if(t.data[b]!==0){r.top=p,f=!0;break}}if(f)break}r.left=0,f=!1;for(let p=0;p<u+g;p++){for(let m=0;m<_;m++){let b=m*this._tmpCanvas.width*4+p*4+3;if(t.data[b]!==0){r.left=p,f=!0;break}}if(f)break}r.right=g,f=!1;for(let p=u+g-1;p>=u;p--){for(let m=0;m<_;m++){let b=m*this._tmpCanvas.width*4+p*4+3;if(t.data[b]!==0){r.right=p,f=!0;break}}if(f)break}r.bottom=_,f=!1;for(let p=_-1;p>=0;p--){for(let m=0;m<g;m++){let b=p*this._tmpCanvas.width*4+m*4+3;if(t.data[b]!==0){r.bottom=p,f=!0;break}}if(f)break}return{texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},size:{x:r.right-r.left+1,y:r.bottom-r.top+1},sizeClipSpace:{x:r.right-r.left+1,y:r.bottom-r.top+1},offset:{x:-r.left+u+(o||h?Math.floor((this._config.deviceCellWidth-this._config.deviceCharWidth)/2):0),y:-r.top+u+(o||h?this._config.lineHeight===1?0:Math.round((this._config.deviceCellHeight-this._config.deviceCharHeight)/2):0)}}}},zu=class{constructor(t,r,l){if(this._usedPixels=0,this._glyphs=[],this.version=0,this.currentRow={x:0,y:0,height:0},this.fixedRows=[],l)for(let o of l)this._glyphs.push(...o.glyphs),this._usedPixels+=o._usedPixels;this.canvas=y0(t,r,r),this.ctx=dt(this.canvas.getContext("2d",{alpha:!0}))}get percentageUsed(){return this._usedPixels/(this.canvas.width*this.canvas.height)}get glyphs(){return this._glyphs}addGlyph(t){this._glyphs.push(t),this._usedPixels+=t.size.x*t.size.y}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.currentRow.x=0,this.currentRow.y=0,this.currentRow.height=0,this.fixedRows.length=0,this.version++}};function Ou(e,t,r,l){let o=t.rgba>>>24,h=t.rgba>>>16&255,u=t.rgba>>>8&255,_=r.rgba>>>24,g=r.rgba>>>16&255,f=r.rgba>>>8&255,p=Math.floor((Math.abs(o-_)+Math.abs(h-g)+Math.abs(u-f))/12),m=!0;for(let b=0;b<e.data.length;b+=4)e.data[b]===o&&e.data[b+1]===h&&e.data[b+2]===u||l&&Math.abs(e.data[b]-o)+Math.abs(e.data[b+1]-h)+Math.abs(e.data[b+2]-u)<p?e.data[b+3]=0:m=!1;return m}function Cx(e){for(let t=0;t<e.data.length;t+=4)if(e.data[t+3]>0)return!1;return!0}function y0(e,t,r){let l=e.createElement("canvas");return l.width=t,l.height=r,l}function Ex(e,t,r,l,o,h,u,_){let g={foreground:h.foreground,background:h.background,cursor:Ri,cursorAccent:Ri,selectionForeground:Ri,selectionBackgroundTransparent:Ri,selectionBackgroundOpaque:Ri,selectionInactiveBackgroundTransparent:Ri,selectionInactiveBackgroundOpaque:Ri,overviewRulerBorder:Ri,scrollbarSliderBackground:Ri,scrollbarSliderHoverBackground:Ri,scrollbarSliderActiveBackground:Ri,ansi:h.ansi.slice(),contrastCache:h.contrastCache,halfContrastCache:h.halfContrastCache};return{customGlyphs:o.customGlyphs,devicePixelRatio:u,deviceMaxTextureSize:_,letterSpacing:o.letterSpacing,lineHeight:o.lineHeight,deviceCellWidth:e,deviceCellHeight:t,deviceCharWidth:r,deviceCharHeight:l,fontFamily:o.fontFamily,fontSize:o.fontSize,fontWeight:o.fontWeight,fontWeightBold:o.fontWeightBold,allowTransparency:o.allowTransparency,drawBoldTextInBrightColors:o.drawBoldTextInBrightColors,minimumContrastRatio:o.minimumContrastRatio,colors:g}}function Lp(e,t){for(let r=0;r<e.colors.ansi.length;r++)if(e.colors.ansi[r].rgba!==t.colors.ansi[r].rgba)return!1;return e.devicePixelRatio===t.devicePixelRatio&&e.customGlyphs===t.customGlyphs&&e.lineHeight===t.lineHeight&&e.letterSpacing===t.letterSpacing&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.fontWeight===t.fontWeight&&e.fontWeightBold===t.fontWeightBold&&e.allowTransparency===t.allowTransparency&&e.deviceCharWidth===t.deviceCharWidth&&e.deviceCharHeight===t.deviceCharHeight&&e.drawBoldTextInBrightColors===t.drawBoldTextInBrightColors&&e.minimumContrastRatio===t.minimumContrastRatio&&e.colors.foreground.rgba===t.colors.foreground.rgba&&e.colors.background.rgba===t.colors.background.rgba}function Mx(e){return(e&50331648)===16777216||(e&50331648)===33554432}var Oi=[];function b0(e,t,r,l,o,h,u,_,g){let f=Ex(l,o,h,u,t,r,_,g);for(let b=0;b<Oi.length;b++){let x=Oi[b],E=x.ownedBy.indexOf(e);if(E>=0){if(Lp(x.config,f))return x.atlas;x.ownedBy.length===1?(x.atlas.dispose(),Oi.splice(b,1)):x.ownedBy.splice(E,1);break}}for(let b=0;b<Oi.length;b++){let x=Oi[b];if(Lp(x.config,f))return x.ownedBy.push(e),x.atlas}let p=e._core,m={atlas:new nr(document,f,p.unicodeService),config:f,ownedBy:[e]};return Oi.push(m),m.atlas}function Ap(e){for(let t=0;t<Oi.length;t++){let r=Oi[t].ownedBy.indexOf(e);if(r!==-1){Oi[t].ownedBy.length===1?(Oi[t].atlas.dispose(),Oi.splice(t,1)):Oi[t].ownedBy.splice(r,1);break}}}var zo=600,kx=class{constructor(e,t){this._renderCallback=e,this._coreBrowserService=t,this.isCursorVisible=!0,this._coreBrowserService.isFocused&&this._restartInterval()}get isPaused(){return!(this._blinkStartTimeout||this._blinkInterval)}dispose(){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}restartBlinkAnimation(){this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})))}_restartInterval(e=zo){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=this._coreBrowserService.window.setTimeout(()=>{if(this._animationTimeRestarted){let t=zo-(Date.now()-this._animationTimeRestarted);if(this._animationTimeRestarted=void 0,t>0){this._restartInterval(t);return}}this.isCursorVisible=!1,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0}),this._blinkInterval=this._coreBrowserService.window.setInterval(()=>{if(this._animationTimeRestarted){let t=zo-(Date.now()-this._animationTimeRestarted);this._animationTimeRestarted=void 0,this._restartInterval(t);return}this.isCursorVisible=!this.isCursorVisible,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})},zo)},e)}pause(){this.isCursorVisible=!0,this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}resume(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()}};function Tp(e,t,r){let l=new t.ResizeObserver(o=>{let h=o.find(g=>g.target===e);if(!h)return;if(!("devicePixelContentBoxSize"in h)){l?.disconnect(),l=void 0;return}let u=h.devicePixelContentBoxSize[0].inlineSize,_=h.devicePixelContentBoxSize[0].blockSize;u>0&&_>0&&r(u,_)});try{l.observe(e,{box:["device-pixel-content-box"]})}catch{l.disconnect(),l=void 0}return Pt(()=>l?.disconnect())}function Lx(e){return e>65535?(e-=65536,String.fromCharCode((e>>10)+55296)+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)}var Rp=class x0 extends Bn{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new _0,this.combinedData=""}static fromCharData(t){let r=new x0;return r.setFromCharData(t),r}isCombined(){return this.content&2097152}getWidth(){return this.content>>22}getChars(){return this.content&2097152?this.combinedData:this.content&2097151?Lx(this.content&2097151):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):this.content&2097151}setFromCharData(t){this.fg=t[0],this.bg=0;let r=!1;if(t[1].length>2)r=!0;else if(t[1].length===2){let l=t[1].charCodeAt(0);if(55296<=l&&l<=56319){let o=t[1].charCodeAt(1);56320<=o&&o<=57343?this.content=(l-55296)*1024+o-56320+65536|t[2]<<22:r=!0}else r=!0}else this.content=t[1].charCodeAt(0)|t[2]<<22;r&&(this.combinedData=t[1],this.content=2097152|t[2]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}},w0=new Float32Array([2,0,0,0,0,-2,0,0,0,0,1,0,-1,1,0,1]);function C0(e,t,r){let l=dt(e.createProgram());if(e.attachShader(l,dt(Dp(e,e.VERTEX_SHADER,t))),e.attachShader(l,dt(Dp(e,e.FRAGMENT_SHADER,r))),e.linkProgram(l),e.getProgramParameter(l,e.LINK_STATUS))return l;console.error(e.getProgramInfoLog(l)),e.deleteProgram(l)}function Dp(e,t,r){let l=dt(e.createShader(t));if(e.shaderSource(l,r),e.compileShader(l),e.getShaderParameter(l,e.COMPILE_STATUS))return l;console.error(e.getShaderInfoLog(l)),e.deleteShader(l)}function Ax(e,t){let r=Math.min(e.length*2,t),l=new Float32Array(r);for(let o=0;o<e.length;o++)l[o]=e[o];return l}var Tx=class{constructor(t){this.texture=t,this.version=-1}},Rx=`#version 300 es
layout (location = 0) in vec2 a_unitquad;
layout (location = 1) in vec2 a_cellpos;
layout (location = 2) in vec2 a_offset;
layout (location = 3) in vec2 a_size;
layout (location = 4) in float a_texpage;
layout (location = 5) in vec2 a_texcoord;
layout (location = 6) in vec2 a_texsize;

uniform mat4 u_projection;
uniform vec2 u_resolution;

out vec2 v_texcoord;
flat out int v_texpage;

void main() {
  vec2 zeroToOne = (a_offset / u_resolution) + a_cellpos + (a_unitquad * a_size);
  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);
  v_texpage = int(a_texpage);
  v_texcoord = a_texcoord + a_unitquad * a_texsize;
}`;function Dx(e){let t="";for(let r=1;r<e;r++)t+=` else if (v_texpage == ${r}) { outColor = texture(u_texture[${r}], v_texcoord); }`;return`#version 300 es
precision lowp float;

in vec2 v_texcoord;
flat in int v_texpage;

uniform sampler2D u_texture[${e}];

out vec4 outColor;

void main() {
  if (v_texpage == 0) {
    outColor = texture(u_texture[0], v_texcoord);
  } ${t}
}`}var lr=11,kn=lr*Float32Array.BYTES_PER_ELEMENT,Bx=2,et=0,Ye,Nu=0,Wl=0,zx=class extends $i{constructor(t,r,l,o){super(),this._terminal=t,this._gl=r,this._dimensions=l,this._optionsService=o,this._activeBuffer=0,this._vertices={count:0,attributes:new Float32Array(0),attributesBuffers:[new Float32Array(0),new Float32Array(0)]};let h=this._gl;nr.maxAtlasPages===void 0&&(nr.maxAtlasPages=Math.min(32,dt(h.getParameter(h.MAX_TEXTURE_IMAGE_UNITS))),nr.maxTextureSize=dt(h.getParameter(h.MAX_TEXTURE_SIZE))),this._program=dt(C0(h,Rx,Dx(nr.maxAtlasPages))),this._register(Pt(()=>h.deleteProgram(this._program))),this._projectionLocation=dt(h.getUniformLocation(this._program,"u_projection")),this._resolutionLocation=dt(h.getUniformLocation(this._program,"u_resolution")),this._textureLocation=dt(h.getUniformLocation(this._program,"u_texture")),this._vertexArrayObject=h.createVertexArray(),h.bindVertexArray(this._vertexArrayObject);let u=new Float32Array([0,0,1,0,0,1,1,1]),_=h.createBuffer();this._register(Pt(()=>h.deleteBuffer(_))),h.bindBuffer(h.ARRAY_BUFFER,_),h.bufferData(h.ARRAY_BUFFER,u,h.STATIC_DRAW),h.enableVertexAttribArray(0),h.vertexAttribPointer(0,2,this._gl.FLOAT,!1,0,0);let g=new Uint8Array([0,1,2,3]),f=h.createBuffer();this._register(Pt(()=>h.deleteBuffer(f))),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,f),h.bufferData(h.ELEMENT_ARRAY_BUFFER,g,h.STATIC_DRAW),this._attributesBuffer=dt(h.createBuffer()),this._register(Pt(()=>h.deleteBuffer(this._attributesBuffer))),h.bindBuffer(h.ARRAY_BUFFER,this._attributesBuffer),h.enableVertexAttribArray(2),h.vertexAttribPointer(2,2,h.FLOAT,!1,kn,0),h.vertexAttribDivisor(2,1),h.enableVertexAttribArray(3),h.vertexAttribPointer(3,2,h.FLOAT,!1,kn,2*Float32Array.BYTES_PER_ELEMENT),h.vertexAttribDivisor(3,1),h.enableVertexAttribArray(4),h.vertexAttribPointer(4,1,h.FLOAT,!1,kn,4*Float32Array.BYTES_PER_ELEMENT),h.vertexAttribDivisor(4,1),h.enableVertexAttribArray(5),h.vertexAttribPointer(5,2,h.FLOAT,!1,kn,5*Float32Array.BYTES_PER_ELEMENT),h.vertexAttribDivisor(5,1),h.enableVertexAttribArray(6),h.vertexAttribPointer(6,2,h.FLOAT,!1,kn,7*Float32Array.BYTES_PER_ELEMENT),h.vertexAttribDivisor(6,1),h.enableVertexAttribArray(1),h.vertexAttribPointer(1,2,h.FLOAT,!1,kn,9*Float32Array.BYTES_PER_ELEMENT),h.vertexAttribDivisor(1,1),h.useProgram(this._program);let p=new Int32Array(nr.maxAtlasPages);for(let m=0;m<nr.maxAtlasPages;m++)p[m]=m;h.uniform1iv(this._textureLocation,p),h.uniformMatrix4fv(this._projectionLocation,!1,w0),this._atlasTextures=[];for(let m=0;m<nr.maxAtlasPages;m++){let b=new Tx(dt(h.createTexture()));this._register(Pt(()=>h.deleteTexture(b.texture))),h.activeTexture(h.TEXTURE0+m),h.bindTexture(h.TEXTURE_2D,b.texture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texImage2D(h.TEXTURE_2D,0,h.RGBA,1,1,0,h.RGBA,h.UNSIGNED_BYTE,new Uint8Array([255,0,0,255])),this._atlasTextures[m]=b}h.enable(h.BLEND),h.blendFunc(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA),this.handleResize()}beginFrame(){return this._atlas?this._atlas.beginFrame():!0}updateCell(t,r,l,o,h,u,_,g,f){this._updateCell(this._vertices.attributes,t,r,l,o,h,u,_,g,f)}_updateCell(t,r,l,o,h,u,_,g,f,p){if(et=(l*this._terminal.cols+r)*lr,o===0||o===void 0){t.fill(0,et,et+lr-1-Bx);return}this._atlas&&(g&&g.length>1?Ye=this._atlas.getRasterizedGlyphCombinedChar(g,h,u,_,!1,this._terminal.element):Ye=this._atlas.getRasterizedGlyph(o,h,u,_,!1,this._terminal.element),Nu=Math.floor((this._dimensions.device.cell.width-this._dimensions.device.char.width)/2),h!==p&&Ye.offset.x>Nu?(Wl=Ye.offset.x-Nu,t[et]=-(Ye.offset.x-Wl)+this._dimensions.device.char.left,t[et+1]=-Ye.offset.y+this._dimensions.device.char.top,t[et+2]=(Ye.size.x-Wl)/this._dimensions.device.canvas.width,t[et+3]=Ye.size.y/this._dimensions.device.canvas.height,t[et+4]=Ye.texturePage,t[et+5]=Ye.texturePositionClipSpace.x+Wl/this._atlas.pages[Ye.texturePage].canvas.width,t[et+6]=Ye.texturePositionClipSpace.y,t[et+7]=Ye.sizeClipSpace.x-Wl/this._atlas.pages[Ye.texturePage].canvas.width,t[et+8]=Ye.sizeClipSpace.y):(t[et]=-Ye.offset.x+this._dimensions.device.char.left,t[et+1]=-Ye.offset.y+this._dimensions.device.char.top,t[et+2]=Ye.size.x/this._dimensions.device.canvas.width,t[et+3]=Ye.size.y/this._dimensions.device.canvas.height,t[et+4]=Ye.texturePage,t[et+5]=Ye.texturePositionClipSpace.x,t[et+6]=Ye.texturePositionClipSpace.y,t[et+7]=Ye.sizeClipSpace.x,t[et+8]=Ye.sizeClipSpace.y),this._optionsService.rawOptions.rescaleOverlappingGlyphs&&Xb(o,f,Ye.size.x,this._dimensions.device.cell.width)&&(t[et+2]=(this._dimensions.device.cell.width-1)/this._dimensions.device.canvas.width))}clear(){let t=this._terminal,r=t.cols*t.rows*lr;this._vertices.count!==r?this._vertices.attributes=new Float32Array(r):this._vertices.attributes.fill(0);let l=0;for(;l<this._vertices.attributesBuffers.length;l++)this._vertices.count!==r?this._vertices.attributesBuffers[l]=new Float32Array(r):this._vertices.attributesBuffers[l].fill(0);this._vertices.count=r,l=0;for(let o=0;o<t.rows;o++)for(let h=0;h<t.cols;h++)this._vertices.attributes[l+9]=h/t.cols,this._vertices.attributes[l+10]=o/t.rows,l+=lr}handleResize(){let t=this._gl;t.useProgram(this._program),t.viewport(0,0,t.canvas.width,t.canvas.height),t.uniform2f(this._resolutionLocation,t.canvas.width,t.canvas.height),this.clear()}render(t){if(!this._atlas)return;let r=this._gl;r.useProgram(this._program),r.bindVertexArray(this._vertexArrayObject),this._activeBuffer=(this._activeBuffer+1)%2;let l=this._vertices.attributesBuffers[this._activeBuffer],o=0;for(let h=0;h<t.lineLengths.length;h++){let u=h*this._terminal.cols*lr,_=this._vertices.attributes.subarray(u,u+t.lineLengths[h]*lr);l.set(_,o),o+=_.length}r.bindBuffer(r.ARRAY_BUFFER,this._attributesBuffer),r.bufferData(r.ARRAY_BUFFER,l.subarray(0,o),r.STREAM_DRAW);for(let h=0;h<this._atlas.pages.length;h++)this._atlas.pages[h].version!==this._atlasTextures[h].version&&this._bindAtlasPageTexture(r,this._atlas,h);r.drawElementsInstanced(r.TRIANGLE_STRIP,4,r.UNSIGNED_BYTE,0,o/lr)}setAtlas(t){this._atlas=t;for(let r of this._atlasTextures)r.version=-1}_bindAtlasPageTexture(t,r,l){t.activeTexture(t.TEXTURE0+l),t.bindTexture(t.TEXTURE_2D,this._atlasTextures[l].texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r.pages[l].canvas),t.generateMipmap(t.TEXTURE_2D),this._atlasTextures[l].version=r.pages[l].version}setDimensions(t){this._dimensions=t}},Ox=class{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(t,r,l,o=!1){if(this.selectionStart=r,this.selectionEnd=l,!r||!l||r[0]===l[0]&&r[1]===l[1]){this.clear();return}let h=t.buffers.active.ydisp,u=r[1]-h,_=l[1]-h,g=Math.max(u,0),f=Math.min(_,t.rows-1);if(g>=t.rows||f<0){this.clear();return}this.hasSelection=!0,this.columnSelectMode=o,this.viewportStartRow=u,this.viewportEndRow=_,this.viewportCappedStartRow=g,this.viewportCappedEndRow=f,this.startCol=r[0],this.endCol=l[0]}isCellSelected(t,r,l){return this.hasSelection?(l-=t.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?r>=this.startCol&&l>=this.viewportCappedStartRow&&r<this.endCol&&l<=this.viewportCappedEndRow:r<this.startCol&&l>=this.viewportCappedStartRow&&r>=this.endCol&&l<=this.viewportCappedEndRow:l>this.viewportStartRow&&l<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&l===this.viewportStartRow&&r>=this.startCol&&r<this.endCol||this.viewportStartRow<this.viewportEndRow&&l===this.viewportEndRow&&r<this.endCol||this.viewportStartRow<this.viewportEndRow&&l===this.viewportStartRow&&r>=this.startCol):!1}};function Nx(){return new Ox}var eh=4,qo=1,Yo=2,Hu=3,Hx=2147483648,jx=class{constructor(){this.cells=new Uint32Array(0),this.lineLengths=new Uint32Array(0),this.selection=Nx()}resize(t,r){let l=t*r*eh;l!==this.cells.length&&(this.cells=new Uint32Array(l),this.lineLengths=new Uint32Array(r))}clear(){this.cells.fill(0,0),this.lineLengths.fill(0,0)}},Ux=`#version 300 es
layout (location = 0) in vec2 a_position;
layout (location = 1) in vec2 a_size;
layout (location = 2) in vec4 a_color;
layout (location = 3) in vec2 a_unitquad;

uniform mat4 u_projection;

out vec4 v_color;

void main() {
  vec2 zeroToOne = a_position + (a_unitquad * a_size);
  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);
  v_color = a_color;
}`,$x=`#version 300 es
precision lowp float;

in vec4 v_color;

out vec4 outColor;

void main() {
  outColor = v_color;
}`,Cs=8,ju=Cs*Float32Array.BYTES_PER_ELEMENT,Px=20*Cs,Bp=class{constructor(){this.attributes=new Float32Array(Px),this.count=0}},ys=0,zp=0,Op=0,Np=0,Hp=0,jp=0,Up=0,Fx=class extends $i{constructor(e,t,r,l){super(),this._terminal=e,this._gl=t,this._dimensions=r,this._themeService=l,this._vertices=new Bp,this._verticesCursor=new Bp;let o=this._gl;this._program=dt(C0(o,Ux,$x)),this._register(Pt(()=>o.deleteProgram(this._program))),this._projectionLocation=dt(o.getUniformLocation(this._program,"u_projection")),this._vertexArrayObject=o.createVertexArray(),o.bindVertexArray(this._vertexArrayObject);let h=new Float32Array([0,0,1,0,0,1,1,1]),u=o.createBuffer();this._register(Pt(()=>o.deleteBuffer(u))),o.bindBuffer(o.ARRAY_BUFFER,u),o.bufferData(o.ARRAY_BUFFER,h,o.STATIC_DRAW),o.enableVertexAttribArray(3),o.vertexAttribPointer(3,2,this._gl.FLOAT,!1,0,0);let _=new Uint8Array([0,1,2,3]),g=o.createBuffer();this._register(Pt(()=>o.deleteBuffer(g))),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,g),o.bufferData(o.ELEMENT_ARRAY_BUFFER,_,o.STATIC_DRAW),this._attributesBuffer=dt(o.createBuffer()),this._register(Pt(()=>o.deleteBuffer(this._attributesBuffer))),o.bindBuffer(o.ARRAY_BUFFER,this._attributesBuffer),o.enableVertexAttribArray(0),o.vertexAttribPointer(0,2,o.FLOAT,!1,ju,0),o.vertexAttribDivisor(0,1),o.enableVertexAttribArray(1),o.vertexAttribPointer(1,2,o.FLOAT,!1,ju,2*Float32Array.BYTES_PER_ELEMENT),o.vertexAttribDivisor(1,1),o.enableVertexAttribArray(2),o.vertexAttribPointer(2,4,o.FLOAT,!1,ju,4*Float32Array.BYTES_PER_ELEMENT),o.vertexAttribDivisor(2,1),this._updateCachedColors(l.colors),this._register(this._themeService.onChangeColors(f=>{this._updateCachedColors(f),this._updateViewportRectangle()}))}renderBackgrounds(){this._renderVertices(this._vertices)}renderCursor(){this._renderVertices(this._verticesCursor)}_renderVertices(e){let t=this._gl;t.useProgram(this._program),t.bindVertexArray(this._vertexArrayObject),t.uniformMatrix4fv(this._projectionLocation,!1,w0),t.bindBuffer(t.ARRAY_BUFFER,this._attributesBuffer),t.bufferData(t.ARRAY_BUFFER,e.attributes,t.DYNAMIC_DRAW),t.drawElementsInstanced(this._gl.TRIANGLE_STRIP,4,t.UNSIGNED_BYTE,0,e.count)}handleResize(){this._updateViewportRectangle()}setDimensions(e){this._dimensions=e}_updateCachedColors(e){this._bgFloat=this._colorToFloat32Array(e.background),this._cursorFloat=this._colorToFloat32Array(e.cursor)}_updateViewportRectangle(){this._addRectangleFloat(this._vertices.attributes,0,0,0,this._terminal.cols*this._dimensions.device.cell.width,this._terminal.rows*this._dimensions.device.cell.height,this._bgFloat)}updateBackgrounds(e){let t=this._terminal,r=this._vertices,l=1,o,h,u,_,g,f,p,m,b,x,E;for(o=0;o<t.rows;o++){for(u=-1,_=0,g=0,f=!1,h=0;h<t.cols;h++)p=(o*t.cols+h)*eh,m=e.cells[p+qo],b=e.cells[p+Yo],x=!!(b&67108864),(m!==_||b!==g&&(f||x))&&((_!==0||f&&g!==0)&&(E=l++*Cs,this._updateRectangle(r,E,g,_,u,h,o)),u=h,_=m,g=b,f=x);(_!==0||f&&g!==0)&&(E=l++*Cs,this._updateRectangle(r,E,g,_,u,t.cols,o))}r.count=l}updateCursor(e){let t=this._verticesCursor,r=e.cursor;if(!r||r.style==="block"){t.count=0;return}let l,o=0;(r.style==="bar"||r.style==="outline")&&(l=o++*Cs,this._addRectangleFloat(t.attributes,l,r.x*this._dimensions.device.cell.width,r.y*this._dimensions.device.cell.height,r.style==="bar"?r.dpr*r.cursorWidth:r.dpr,this._dimensions.device.cell.height,this._cursorFloat)),(r.style==="underline"||r.style==="outline")&&(l=o++*Cs,this._addRectangleFloat(t.attributes,l,r.x*this._dimensions.device.cell.width,(r.y+1)*this._dimensions.device.cell.height-r.dpr,r.width*this._dimensions.device.cell.width,r.dpr,this._cursorFloat)),r.style==="outline"&&(l=o++*Cs,this._addRectangleFloat(t.attributes,l,r.x*this._dimensions.device.cell.width,r.y*this._dimensions.device.cell.height,r.width*this._dimensions.device.cell.width,r.dpr,this._cursorFloat),l=o++*Cs,this._addRectangleFloat(t.attributes,l,(r.x+r.width)*this._dimensions.device.cell.width-r.dpr,r.y*this._dimensions.device.cell.height,r.dpr,this._dimensions.device.cell.height,this._cursorFloat)),t.count=o}_updateRectangle(e,t,r,l,o,h,u){if(r&67108864)switch(r&50331648){case 16777216:case 33554432:ys=this._themeService.colors.ansi[r&255].rgba;break;case 50331648:ys=(r&16777215)<<8;break;default:ys=this._themeService.colors.foreground.rgba}else switch(l&50331648){case 16777216:case 33554432:ys=this._themeService.colors.ansi[l&255].rgba;break;case 50331648:ys=(l&16777215)<<8;break;default:ys=this._themeService.colors.background.rgba}e.attributes.length<t+4&&(e.attributes=Ax(e.attributes,this._terminal.rows*this._terminal.cols*Cs)),zp=o*this._dimensions.device.cell.width,Op=u*this._dimensions.device.cell.height,Np=(ys>>24&255)/255,Hp=(ys>>16&255)/255,jp=(ys>>8&255)/255,Up=1,this._addRectangle(e.attributes,t,zp,Op,(h-o)*this._dimensions.device.cell.width,this._dimensions.device.cell.height,Np,Hp,jp,Up)}_addRectangle(e,t,r,l,o,h,u,_,g,f){e[t]=r/this._dimensions.device.canvas.width,e[t+1]=l/this._dimensions.device.canvas.height,e[t+2]=o/this._dimensions.device.canvas.width,e[t+3]=h/this._dimensions.device.canvas.height,e[t+4]=u,e[t+5]=_,e[t+6]=g,e[t+7]=f}_addRectangleFloat(e,t,r,l,o,h,u){e[t]=r/this._dimensions.device.canvas.width,e[t+1]=l/this._dimensions.device.canvas.height,e[t+2]=o/this._dimensions.device.canvas.width,e[t+3]=h/this._dimensions.device.canvas.height,e[t+4]=u[0],e[t+5]=u[1],e[t+6]=u[2],e[t+7]=u[3]}_colorToFloat32Array(e){return new Float32Array([(e.rgba>>24&255)/255,(e.rgba>>16&255)/255,(e.rgba>>8&255)/255,(e.rgba&255)/255])}},Wx=class extends $i{constructor(t,r,l,o,h,u,_,g){super(),this._container=r,this._alpha=h,this._coreBrowserService=u,this._optionsService=_,this._themeService=g,this._deviceCharWidth=0,this._deviceCharHeight=0,this._deviceCellWidth=0,this._deviceCellHeight=0,this._deviceCharLeft=0,this._deviceCharTop=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add(`xterm-${l}-layer`),this._canvas.style.zIndex=o.toString(),this._initCanvas(),this._container.appendChild(this._canvas),this._register(this._themeService.onChangeColors(f=>{this._refreshCharAtlas(t,f),this.reset(t)})),this._register(Pt(()=>{this._canvas.remove()}))}_initCanvas(){this._ctx=dt(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()}handleBlur(t){}handleFocus(t){}handleCursorMove(t){}handleGridChanged(t,r,l){}handleSelectionChanged(t,r,l,o=!1){}_setTransparency(t,r){if(r===this._alpha)return;let l=this._canvas;this._alpha=r,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,l),this._refreshCharAtlas(t,this._themeService.colors),this.handleGridChanged(t,0,t.rows-1)}_refreshCharAtlas(t,r){this._deviceCharWidth<=0&&this._deviceCharHeight<=0||(this._charAtlas=b0(t,this._optionsService.rawOptions,r,this._deviceCellWidth,this._deviceCellHeight,this._deviceCharWidth,this._deviceCharHeight,this._coreBrowserService.dpr,2048),this._charAtlas.warmUp())}resize(t,r){this._deviceCellWidth=r.device.cell.width,this._deviceCellHeight=r.device.cell.height,this._deviceCharWidth=r.device.char.width,this._deviceCharHeight=r.device.char.height,this._deviceCharLeft=r.device.char.left,this._deviceCharTop=r.device.char.top,this._canvas.width=r.device.canvas.width,this._canvas.height=r.device.canvas.height,this._canvas.style.width=`${r.css.canvas.width}px`,this._canvas.style.height=`${r.css.canvas.height}px`,this._alpha||this._clearAll(),this._refreshCharAtlas(t,this._themeService.colors)}_fillBottomLineAtCells(t,r,l=1){this._ctx.fillRect(t*this._deviceCellWidth,(r+1)*this._deviceCellHeight-this._coreBrowserService.dpr-1,l*this._deviceCellWidth,this._coreBrowserService.dpr)}_clearAll(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))}_clearCells(t,r,l,o){this._alpha?this._ctx.clearRect(t*this._deviceCellWidth,r*this._deviceCellHeight,l*this._deviceCellWidth,o*this._deviceCellHeight):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(t*this._deviceCellWidth,r*this._deviceCellHeight,l*this._deviceCellWidth,o*this._deviceCellHeight))}_fillCharTrueColor(t,r,l,o){this._ctx.font=this._getFont(t,!1,!1),this._ctx.textBaseline=h0,this._clipCell(l,o,r.getWidth()),this._ctx.fillText(r.getChars(),l*this._deviceCellWidth+this._deviceCharLeft,o*this._deviceCellHeight+this._deviceCharTop+this._deviceCharHeight)}_clipCell(t,r,l){this._ctx.beginPath(),this._ctx.rect(t*this._deviceCellWidth,r*this._deviceCellHeight,l*this._deviceCellWidth,this._deviceCellHeight),this._ctx.clip()}_getFont(t,r,l){let o=r?t.options.fontWeightBold:t.options.fontWeight;return`${l?"italic":""} ${o} ${t.options.fontSize*this._coreBrowserService.dpr}px ${t.options.fontFamily}`}},qx=class extends Wx{constructor(t,r,l,o,h,u,_){super(l,t,"link",r,!0,h,u,_),this._register(o.onShowLinkUnderline(g=>this._handleShowLinkUnderline(g))),this._register(o.onHideLinkUnderline(g=>this._handleHideLinkUnderline(g)))}resize(t,r){super.resize(t,r),this._state=void 0}reset(t){this._clearCurrentLink()}_clearCurrentLink(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);let t=this._state.y2-this._state.y1-1;t>0&&this._clearCells(0,this._state.y1+1,this._state.cols,t),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}}_handleShowLinkUnderline(t){if(t.fg===257?this._ctx.fillStyle=this._themeService.colors.background.css:t.fg!==void 0&&Mx(t.fg)?this._ctx.fillStyle=this._themeService.colors.ansi[t.fg].css:this._ctx.fillStyle=this._themeService.colors.foreground.css,t.y1===t.y2)this._fillBottomLineAtCells(t.x1,t.y1,t.x2-t.x1);else{this._fillBottomLineAtCells(t.x1,t.y1,t.cols-t.x1);for(let r=t.y1+1;r<t.y2;r++)this._fillBottomLineAtCells(0,r,t.cols);this._fillBottomLineAtCells(0,t.y2,t.x2)}this._state=t}_handleHideLinkUnderline(t){this._clearCurrentLink()}},Br=typeof window=="object"?window:globalThis,ld=class{constructor(){this.mapWindowIdToZoomLevel=new Map,this._onDidChangeZoomLevel=new Ke,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this.mapWindowIdToZoomFactor=new Map,this._onDidChangeFullscreen=new Ke,this.onDidChangeFullscreen=this._onDidChangeFullscreen.event,this.mapWindowIdToFullScreen=new Map}getZoomLevel(t){return this.mapWindowIdToZoomLevel.get(this.getWindowId(t))??0}setZoomLevel(t,r){if(this.getZoomLevel(r)===t)return;let l=this.getWindowId(r);this.mapWindowIdToZoomLevel.set(l,t),this._onDidChangeZoomLevel.fire(l)}getZoomFactor(t){return this.mapWindowIdToZoomFactor.get(this.getWindowId(t))??1}setZoomFactor(t,r){this.mapWindowIdToZoomFactor.set(this.getWindowId(r),t)}setFullscreen(t,r){if(this.isFullscreen(r)===t)return;let l=this.getWindowId(r);this.mapWindowIdToFullScreen.set(l,t),this._onDidChangeFullscreen.fire(l)}isFullscreen(t){return!!this.mapWindowIdToFullScreen.get(this.getWindowId(t))}getWindowId(t){return t.vscodeWindowId}};ld.INSTANCE=new ld;var E0=ld;function Yx(e,t,r){typeof t=="string"&&(t=e.matchMedia(t)),t.addEventListener("change",r)}E0.INSTANCE.onDidChangeZoomLevel;E0.INSTANCE.onDidChangeFullscreen;var jn=typeof navigator=="object"?navigator.userAgent:"";jn.indexOf("Firefox")>=0;jn.indexOf("AppleWebKit")>=0;var Ix=jn.indexOf("Chrome")>=0;!Ix&&jn.indexOf("Safari")>=0;jn.indexOf("Electron/")>=0;jn.indexOf("Android")>=0;var Uu=!1;if(typeof Br.matchMedia=="function"){let e=Br.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),t=Br.matchMedia("(display-mode: fullscreen)");Uu=e.matches,Yx(Br,e,({matches:r})=>{Uu&&t.matches||(Uu=r)})}var zn="en",$u=!1,M0=!1,Oo,Io=zn,$p=zn,Kx,xs,Nr=globalThis,mi;typeof Nr.vscode<"u"&&typeof Nr.vscode.process<"u"?mi=Nr.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(mi=process);var Gx=typeof mi?.versions?.electron=="string",Vx=Gx&&mi?.type==="renderer";if(typeof mi=="object"){mi.platform,mi.platform,$u=mi.platform==="linux",$u&&mi.env.SNAP&&mi.env.SNAP_REVISION,mi.env.CI||mi.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Oo=zn,Io=zn;let e=mi.env.VSCODE_NLS_CONFIG;if(e)try{let t=JSON.parse(e);Oo=t.userLocale,$p=t.osLocale,Io=t.resolvedLanguage||zn,Kx=t.languagePack?.translationsConfigFile}catch{}M0=!0}else typeof navigator=="object"&&!Vx?(xs=navigator.userAgent,xs.indexOf("Windows")>=0,xs.indexOf("Macintosh")>=0,(xs.indexOf("Macintosh")>=0||xs.indexOf("iPad")>=0||xs.indexOf("iPhone")>=0)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0,$u=xs.indexOf("Linux")>=0,xs?.indexOf("Mobi")>=0,Io=globalThis._VSCODE_NLS_LANGUAGE||zn,Oo=navigator.language.toLowerCase(),$p=Oo):console.error("Unable to resolve platform.");var Pp=M0,Zi=xs,tr=Io,Xx;(e=>{function t(){return tr}e.value=t;function r(){return tr.length===2?tr==="en":tr.length>=3?tr[0]==="e"&&tr[1]==="n"&&tr[2]==="-":!1}e.isDefaultVariant=r;function l(){return tr==="en"}e.isDefault=l})(Xx||={});var Zx=typeof Nr.postMessage=="function"&&!Nr.importScripts;(()=>{if(Zx){let e=[];Nr.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let l=0,o=e.length;l<o;l++){let h=e[l];if(h.id===r.data.vscodeScheduleAsyncWork){e.splice(l,1),h.callback();return}}});let t=0;return r=>{let l=++t;e.push({id:l,callback:r}),Nr.postMessage({vscodeScheduleAsyncWork:l},"*")}}return e=>setTimeout(e)})();var Qx=!!(Zi&&Zi.indexOf("Chrome")>=0);Zi&&Zi.indexOf("Firefox")>=0;!Qx&&Zi&&Zi.indexOf("Safari")>=0;Zi&&Zi.indexOf("Edg/")>=0;Zi&&Zi.indexOf("Android")>=0;var Ln=typeof navigator=="object"?navigator:{};Pp||document.queryCommandSupported&&document.queryCommandSupported("copy")||Ln&&Ln.clipboard&&Ln.clipboard.writeText,Pp||Ln&&Ln.clipboard&&Ln.clipboard.readText;var Xd=class{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}},Pu=new Xd,Fp=new Xd,Wp=new Xd;new Array(230);var Jx;(e=>{function t(_){return Pu.keyCodeToStr(_)}e.toString=t;function r(_){return Pu.strToKeyCode(_)}e.fromString=r;function l(_){return Fp.keyCodeToStr(_)}e.toUserSettingsUS=l;function o(_){return Wp.keyCodeToStr(_)}e.toUserSettingsGeneral=o;function h(_){return Fp.strToKeyCode(_)||Wp.strToKeyCode(_)}e.fromUserSettings=h;function u(_){if(_>=98&&_<=113)return null;switch(_){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return Pu.keyCodeToStr(_)}e.toElectronAccelerator=u})(Jx||={});var k0=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),ew;(e=>{function t(r){return r===e.None||r===e.Cancelled||r instanceof tw?!0:!r||typeof r!="object"?!1:typeof r.isCancellationRequested=="boolean"&&typeof r.onCancellationRequested=="function"}e.isCancellationToken=t,e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Es.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:k0})})(ew||={});var tw=class{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?k0:(this._emitter||(this._emitter=new Ke),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},iw;(e=>{async function t(l){let o,h=await Promise.all(l.map(u=>u.then(_=>_,_=>{o||(o=_)})));if(typeof o<"u")throw o;return h}e.settled=t;function r(l){return new Promise(async(o,h)=>{try{await l(o,h)}catch(u){h(u)}})}e.withAsyncBody=r})(iw||={});var qp=class Di{static fromArray(t){return new Di(r=>{r.emitMany(t)})}static fromPromise(t){return new Di(async r=>{r.emitMany(await t)})}static fromPromises(t){return new Di(async r=>{await Promise.all(t.map(async l=>r.emitOne(await l)))})}static merge(t){return new Di(async r=>{await Promise.all(t.map(async l=>{for await(let o of l)r.emitOne(o)}))})}constructor(t,r){this._state=0,this._results=[],this._error=null,this._onReturn=r,this._onStateChanged=new Ke,queueMicrotask(async()=>{let l={emitOne:o=>this.emitOne(o),emitMany:o=>this.emitMany(o),reject:o=>this.reject(o)};try{await Promise.resolve(t(l)),this.resolve()}catch(o){this.reject(o)}finally{l.emitOne=void 0,l.emitMany=void 0,l.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(t<this._results.length)return{done:!1,value:this._results[t++]};if(this._state===1)return{done:!0,value:void 0};await Es.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>(this._onReturn?.(),{done:!0,value:void 0})}}static map(t,r){return new Di(async l=>{for await(let o of t)l.emitOne(r(o))})}map(t){return Di.map(this,t)}static filter(t,r){return new Di(async l=>{for await(let o of t)r(o)&&l.emitOne(o)})}filter(t){return Di.filter(this,t)}static coalesce(t){return Di.filter(t,r=>!!r)}coalesce(){return Di.coalesce(this)}static async toPromise(t){let r=[];for await(let l of t)r.push(l);return r}toPromise(){return Di.toPromise(this)}emitOne(t){this._state===0&&(this._results.push(t),this._onStateChanged.fire())}emitMany(t){this._state===0&&(this._results=this._results.concat(t),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(t){this._state===0&&(this._state=2,this._error=t,this._onStateChanged.fire())}};qp.EMPTY=qp.fromArray([]);var{getWindow:sw}=(function(){let e=new Map,t={window:Br,disposables:new Nn};e.set(Br.vscodeWindowId,t);let r=new Ke,l=new Ke,o=new Ke;function h(u,_){return(typeof u=="number"?e.get(u):void 0)??(_?t:void 0)}return{onDidRegisterWindow:r.event,onWillUnregisterWindow:o.event,onDidUnregisterWindow:l.event,registerWindow(u){if(e.has(u.vscodeWindowId))return $i.None;let _=new Nn,g={window:u,disposables:_.add(new Nn)};return e.set(u.vscodeWindowId,g),_.add(Pt(()=>{e.delete(u.vscodeWindowId),l.fire(u)})),_.add(ad(u,nw.BEFORE_UNLOAD,()=>{o.fire(u)})),r.fire(g),_},getWindows(){return e.values()},getWindowsCount(){return e.size},getWindowId(u){return u.vscodeWindowId},hasWindow(u){return e.has(u)},getWindowById:h,getWindow(u){let _=u;if(_?.ownerDocument?.defaultView)return _.ownerDocument.defaultView.window;let g=u;return g?.view?g.view.window:Br},getDocument(u){return sw(u).document}}})(),rw=class{constructor(t,r,l,o){this._node=t,this._type=r,this._handler=l,this._options=o||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}};function ad(e,t,r,l){return new rw(e,t,r,l)}var nw={BEFORE_UNLOAD:"beforeunload"},lw=class extends $i{constructor(t,r,l,o,h,u,_,g,f){super(),this._terminal=t,this._characterJoinerService=r,this._charSizeService=l,this._coreBrowserService=o,this._coreService=h,this._decorationService=u,this._optionsService=_,this._themeService=g,this._cursorBlinkStateManager=new $l,this._charAtlasDisposable=this._register(new $l),this._observerDisposable=this._register(new $l),this._model=new jx,this._workCell=new Rp,this._workCell2=new Rp,this._rectangleRenderer=this._register(new $l),this._glyphRenderer=this._register(new $l),this._onChangeTextureAtlas=this._register(new Ke),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this._register(new Ke),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this._register(new Ke),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onRequestRedraw=this._register(new Ke),this.onRequestRedraw=this._onRequestRedraw.event,this._onContextLoss=this._register(new Ke),this.onContextLoss=this._onContextLoss.event,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas");let p={antialias:!1,depth:!1,preserveDrawingBuffer:f};if(this._gl=this._canvas.getContext("webgl2",p),!this._gl)throw new Error("WebGL2 not supported "+this._gl);this._register(this._themeService.onChangeColors(()=>this._handleColorChange())),this._cellColorResolver=new Jb(this._terminal,this._optionsService,this._model.selection,this._decorationService,this._coreBrowserService,this._themeService),this._core=this._terminal._core,this._renderLayers=[new qx(this._core.screenElement,2,this._terminal,this._core.linkifier,this._coreBrowserService,_,this._themeService)],this.dimensions=Zb(),this._devicePixelRatio=this._coreBrowserService.dpr,this._updateDimensions(),this._updateCursorBlink(),this._register(_.onOptionChange(()=>this._handleOptionsChanged())),this._deviceMaxTextureSize=this._gl.getParameter(this._gl.MAX_TEXTURE_SIZE),this._register(ad(this._canvas,"webglcontextlost",m=>{console.log("webglcontextlost event received"),m.preventDefault(),this._contextRestorationTimeout=setTimeout(()=>{this._contextRestorationTimeout=void 0,console.warn("webgl context not restored; firing onContextLoss"),this._onContextLoss.fire(m)},3e3)})),this._register(ad(this._canvas,"webglcontextrestored",m=>{console.warn("webglcontextrestored event received"),clearTimeout(this._contextRestorationTimeout),this._contextRestorationTimeout=void 0,Ap(this._terminal),this._initializeWebGLState(),this._requestRedrawViewport()})),this._observerDisposable.value=Tp(this._canvas,this._coreBrowserService.window,(m,b)=>this._setCanvasDevicePixelDimensions(m,b)),this._register(this._coreBrowserService.onWindowChange(m=>{this._observerDisposable.value=Tp(this._canvas,m,(b,x)=>this._setCanvasDevicePixelDimensions(b,x))})),this._core.screenElement.appendChild(this._canvas),[this._rectangleRenderer.value,this._glyphRenderer.value]=this._initializeWebGLState(),this._isAttached=this._core.screenElement.isConnected,this._register(Pt(()=>{for(let m of this._renderLayers)m.dispose();this._canvas.parentElement?.removeChild(this._canvas),Ap(this._terminal)}))}get textureAtlas(){return this._charAtlas?.pages[0].canvas}_handleColorChange(){this._refreshCharAtlas(),this._clearModel(!0)}handleDevicePixelRatioChange(){this._devicePixelRatio!==this._coreBrowserService.dpr&&(this._devicePixelRatio=this._coreBrowserService.dpr,this.handleResize(this._terminal.cols,this._terminal.rows))}handleResize(t,r){this._updateDimensions(),this._model.resize(this._terminal.cols,this._terminal.rows);for(let l of this._renderLayers)l.resize(this._terminal,this.dimensions);this._canvas.width=this.dimensions.device.canvas.width,this._canvas.height=this.dimensions.device.canvas.height,this._canvas.style.width=`${this.dimensions.css.canvas.width}px`,this._canvas.style.height=`${this.dimensions.css.canvas.height}px`,this._core.screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._core.screenElement.style.height=`${this.dimensions.css.canvas.height}px`,this._rectangleRenderer.value?.setDimensions(this.dimensions),this._rectangleRenderer.value?.handleResize(),this._glyphRenderer.value?.setDimensions(this.dimensions),this._glyphRenderer.value?.handleResize(),this._refreshCharAtlas(),this._clearModel(!1)}handleCharSizeChanged(){this.handleResize(this._terminal.cols,this._terminal.rows)}handleBlur(){for(let t of this._renderLayers)t.handleBlur(this._terminal);this._cursorBlinkStateManager.value?.pause(),this._requestRedrawViewport()}handleFocus(){for(let t of this._renderLayers)t.handleFocus(this._terminal);this._cursorBlinkStateManager.value?.resume(),this._requestRedrawViewport()}handleSelectionChanged(t,r,l){for(let o of this._renderLayers)o.handleSelectionChanged(this._terminal,t,r,l);this._model.selection.update(this._core,t,r,l),this._requestRedrawViewport()}handleCursorMove(){for(let t of this._renderLayers)t.handleCursorMove(this._terminal);this._cursorBlinkStateManager.value?.restartBlinkAnimation()}_handleOptionsChanged(){this._updateDimensions(),this._refreshCharAtlas(),this._updateCursorBlink()}_initializeWebGLState(){return this._rectangleRenderer.value=new Fx(this._terminal,this._gl,this.dimensions,this._themeService),this._glyphRenderer.value=new zx(this._terminal,this._gl,this.dimensions,this._optionsService),this.handleCharSizeChanged(),[this._rectangleRenderer.value,this._glyphRenderer.value]}_refreshCharAtlas(){if(this.dimensions.device.char.width<=0&&this.dimensions.device.char.height<=0){this._isAttached=!1;return}let t=b0(this._terminal,this._optionsService.rawOptions,this._themeService.colors,this.dimensions.device.cell.width,this.dimensions.device.cell.height,this.dimensions.device.char.width,this.dimensions.device.char.height,this._coreBrowserService.dpr,this._deviceMaxTextureSize);this._charAtlas!==t&&(this._onChangeTextureAtlas.fire(t.pages[0].canvas),this._charAtlasDisposable.value=r0(Es.forward(t.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas),Es.forward(t.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas))),this._charAtlas=t,this._charAtlas.warmUp(),this._glyphRenderer.value?.setAtlas(this._charAtlas)}_clearModel(t){this._model.clear(),t&&this._glyphRenderer.value?.clear()}clearTextureAtlas(){this._charAtlas?.clearTexture(),this._clearModel(!0),this._requestRedrawViewport()}clear(){this._clearModel(!0);for(let t of this._renderLayers)t.reset(this._terminal);this._cursorBlinkStateManager.value?.restartBlinkAnimation(),this._updateCursorBlink()}renderRows(t,r){if(!this._isAttached)if(this._core.screenElement?.isConnected&&this._charSizeService.width&&this._charSizeService.height)this._updateDimensions(),this._refreshCharAtlas(),this._isAttached=!0;else return;for(let l of this._renderLayers)l.handleGridChanged(this._terminal,t,r);!this._glyphRenderer.value||!this._rectangleRenderer.value||(this._glyphRenderer.value.beginFrame()?(this._clearModel(!0),this._updateModel(0,this._terminal.rows-1)):this._updateModel(t,r),this._rectangleRenderer.value.renderBackgrounds(),this._glyphRenderer.value.render(this._model),(!this._cursorBlinkStateManager.value||this._cursorBlinkStateManager.value.isCursorVisible)&&this._rectangleRenderer.value.renderCursor())}_updateCursorBlink(){this._coreService.decPrivateModes.cursorBlink??this._terminal.options.cursorBlink?this._cursorBlinkStateManager.value=new kx(()=>{this._requestRedrawCursor()},this._coreBrowserService):this._cursorBlinkStateManager.clear(),this._requestRedrawCursor()}_updateModel(t,r){let l=this._core,o=this._workCell,h,u,_,g,f,p,m=0,b=!0,x,E,D,K,W,ee,V,z,Q;t=Yp(t,l.rows-1,0),r=Yp(r,l.rows-1,0);let te=this._coreService.decPrivateModes.cursorStyle??l.options.cursorStyle??"block",ie=this._terminal.buffer.active.baseY+this._terminal.buffer.active.cursorY,le=ie-l.buffer.ydisp,fe=Math.min(this._terminal.buffer.active.cursorX,l.cols-1),Le=-1,ae=this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden&&(!this._cursorBlinkStateManager.value||this._cursorBlinkStateManager.value.isCursorVisible);this._model.cursor=void 0;let A=!1;for(u=t;u<=r;u++)for(_=u+l.buffer.ydisp,g=l.buffer.lines.get(_),this._model.lineLengths[u]=0,D=ie===_,m=0,f=this._characterJoinerService.getJoinedCharacters(_),z=0;z<l.cols;z++){if(h=this._cellColorResolver.result.bg,g.loadCell(z,o),z===0&&(h=this._cellColorResolver.result.bg),p=!1,b=z>=m,x=z,f.length>0&&z===f[0][0]&&b){E=f.shift();let T=this._model.selection.isCellSelected(this._terminal,E[0],_);for(V=E[0]+1;V<E[1];V++)b&&=T===this._model.selection.isCellSelected(this._terminal,V,_);b&&=!D||fe<E[0]||fe>=E[1],b?(p=!0,o=new aw(o,g.translateToString(!0,E[0],E[1]),E[1]-E[0]),x=E[1]-1):m=E[1]}if(K=o.getChars(),W=o.getCode(),V=(u*l.cols+z)*eh,this._cellColorResolver.resolve(o,z,_,this.dimensions.device.cell.width),ae&&_===ie&&(z===fe&&(this._model.cursor={x:fe,y:le,width:o.getWidth(),style:this._coreBrowserService.isFocused?te:l.options.cursorInactiveStyle,cursorWidth:l.options.cursorWidth,dpr:this._devicePixelRatio},Le=fe+o.getWidth()-1),z>=fe&&z<=Le&&(this._coreBrowserService.isFocused&&te==="block"||this._coreBrowserService.isFocused===!1&&l.options.cursorInactiveStyle==="block")&&(this._cellColorResolver.result.fg=50331648|this._themeService.colors.cursorAccent.rgba>>8&16777215,this._cellColorResolver.result.bg=50331648|this._themeService.colors.cursor.rgba>>8&16777215)),W!==0&&(this._model.lineLengths[u]=z+1),!(this._model.cells[V]===W&&this._model.cells[V+qo]===this._cellColorResolver.result.bg&&this._model.cells[V+Yo]===this._cellColorResolver.result.fg&&this._model.cells[V+Hu]===this._cellColorResolver.result.ext)&&(A=!0,K.length>1&&(W|=Hx),this._model.cells[V]=W,this._model.cells[V+qo]=this._cellColorResolver.result.bg,this._model.cells[V+Yo]=this._cellColorResolver.result.fg,this._model.cells[V+Hu]=this._cellColorResolver.result.ext,ee=o.getWidth(),this._glyphRenderer.value.updateCell(z,u,W,this._cellColorResolver.result.bg,this._cellColorResolver.result.fg,this._cellColorResolver.result.ext,K,ee,h),p)){for(o=this._workCell,z++;z<=x;z++)Q=(u*l.cols+z)*eh,this._glyphRenderer.value.updateCell(z,u,0,0,0,0,qb,0,0),this._model.cells[Q]=0,this._model.cells[Q+qo]=this._cellColorResolver.result.bg,this._model.cells[Q+Yo]=this._cellColorResolver.result.fg,this._model.cells[Q+Hu]=this._cellColorResolver.result.ext;z--}}A&&this._rectangleRenderer.value.updateBackgrounds(this._model),this._rectangleRenderer.value.updateCursor(this._model)}_updateDimensions(){!this._charSizeService.width||!this._charSizeService.height||(this.dimensions.device.char.width=Math.floor(this._charSizeService.width*this._devicePixelRatio),this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*this._devicePixelRatio),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.top=this._optionsService.rawOptions.lineHeight===1?0:Math.round((this.dimensions.device.cell.height-this.dimensions.device.char.height)/2),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.char.left=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.device.canvas.height=this._terminal.rows*this.dimensions.device.cell.height,this.dimensions.device.canvas.width=this._terminal.cols*this.dimensions.device.cell.width,this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/this._devicePixelRatio),this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/this._devicePixelRatio),this.dimensions.css.cell.height=this.dimensions.device.cell.height/this._devicePixelRatio,this.dimensions.css.cell.width=this.dimensions.device.cell.width/this._devicePixelRatio)}_setCanvasDevicePixelDimensions(t,r){this._canvas.width===t&&this._canvas.height===r||(this._canvas.width=t,this._canvas.height=r,this._requestRedrawViewport())}_requestRedrawViewport(){this._onRequestRedraw.fire({start:0,end:this._terminal.rows-1})}_requestRedrawCursor(){let t=this._terminal.buffer.active.cursorY;this._onRequestRedraw.fire({start:t,end:t})}},aw=class extends Bn{constructor(t,r,l){super(),this.content=0,this.combinedData="",this.fg=t.fg,this.bg=t.bg,this.combinedData=r,this._width=l}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(t){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}};function Yp(e,t,r=0){return Math.max(Math.min(e,t),r)}var Ip="di$target",Kp="di$dependencies",Fu=new Map;function Ji(e){if(Fu.has(e))return Fu.get(e);let t=function(r,l,o){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");ow(t,r,o)};return t._id=e,Fu.set(e,t),t}function ow(e,t,r){t[Ip]===t?t[Kp].push({id:e,index:r}):(t[Kp]=[{id:e,index:r}],t[Ip]=t)}Ji("BufferService");Ji("CoreMouseService");Ji("CoreService");Ji("CharsetService");Ji("InstantiationService");Ji("LogService");var hw=Ji("OptionsService");Ji("OscLinkService");Ji("UnicodeService");Ji("DecorationService");var cw={trace:0,debug:1,info:2,warn:3,error:4,off:5},uw="xterm.js: ",Gp=class extends $i{constructor(t){super(),this._optionsService=t,this._logLevel=5,this._updateLogLevel(),this._register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}get logLevel(){return this._logLevel}_updateLogLevel(){this._logLevel=cw[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(t){for(let r=0;r<t.length;r++)typeof t[r]=="function"&&(t[r]=t[r]())}_log(t,r,l){this._evalLazyOptionalParams(l),t.call(console,(this._optionsService.options.logger?"":uw)+r,...l)}trace(t,...r){this._logLevel<=0&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,t,r)}debug(t,...r){this._logLevel<=1&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,t,r)}info(t,...r){this._logLevel<=2&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,t,r)}warn(t,...r){this._logLevel<=3&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,t,r)}error(t,...r){this._logLevel<=4&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,t,r)}};Gp=Db([Bb(0,hw)],Gp);var L0=class extends $i{constructor(t){if(a0&&Wb()<16){let r={antialias:!1,depth:!1,preserveDrawingBuffer:!0};if(!document.createElement("canvas").getContext("webgl2",r))throw new Error("Webgl2 is only supported on Safari 16 and above")}super(),this._preserveDrawingBuffer=t,this._onChangeTextureAtlas=this._register(new Ke),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this._register(new Ke),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this._register(new Ke),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onContextLoss=this._register(new Ke),this.onContextLoss=this._onContextLoss.event}activate(t){let r=t._core;if(!t.element){this._register(r.onWillOpen(()=>this.activate(t)));return}this._terminal=t;let l=r.coreService,o=r.optionsService,h=r,u=h._renderService,_=h._characterJoinerService,g=h._charSizeService,f=h._coreBrowserService,p=h._decorationService;h._logService;let m=h._themeService;this._renderer=this._register(new lw(t,_,g,f,l,p,o,m,this._preserveDrawingBuffer)),this._register(Es.forward(this._renderer.onContextLoss,this._onContextLoss)),this._register(Es.forward(this._renderer.onChangeTextureAtlas,this._onChangeTextureAtlas)),this._register(Es.forward(this._renderer.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas)),this._register(Es.forward(this._renderer.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)),u.setRenderer(this._renderer),this._register(Pt(()=>{if(this._terminal._core._store._isDisposed)return;let b=this._terminal._core._renderService;b.setRenderer(this._terminal._core._createRenderer()),b.handleResize(t.cols,t.rows)}))}get textureAtlas(){return this._renderer?.textureAtlas}clearTextureAtlas(){this._renderer?.clearTextureAtlas()}};var A0=Object.defineProperty,dw=Object.getOwnPropertyDescriptor,fw=(e,t)=>{for(var r in t)A0(e,r,{get:t[r],enumerable:!0})},st=(e,t,r,l)=>{for(var o=l>1?void 0:l?dw(t,r):t,h=e.length-1,u;h>=0;h--)(u=e[h])&&(o=(l?u(t,r,o):u(o))||o);return l&&o&&A0(t,r,o),o},he=(e,t)=>(r,l)=>t(r,l,e),Vp="Terminal input",od={get:()=>Vp,set:e=>Vp=e},Xp="Too much output to announce, navigate to rows manually to read",hd={get:()=>Xp,set:e=>Xp=e};function _w(e){return e.replace(/\r?\n/g,"\r")}function gw(e,t){return t?"\x1B[200~"+e+"\x1B[201~":e}function vw(e,t){e.clipboardData&&e.clipboardData.setData("text/plain",t.selectionText),e.preventDefault()}function pw(e,t,r,l){if(e.stopPropagation(),e.clipboardData){let o=e.clipboardData.getData("text/plain");T0(o,t,r,l)}}function T0(e,t,r,l){e=_w(e),e=gw(e,r.decPrivateModes.bracketedPasteMode&&l.rawOptions.ignoreBracketedPasteMode!==!0),r.triggerDataEvent(e,!0),t.value=""}function R0(e,t,r){let l=r.getBoundingClientRect(),o=e.clientX-l.left-10,h=e.clientY-l.top-10;t.style.width="20px",t.style.height="20px",t.style.left=`${o}px`,t.style.top=`${h}px`,t.style.zIndex="1000",t.focus()}function Zp(e,t,r,l,o){R0(e,t,r),o&&l.rightClickSelect(e),t.value=l.selectionText,t.select()}function ar(e){return e>65535?(e-=65536,String.fromCharCode((e>>10)+55296)+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)}function oh(e,t=0,r=e.length){let l="";for(let o=t;o<r;++o){let h=e[o];h>65535?(h-=65536,l+=String.fromCharCode((h>>10)+55296)+String.fromCharCode(h%1024+56320)):l+=String.fromCharCode(h)}return l}var mw=class{constructor(){this._interim=0}clear(){this._interim=0}decode(e,t){let r=e.length;if(!r)return 0;let l=0,o=0;if(this._interim){let h=e.charCodeAt(o++);56320<=h&&h<=57343?t[l++]=(this._interim-55296)*1024+h-56320+65536:(t[l++]=this._interim,t[l++]=h),this._interim=0}for(let h=o;h<r;++h){let u=e.charCodeAt(h);if(55296<=u&&u<=56319){if(++h>=r)return this._interim=u,l;let _=e.charCodeAt(h);56320<=_&&_<=57343?t[l++]=(u-55296)*1024+_-56320+65536:(t[l++]=u,t[l++]=_);continue}u!==65279&&(t[l++]=u)}return l}},Sw=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(e,t){let r=e.length;if(!r)return 0;let l=0,o,h,u,_,g=0,f=0;if(this.interim[0]){let b=!1,x=this.interim[0];x&=(x&224)===192?31:(x&240)===224?15:7;let E=0,D;for(;(D=this.interim[++E]&63)&&E<4;)x<<=6,x|=D;let K=(this.interim[0]&224)===192?2:(this.interim[0]&240)===224?3:4,W=K-E;for(;f<W;){if(f>=r)return 0;if(D=e[f++],(D&192)!==128){f--,b=!0;break}else this.interim[E++]=D,x<<=6,x|=D&63}b||(K===2?x<128?f--:t[l++]=x:K===3?x<2048||x>=55296&&x<=57343||x===65279||(t[l++]=x):x<65536||x>1114111||(t[l++]=x)),this.interim.fill(0)}let p=r-4,m=f;for(;m<r;){for(;m<p&&!((o=e[m])&128)&&!((h=e[m+1])&128)&&!((u=e[m+2])&128)&&!((_=e[m+3])&128);)t[l++]=o,t[l++]=h,t[l++]=u,t[l++]=_,m+=4;if(o=e[m++],o<128)t[l++]=o;else if((o&224)===192){if(m>=r)return this.interim[0]=o,l;if(h=e[m++],(h&192)!==128){m--;continue}if(g=(o&31)<<6|h&63,g<128){m--;continue}t[l++]=g}else if((o&240)===224){if(m>=r)return this.interim[0]=o,l;if(h=e[m++],(h&192)!==128){m--;continue}if(m>=r)return this.interim[0]=o,this.interim[1]=h,l;if(u=e[m++],(u&192)!==128){m--;continue}if(g=(o&15)<<12|(h&63)<<6|u&63,g<2048||g>=55296&&g<=57343||g===65279)continue;t[l++]=g}else if((o&248)===240){if(m>=r)return this.interim[0]=o,l;if(h=e[m++],(h&192)!==128){m--;continue}if(m>=r)return this.interim[0]=o,this.interim[1]=h,l;if(u=e[m++],(u&192)!==128){m--;continue}if(m>=r)return this.interim[0]=o,this.interim[1]=h,this.interim[2]=u,l;if(_=e[m++],(_&192)!==128){m--;continue}if(g=(o&7)<<18|(h&63)<<12|(u&63)<<6|_&63,g<65536||g>1114111)continue;t[l++]=g}}return l}},D0="",or=" ",oa=class B0{constructor(){this.fg=0,this.bg=0,this.extended=new th}static toColorRGB(t){return[t>>>16&255,t>>>8&255,t&255]}static fromColorRGB(t){return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255}clone(){let t=new B0;return t.fg=this.fg,t.bg=this.bg,t.extended=this.extended.clone(),t}isInverse(){return this.fg&67108864}isBold(){return this.fg&134217728}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:this.fg&268435456}isBlink(){return this.fg&536870912}isInvisible(){return this.fg&1073741824}isItalic(){return this.bg&67108864}isDim(){return this.bg&134217728}isStrikethrough(){return this.fg&2147483648}isProtected(){return this.bg&536870912}isOverline(){return this.bg&1073741824}getFgColorMode(){return this.fg&50331648}getBgColorMode(){return this.bg&50331648}isFgRGB(){return(this.fg&50331648)===50331648}isBgRGB(){return(this.bg&50331648)===50331648}isFgPalette(){return(this.fg&50331648)===16777216||(this.fg&50331648)===33554432}isBgPalette(){return(this.bg&50331648)===16777216||(this.bg&50331648)===33554432}isFgDefault(){return(this.fg&50331648)===0}isBgDefault(){return(this.bg&50331648)===0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(this.fg&50331648){case 16777216:case 33554432:return this.fg&255;case 50331648:return this.fg&16777215;default:return-1}}getBgColor(){switch(this.bg&50331648){case 16777216:case 33554432:return this.bg&255;case 50331648:return this.bg&16777215;default:return-1}}hasExtendedAttrs(){return this.bg&268435456}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(this.bg&268435456&&~this.extended.underlineColor)switch(this.extended.underlineColor&50331648){case 16777216:case 33554432:return this.extended.underlineColor&255;case 50331648:return this.extended.underlineColor&16777215;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return this.bg&268435456&&~this.extended.underlineColor?this.extended.underlineColor&50331648:this.getFgColorMode()}isUnderlineColorRGB(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===50331648:this.isFgRGB()}isUnderlineColorPalette(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===16777216||(this.extended.underlineColor&50331648)===33554432:this.isFgPalette()}isUnderlineColorDefault(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===0:this.isFgDefault()}getUnderlineStyle(){return this.fg&268435456?this.bg&268435456?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}},th=class z0{constructor(t=0,r=0){this._ext=0,this._urlId=0,this._ext=t,this._urlId=r}get ext(){return this._urlId?this._ext&-469762049|this.underlineStyle<<26:this._ext}set ext(t){this._ext=t}get underlineStyle(){return this._urlId?5:(this._ext&469762048)>>26}set underlineStyle(t){this._ext&=-469762049,this._ext|=t<<26&469762048}get underlineColor(){return this._ext&67108863}set underlineColor(t){this._ext&=-67108864,this._ext|=t&67108863}get urlId(){return this._urlId}set urlId(t){this._urlId=t}get underlineVariantOffset(){let t=(this._ext&3758096384)>>29;return t<0?t^4294967288:t}set underlineVariantOffset(t){this._ext&=536870911,this._ext|=t<<29&3758096384}clone(){return new z0(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}},Ni=class O0 extends oa{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new th,this.combinedData=""}static fromCharData(t){let r=new O0;return r.setFromCharData(t),r}isCombined(){return this.content&2097152}getWidth(){return this.content>>22}getChars(){return this.content&2097152?this.combinedData:this.content&2097151?ar(this.content&2097151):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):this.content&2097151}setFromCharData(t){this.fg=t[0],this.bg=0;let r=!1;if(t[1].length>2)r=!0;else if(t[1].length===2){let l=t[1].charCodeAt(0);if(55296<=l&&l<=56319){let o=t[1].charCodeAt(1);56320<=o&&o<=57343?this.content=(l-55296)*1024+o-56320+65536|t[2]<<22:r=!0}else r=!0}else this.content=t[1].charCodeAt(0)|t[2]<<22;r&&(this.combinedData=t[1],this.content=2097152|t[2]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}},Qp="di$target",cd="di$dependencies",Wu=new Map;function yw(e){return e[cd]||[]}function At(e){if(Wu.has(e))return Wu.get(e);let t=function(r,l,o){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");bw(t,r,o)};return t._id=e,Wu.set(e,t),t}function bw(e,t,r){t[Qp]===t?t[cd].push({id:e,index:r}):(t[cd]=[{id:e,index:r}],t[Qp]=t)}var Kt=At("BufferService"),N0=At("CoreMouseService"),$r=At("CoreService"),xw=At("CharsetService"),Zd=At("InstantiationService"),H0=At("LogService"),Gt=At("OptionsService"),j0=At("OscLinkService"),ww=At("UnicodeService"),ha=At("DecorationService"),ud=class{constructor(e,t,r){this._bufferService=e,this._optionsService=t,this._oscLinkService=r}provideLinks(e,t){let r=this._bufferService.buffer.lines.get(e-1);if(!r){t(void 0);return}let l=[],o=this._optionsService.rawOptions.linkHandler,h=new Ni,u=r.getTrimmedLength(),_=-1,g=-1,f=!1;for(let p=0;p<u;p++)if(!(g===-1&&!r.hasContent(p))){if(r.loadCell(p,h),h.hasExtendedAttrs()&&h.extended.urlId)if(g===-1){g=p,_=h.extended.urlId;continue}else f=h.extended.urlId!==_;else g!==-1&&(f=!0);if(f||g!==-1&&p===u-1){let m=this._oscLinkService.getLinkData(_)?.uri;if(m){let b={start:{x:g+1,y:e},end:{x:p+(!f&&p===u-1?1:0),y:e}},x=!1;if(!o?.allowNonHttpProtocols)try{let E=new URL(m);["http:","https:"].includes(E.protocol)||(x=!0)}catch{x=!0}x||l.push({text:m,range:b,activate:(E,D)=>o?o.activate(E,D,b):Cw(E,D),hover:(E,D)=>o?.hover?.(E,D,b),leave:(E,D)=>o?.leave?.(E,D,b)})}f=!1,h.hasExtendedAttrs()&&h.extended.urlId?(g=p,_=h.extended.urlId):(g=-1,_=-1)}}t(l)}};ud=st([he(0,Kt),he(1,Gt),he(2,j0)],ud);function Cw(e,t){if(confirm(`Do you want to navigate to ${t}?

WARNING: This link could potentially be dangerous`)){let r=window.open();if(r){try{r.opener=null}catch{}r.location.href=t}else console.warn("Opening link blocked as opener could not be cleared")}}var hh=At("CharSizeService"),ks=At("CoreBrowserService"),Qd=At("MouseService"),Ls=At("RenderService"),Ew=At("SelectionService"),U0=At("CharacterJoinerService"),Un=At("ThemeService"),$0=At("LinkProviderService"),Mw=class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?Jp.isErrorNoTelemetry(e)?new Jp(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(t=>{t(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},kw=new Mw;function Ko(e){Lw(e)||kw.onUnexpectedError(e)}var dd="Canceled";function Lw(e){return e instanceof Aw?!0:e instanceof Error&&e.name===dd&&e.message===dd}var Aw=class extends Error{constructor(){super(dd),this.name=this.message}};function Tw(e){return new Error(`Illegal argument: ${e}`)}var Jp=class fd extends Error{constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof fd)return t;let r=new fd;return r.message=t.message,r.stack=t.stack,r}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}},_d=class P0 extends Error{constructor(t){super(t||"An unexpected bug occurred."),Object.setPrototypeOf(this,P0.prototype)}};function vi(e,t=0){return e[e.length-(1+t)]}var Rw;(e=>{function t(h){return h<0}e.isLessThan=t;function r(h){return h<=0}e.isLessThanOrEqual=r;function l(h){return h>0}e.isGreaterThan=l;function o(h){return h===0}e.isNeitherLessOrGreaterThan=o,e.greaterThan=1,e.lessThan=-1,e.neitherLessOrGreaterThan=0})(Rw||={});function Dw(e,t){let r=this,l=!1,o;return function(){return l||(l=!0,t||(o=e.apply(r,arguments))),o}}var F0;(e=>{function t(z){return z&&typeof z=="object"&&typeof z[Symbol.iterator]=="function"}e.is=t;let r=Object.freeze([]);function l(){return r}e.empty=l;function*o(z){yield z}e.single=o;function h(z){return t(z)?z:o(z)}e.wrap=h;function u(z){return z||r}e.from=u;function*_(z){for(let Q=z.length-1;Q>=0;Q--)yield z[Q]}e.reverse=_;function g(z){return!z||z[Symbol.iterator]().next().done===!0}e.isEmpty=g;function f(z){return z[Symbol.iterator]().next().value}e.first=f;function p(z,Q){let te=0;for(let ie of z)if(Q(ie,te++))return!0;return!1}e.some=p;function m(z,Q){for(let te of z)if(Q(te))return te}e.find=m;function*b(z,Q){for(let te of z)Q(te)&&(yield te)}e.filter=b;function*x(z,Q){let te=0;for(let ie of z)yield Q(ie,te++)}e.map=x;function*E(z,Q){let te=0;for(let ie of z)yield*Q(ie,te++)}e.flatMap=E;function*D(...z){for(let Q of z)yield*Q}e.concat=D;function K(z,Q,te){let ie=te;for(let le of z)ie=Q(ie,le);return ie}e.reduce=K;function*W(z,Q,te=z.length){for(Q<0&&(Q+=z.length),te<0?te+=z.length:te>z.length&&(te=z.length);Q<te;Q++)yield z[Q]}e.slice=W;function ee(z,Q=Number.POSITIVE_INFINITY){let te=[];if(Q===0)return[te,z];let ie=z[Symbol.iterator]();for(let le=0;le<Q;le++){let fe=ie.next();if(fe.done)return[te,e.empty()];te.push(fe.value)}return[te,{[Symbol.iterator](){return ie}}]}e.consume=ee;async function V(z){let Q=[];for await(let te of z)Q.push(te);return Promise.resolve(Q)}e.asyncToArray=V})(F0||={});function jr(e){if(F0.is(e)){let t=[];for(let r of e)if(r)try{r.dispose()}catch(l){t.push(l)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}function Bw(...e){return Ve(()=>jr(e))}function Ve(e){return{dispose:Dw(()=>{e()})}}var W0=class q0{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{jr(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?q0.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),void 0)}};W0.DISABLE_DISPOSED_WARNING=!1;var cr=W0,we=class{constructor(){this._store=new cr,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};we.None=Object.freeze({dispose(){}});var Hn=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){this._isDisposed||e===this._value||(this._value?.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}clearAndLeak(){let e=this._value;return this._value=void 0,e}},Ms=typeof window=="object"?window:globalThis,gd=class vd{constructor(t){this.element=t,this.next=vd.Undefined,this.prev=vd.Undefined}};gd.Undefined=new gd(void 0);var Xe=gd,em=class{constructor(){this._first=Xe.Undefined,this._last=Xe.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===Xe.Undefined}clear(){let e=this._first;for(;e!==Xe.Undefined;){let t=e.next;e.prev=Xe.Undefined,e.next=Xe.Undefined,e=t}this._first=Xe.Undefined,this._last=Xe.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){let r=new Xe(e);if(this._first===Xe.Undefined)this._first=r,this._last=r;else if(t){let o=this._last;this._last=r,r.prev=o,o.next=r}else{let o=this._first;this._first=r,r.next=o,o.prev=r}this._size+=1;let l=!1;return()=>{l||(l=!0,this._remove(r))}}shift(){if(this._first!==Xe.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==Xe.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==Xe.Undefined&&e.next!==Xe.Undefined){let t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Xe.Undefined&&e.next===Xe.Undefined?(this._first=Xe.Undefined,this._last=Xe.Undefined):e.next===Xe.Undefined?(this._last=this._last.prev,this._last.next=Xe.Undefined):e.prev===Xe.Undefined&&(this._first=this._first.next,this._first.prev=Xe.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==Xe.Undefined;)yield e.element,e=e.next}},zw=globalThis.performance&&typeof globalThis.performance.now=="function",Ow=class Y0{static create(t){return new Y0(t)}constructor(t){this._now=zw&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}},Ht;(e=>{e.None=()=>we.None;function t(A,T){return m(A,()=>{},0,void 0,!0,void 0,T)}e.defer=t;function r(A){return(T,F=null,j)=>{let M=!1,k;return k=A(C=>{if(!M)return k?k.dispose():M=!0,T.call(F,C)},null,j),M&&k.dispose(),k}}e.once=r;function l(A,T,F){return f((j,M=null,k)=>A(C=>j.call(M,T(C)),null,k),F)}e.map=l;function o(A,T,F){return f((j,M=null,k)=>A(C=>{T(C),j.call(M,C)},null,k),F)}e.forEach=o;function h(A,T,F){return f((j,M=null,k)=>A(C=>T(C)&&j.call(M,C),null,k),F)}e.filter=h;function u(A){return A}e.signal=u;function _(...A){return(T,F=null,j)=>{let M=Bw(...A.map(k=>k(C=>T.call(F,C))));return p(M,j)}}e.any=_;function g(A,T,F,j){let M=F;return l(A,k=>(M=T(M,k),M),j)}e.reduce=g;function f(A,T){let F,j={onWillAddFirstListener(){F=A(M.fire,M)},onDidRemoveLastListener(){F?.dispose()}},M=new ne(j);return T?.add(M),M.event}function p(A,T){return T instanceof Array?T.push(A):T&&T.add(A),A}function m(A,T,F=100,j=!1,M=!1,k,C){let N,Y,w,U=0,X,se={leakWarningThreshold:k,onWillAddFirstListener(){N=A(oe=>{U++,Y=T(Y,oe),j&&!w&&(re.fire(Y),Y=void 0),X=()=>{let ue=Y;Y=void 0,w=void 0,(!j||U>1)&&re.fire(ue),U=0},typeof F=="number"?(clearTimeout(w),w=setTimeout(X,F)):w===void 0&&(w=0,queueMicrotask(X))})},onWillRemoveListener(){M&&U>0&&X?.()},onDidRemoveLastListener(){X=void 0,N.dispose()}},re=new ne(se);return C?.add(re),re.event}e.debounce=m;function b(A,T=0,F){return e.debounce(A,(j,M)=>j?(j.push(M),j):[M],T,void 0,!0,void 0,F)}e.accumulate=b;function x(A,T=(j,M)=>j===M,F){let j=!0,M;return h(A,k=>{let C=j||!T(k,M);return j=!1,M=k,C},F)}e.latch=x;function E(A,T,F){return[e.filter(A,T,F),e.filter(A,j=>!T(j),F)]}e.split=E;function D(A,T=!1,F=[],j){let M=F.slice(),k=A(Y=>{M?M.push(Y):N.fire(Y)});j&&j.add(k);let C=()=>{M?.forEach(Y=>N.fire(Y)),M=null},N=new ne({onWillAddFirstListener(){k||(k=A(Y=>N.fire(Y)),j&&j.add(k))},onDidAddFirstListener(){M&&(T?setTimeout(C):C())},onDidRemoveLastListener(){k&&k.dispose(),k=null}});return j&&j.add(N),N.event}e.buffer=D;function K(A,T){return(F,j,M)=>{let k=T(new ee);return A(function(C){let N=k.evaluate(C);N!==W&&F.call(j,N)},void 0,M)}}e.chain=K;let W=Symbol("HaltChainable");class ee{constructor(){this.steps=[]}map(T){return this.steps.push(T),this}forEach(T){return this.steps.push(F=>(T(F),F)),this}filter(T){return this.steps.push(F=>T(F)?F:W),this}reduce(T,F){let j=F;return this.steps.push(M=>(j=T(j,M),j)),this}latch(T=(F,j)=>F===j){let F=!0,j;return this.steps.push(M=>{let k=F||!T(M,j);return F=!1,j=M,k?M:W}),this}evaluate(T){for(let F of this.steps)if(T=F(T),T===W)break;return T}}function V(A,T,F=j=>j){let j=(...N)=>C.fire(F(...N)),M=()=>A.on(T,j),k=()=>A.removeListener(T,j),C=new ne({onWillAddFirstListener:M,onDidRemoveLastListener:k});return C.event}e.fromNodeEventEmitter=V;function z(A,T,F=j=>j){let j=(...N)=>C.fire(F(...N)),M=()=>A.addEventListener(T,j),k=()=>A.removeEventListener(T,j),C=new ne({onWillAddFirstListener:M,onDidRemoveLastListener:k});return C.event}e.fromDOMEventEmitter=z;function Q(A){return new Promise(T=>r(A)(T))}e.toPromise=Q;function te(A){let T=new ne;return A.then(F=>{T.fire(F)},()=>{T.fire(void 0)}).finally(()=>{T.dispose()}),T.event}e.fromPromise=te;function ie(A,T){return A(F=>T.fire(F))}e.forward=ie;function le(A,T,F){return T(F),A(j=>T(j))}e.runAndSubscribe=le;class fe{constructor(T,F){this._observable=T,this._counter=0,this._hasChanged=!1;let j={onWillAddFirstListener:()=>{T.addObserver(this)},onDidRemoveLastListener:()=>{T.removeObserver(this)}};this.emitter=new ne(j),F&&F.add(this.emitter)}beginUpdate(T){this._counter++}handlePossibleChange(T){}handleChange(T,F){this._hasChanged=!0}endUpdate(T){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function Le(A,T){return new fe(A,T).emitter.event}e.fromObservable=Le;function ae(A){return(T,F,j)=>{let M=0,k=!1,C={beginUpdate(){M++},endUpdate(){M--,M===0&&(A.reportChanges(),k&&(k=!1,T.call(F)))},handlePossibleChange(){},handleChange(){k=!0}};A.addObserver(C),A.reportChanges();let N={dispose(){A.removeObserver(C)}};return j instanceof cr?j.add(N):Array.isArray(j)&&j.push(N),N}}e.fromObservableLight=ae})(Ht||={});var pd=class md{constructor(t){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${t}_${md._idPool++}`,md.all.add(this)}start(t){this._stopWatch=new Ow,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}};pd.all=new Set,pd._idPool=0;var Nw=pd,Hw=-1,I0=class K0{constructor(t,r,l=(K0._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t,this.threshold=r,this.name=l,this._warnCountdown=0}dispose(){this._stacks?.clear()}check(t,r){let l=this.threshold;if(l<=0||r<l)return;this._stacks||(this._stacks=new Map);let o=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,o+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=l*.5;let[h,u]=this.getMostFrequentStack(),_=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${u}):`;console.warn(_),console.warn(h);let g=new $w(_,h);this._errorHandler(g)}return()=>{let h=this._stacks.get(t.value)||0;this._stacks.set(t.value,h-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,r=0;for(let[l,o]of this._stacks)(!t||r<o)&&(t=[l,o],r=o);return t}};I0._idPool=1;var jw=I0,Uw=class G0{constructor(t){this.value=t}static create(){let t=new Error;return new G0(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},$w=class extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}},Pw=class extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}},Fw=0,qu=class{constructor(e){this.value=e,this.id=Fw++}},Ww=2,qw,ne=class{constructor(e){this._size=0,this._options=e,this._leakageMon=this._options?.leakWarningThreshold?new jw(e?.onListenerError??Ko,this._options?.leakWarningThreshold??Hw):void 0,this._perfMon=this._options?._profName?new Nw(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){this._disposed||(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose())}get event(){return this._event??=(e,t,r)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let u=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(u);let _=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],g=new Pw(`${u}. HINT: Stack shows most frequent listener (${_[1]}-times)`,_[0]);return(this._options?.onListenerError||Ko)(g),we.None}if(this._disposed)return we.None;t&&(e=e.bind(t));let l=new qu(e),o;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(l.stack=Uw.create(),o=this._leakageMon.check(l.stack,this._size+1)),this._listeners?this._listeners instanceof qu?(this._deliveryQueue??=new Yw,this._listeners=[this._listeners,l]):this._listeners.push(l):(this._options?.onWillAddFirstListener?.(this),this._listeners=l,this._options?.onDidAddFirstListener?.(this)),this._size++;let h=Ve(()=>{o?.(),this._removeListener(l)});return r instanceof cr?r.add(h):Array.isArray(r)&&r.push(h),h},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let t=this._listeners,r=t.indexOf(e);if(r===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,t[r]=void 0;let l=this._deliveryQueue.current===this;if(this._size*Ww<=t.length){let o=0;for(let h=0;h<t.length;h++)t[h]?t[o++]=t[h]:l&&(this._deliveryQueue.end--,o<this._deliveryQueue.i&&this._deliveryQueue.i--);t.length=o}}_deliver(e,t){if(!e)return;let r=this._options?.onListenerError||Ko;if(!r){e.value(t);return}try{e.value(t)}catch(l){r(l)}}_deliverQueue(e){let t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof qu)this._deliver(this._listeners,e);else{let t=this._deliveryQueue;t.enqueue(this,e,this._listeners.length),this._deliverQueue(t)}this._perfMon?.stop()}hasListeners(){return this._size>0}},Yw=class{constructor(){this.i=-1,this.end=0}enqueue(e,t,r){this.i=0,this.end=r,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}},Sd=class{constructor(){this.mapWindowIdToZoomLevel=new Map,this._onDidChangeZoomLevel=new ne,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this.mapWindowIdToZoomFactor=new Map,this._onDidChangeFullscreen=new ne,this.onDidChangeFullscreen=this._onDidChangeFullscreen.event,this.mapWindowIdToFullScreen=new Map}getZoomLevel(t){return this.mapWindowIdToZoomLevel.get(this.getWindowId(t))??0}setZoomLevel(t,r){if(this.getZoomLevel(r)===t)return;let l=this.getWindowId(r);this.mapWindowIdToZoomLevel.set(l,t),this._onDidChangeZoomLevel.fire(l)}getZoomFactor(t){return this.mapWindowIdToZoomFactor.get(this.getWindowId(t))??1}setZoomFactor(t,r){this.mapWindowIdToZoomFactor.set(this.getWindowId(r),t)}setFullscreen(t,r){if(this.isFullscreen(r)===t)return;let l=this.getWindowId(r);this.mapWindowIdToFullScreen.set(l,t),this._onDidChangeFullscreen.fire(l)}isFullscreen(t){return!!this.mapWindowIdToFullScreen.get(this.getWindowId(t))}getWindowId(t){return t.vscodeWindowId}};Sd.INSTANCE=new Sd;var Jd=Sd;function Iw(e,t,r){typeof t=="string"&&(t=e.matchMedia(t)),t.addEventListener("change",r)}Jd.INSTANCE.onDidChangeZoomLevel;function Kw(e){return Jd.INSTANCE.getZoomFactor(e)}Jd.INSTANCE.onDidChangeFullscreen;var $n=typeof navigator=="object"?navigator.userAgent:"",yd=$n.indexOf("Firefox")>=0,Gw=$n.indexOf("AppleWebKit")>=0,ef=$n.indexOf("Chrome")>=0,Vw=!ef&&$n.indexOf("Safari")>=0;$n.indexOf("Electron/")>=0;$n.indexOf("Android")>=0;var Yu=!1;if(typeof Ms.matchMedia=="function"){let e=Ms.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),t=Ms.matchMedia("(display-mode: fullscreen)");Yu=e.matches,Iw(Ms,e,({matches:r})=>{Yu&&t.matches||(Yu=r)})}var On="en",bd=!1,xd=!1,Go=!1,V0=!1,No,Vo=On,tm=On,Xw,ws,Hr=globalThis,Si;typeof Hr.vscode<"u"&&typeof Hr.vscode.process<"u"?Si=Hr.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(Si=process);var Zw=typeof Si?.versions?.electron=="string",Qw=Zw&&Si?.type==="renderer";if(typeof Si=="object"){bd=Si.platform==="win32",xd=Si.platform==="darwin",Go=Si.platform==="linux",Go&&Si.env.SNAP&&Si.env.SNAP_REVISION,Si.env.CI||Si.env.BUILD_ARTIFACTSTAGINGDIRECTORY,No=On,Vo=On;let e=Si.env.VSCODE_NLS_CONFIG;if(e)try{let t=JSON.parse(e);No=t.userLocale,tm=t.osLocale,Vo=t.resolvedLanguage||On,Xw=t.languagePack?.translationsConfigFile}catch{}V0=!0}else typeof navigator=="object"&&!Qw?(ws=navigator.userAgent,bd=ws.indexOf("Windows")>=0,xd=ws.indexOf("Macintosh")>=0,(ws.indexOf("Macintosh")>=0||ws.indexOf("iPad")>=0||ws.indexOf("iPhone")>=0)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0,Go=ws.indexOf("Linux")>=0,ws?.indexOf("Mobi")>=0,Vo=globalThis._VSCODE_NLS_LANGUAGE||On,No=navigator.language.toLowerCase(),tm=No):console.error("Unable to resolve platform.");var X0=bd,Xi=xd,Jw=Go,im=V0,Qi=ws,ir=Vo,e5;(e=>{function t(){return ir}e.value=t;function r(){return ir.length===2?ir==="en":ir.length>=3?ir[0]==="e"&&ir[1]==="n"&&ir[2]==="-":!1}e.isDefaultVariant=r;function l(){return ir==="en"}e.isDefault=l})(e5||={});var t5=typeof Hr.postMessage=="function"&&!Hr.importScripts;(()=>{if(t5){let e=[];Hr.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let l=0,o=e.length;l<o;l++){let h=e[l];if(h.id===r.data.vscodeScheduleAsyncWork){e.splice(l,1),h.callback();return}}});let t=0;return r=>{let l=++t;e.push({id:l,callback:r}),Hr.postMessage({vscodeScheduleAsyncWork:l},"*")}}return e=>setTimeout(e)})();var i5=!!(Qi&&Qi.indexOf("Chrome")>=0);Qi&&Qi.indexOf("Firefox")>=0;!i5&&Qi&&Qi.indexOf("Safari")>=0;Qi&&Qi.indexOf("Edg/")>=0;Qi&&Qi.indexOf("Android")>=0;var An=typeof navigator=="object"?navigator:{};im||document.queryCommandSupported&&document.queryCommandSupported("copy")||An&&An.clipboard&&An.clipboard.writeText,im||An&&An.clipboard&&An.clipboard.readText;var tf=class{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}},Iu=new tf,sm=new tf,rm=new tf,s5=new Array(230),Z0;(e=>{function t(_){return Iu.keyCodeToStr(_)}e.toString=t;function r(_){return Iu.strToKeyCode(_)}e.fromString=r;function l(_){return sm.keyCodeToStr(_)}e.toUserSettingsUS=l;function o(_){return rm.keyCodeToStr(_)}e.toUserSettingsGeneral=o;function h(_){return sm.strToKeyCode(_)||rm.strToKeyCode(_)}e.fromUserSettings=h;function u(_){if(_>=98&&_<=113)return null;switch(_){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return Iu.keyCodeToStr(_)}e.toElectronAccelerator=u})(Z0||={});var r5=class Q0{constructor(t,r,l,o,h){this.ctrlKey=t,this.shiftKey=r,this.altKey=l,this.metaKey=o,this.keyCode=h}equals(t){return t instanceof Q0&&this.ctrlKey===t.ctrlKey&&this.shiftKey===t.shiftKey&&this.altKey===t.altKey&&this.metaKey===t.metaKey&&this.keyCode===t.keyCode}getHashCode(){let t=this.ctrlKey?"1":"0",r=this.shiftKey?"1":"0",l=this.altKey?"1":"0",o=this.metaKey?"1":"0";return`K${t}${r}${l}${o}${this.keyCode}`}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toKeybinding(){return new n5([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}},n5=class{constructor(e){if(e.length===0)throw Tw("chords");this.chords=e}getHashCode(){let e="";for(let t=0,r=this.chords.length;t<r;t++)t!==0&&(e+=";"),e+=this.chords[t].getHashCode();return e}equals(e){if(e===null||this.chords.length!==e.chords.length)return!1;for(let t=0;t<this.chords.length;t++)if(!this.chords[t].equals(e.chords[t]))return!1;return!0}};function l5(e){if(e.charCode){let r=String.fromCharCode(e.charCode).toUpperCase();return Z0.fromString(r)}let t=e.keyCode;if(t===3)return 7;if(yd)switch(t){case 59:return 85;case 60:if(Jw)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(Xi)return 57;break}else if(Gw&&(Xi&&t===93||!Xi&&t===92))return 57;return s5[t]||0}var a5=Xi?256:2048,o5=512,h5=1024,c5=Xi?2048:256,nm=class{constructor(e){this._standardKeyboardEventBrand=!0;let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=t.getModifierState?.("AltGraph"),this.keyCode=l5(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=a5),this.altKey&&(t|=o5),this.shiftKey&&(t|=h5),this.metaKey&&(t|=c5),t|=e,t}_computeKeyCodeChord(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new r5(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}},lm=new WeakMap;function u5(e){if(!e.parent||e.parent===e)return null;try{let t=e.location,r=e.parent.location;if(t.origin!=="null"&&r.origin!=="null"&&t.origin!==r.origin)return null}catch{return null}return e.parent}var d5=class{static getSameOriginWindowChain(e){let t=lm.get(e);if(!t){t=[],lm.set(e,t);let r=e,l;do l=u5(r),l?t.push({window:new WeakRef(r),iframeElement:r.frameElement||null}):t.push({window:new WeakRef(r),iframeElement:null}),r=l;while(r)}return t.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let r=0,l=0,o=this.getSameOriginWindowChain(e);for(let h of o){let u=h.window.deref();if(r+=u?.scrollY??0,l+=u?.scrollX??0,u===t||!h.iframeElement)break;let _=h.iframeElement.getBoundingClientRect();r+=_.top,l+=_.left}return{top:r,left:l}}},Ho=class{constructor(e,t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=t.button===0,this.middleButton=t.button===1,this.rightButton=t.button===2,this.buttons=t.buttons,this.target=t.target,this.detail=t.detail||1,t.type==="dblclick"&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,typeof t.pageX=="number"?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=t.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);let r=d5.getPositionOfChildWindowRelativeToAncestorWindow(e,t.view);this.posx-=r.left,this.posy-=r.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}},am=class{constructor(e,t=0,r=0){this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=r,this.deltaX=t;let l=!1;if(ef){let o=navigator.userAgent.match(/Chrome\/(\d+)/);l=(o?parseInt(o[1]):123)<=122}if(e){let o=e,h=e,u=e.view?.devicePixelRatio||1;if(typeof o.wheelDeltaY<"u")l?this.deltaY=o.wheelDeltaY/(120*u):this.deltaY=o.wheelDeltaY/120;else if(typeof h.VERTICAL_AXIS<"u"&&h.axis===h.VERTICAL_AXIS)this.deltaY=-h.detail/3;else if(e.type==="wheel"){let _=e;_.deltaMode===_.DOM_DELTA_LINE?yd&&!Xi?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof o.wheelDeltaX<"u")Vw&&X0?this.deltaX=-(o.wheelDeltaX/120):l?this.deltaX=o.wheelDeltaX/(120*u):this.deltaX=o.wheelDeltaX/120;else if(typeof h.HORIZONTAL_AXIS<"u"&&h.axis===h.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){let _=e;_.deltaMode===_.DOM_DELTA_LINE?yd&&!Xi?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(l?this.deltaY=e.wheelDelta/(120*u):this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent?.preventDefault()}stopPropagation(){this.browserEvent?.stopPropagation()}},J0=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),f5;(e=>{function t(r){return r===e.None||r===e.Cancelled||r instanceof _5?!0:!r||typeof r!="object"?!1:typeof r.isCancellationRequested=="boolean"&&typeof r.onCancellationRequested=="function"}e.isCancellationToken=t,e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Ht.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:J0})})(f5||={});var _5=class{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?J0:(this._emitter||(this._emitter=new ne),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},sf=class{constructor(e,t){this._isDisposed=!1,this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){if(this._isDisposed)throw new _d("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){if(this._isDisposed)throw new _d("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}},g5=class{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){this.disposable?.dispose(),this.disposable=void 0}cancelAndSet(e,t,r=globalThis){if(this.isDisposed)throw new _d("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();let l=r.setInterval(()=>{e()},t);this.disposable=Ve(()=>{r.clearInterval(l),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}},v5;(e=>{async function t(l){let o,h=await Promise.all(l.map(u=>u.then(_=>_,_=>{o||(o=_)})));if(typeof o<"u")throw o;return h}e.settled=t;function r(l){return new Promise(async(o,h)=>{try{await l(o,h)}catch(u){h(u)}})}e.withAsyncBody=r})(v5||={});var om=class Bi{static fromArray(t){return new Bi(r=>{r.emitMany(t)})}static fromPromise(t){return new Bi(async r=>{r.emitMany(await t)})}static fromPromises(t){return new Bi(async r=>{await Promise.all(t.map(async l=>r.emitOne(await l)))})}static merge(t){return new Bi(async r=>{await Promise.all(t.map(async l=>{for await(let o of l)r.emitOne(o)}))})}constructor(t,r){this._state=0,this._results=[],this._error=null,this._onReturn=r,this._onStateChanged=new ne,queueMicrotask(async()=>{let l={emitOne:o=>this.emitOne(o),emitMany:o=>this.emitMany(o),reject:o=>this.reject(o)};try{await Promise.resolve(t(l)),this.resolve()}catch(o){this.reject(o)}finally{l.emitOne=void 0,l.emitMany=void 0,l.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(t<this._results.length)return{done:!1,value:this._results[t++]};if(this._state===1)return{done:!0,value:void 0};await Ht.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>(this._onReturn?.(),{done:!0,value:void 0})}}static map(t,r){return new Bi(async l=>{for await(let o of t)l.emitOne(r(o))})}map(t){return Bi.map(this,t)}static filter(t,r){return new Bi(async l=>{for await(let o of t)r(o)&&l.emitOne(o)})}filter(t){return Bi.filter(this,t)}static coalesce(t){return Bi.filter(t,r=>!!r)}coalesce(){return Bi.coalesce(this)}static async toPromise(t){let r=[];for await(let l of t)r.push(l);return r}toPromise(){return Bi.toPromise(this)}emitOne(t){this._state===0&&(this._results.push(t),this._onStateChanged.fire())}emitMany(t){this._state===0&&(this._results=this._results.concat(t),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(t){this._state===0&&(this._state=2,this._error=t,this._onStateChanged.fire())}};om.EMPTY=om.fromArray([]);var{getWindow:Vi,getWindowId:p5,onDidRegisterWindow:m5}=(function(){let e=new Map,t={window:Ms,disposables:new cr};e.set(Ms.vscodeWindowId,t);let r=new ne,l=new ne,o=new ne;function h(u,_){return(typeof u=="number"?e.get(u):void 0)??(_?t:void 0)}return{onDidRegisterWindow:r.event,onWillUnregisterWindow:o.event,onDidUnregisterWindow:l.event,registerWindow(u){if(e.has(u.vscodeWindowId))return we.None;let _=new cr,g={window:u,disposables:_.add(new cr)};return e.set(u.vscodeWindowId,g),_.add(Ve(()=>{e.delete(u.vscodeWindowId),l.fire(u)})),_.add(ve(u,bt.BEFORE_UNLOAD,()=>{o.fire(u)})),r.fire(g),_},getWindows(){return e.values()},getWindowsCount(){return e.size},getWindowId(u){return u.vscodeWindowId},hasWindow(u){return e.has(u)},getWindowById:h,getWindow(u){let _=u;if(_?.ownerDocument?.defaultView)return _.ownerDocument.defaultView.window;let g=u;return g?.view?g.view.window:Ms},getDocument(u){return Vi(u).document}}})(),S5=class{constructor(e,t,r,l){this._node=e,this._type=t,this._handler=r,this._options=l||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}};function ve(e,t,r,l){return new S5(e,t,r,l)}var hm=function(e,t,r,l){return ve(e,t,r,l)},rf,y5=class extends g5{constructor(e){super(),this.defaultTarget=e&&Vi(e)}cancelAndSet(e,t,r){return super.cancelAndSet(e,t,r??this.defaultTarget)}},cm=class{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){Ko(e)}}static sort(e,t){return t.priority-e.priority}};(function(){let e=new Map,t=new Map,r=new Map,l=new Map,o=h=>{r.set(h,!1);let u=e.get(h)??[];for(t.set(h,u),e.set(h,[]),l.set(h,!0);u.length>0;)u.sort(cm.sort),u.shift().execute();l.set(h,!1)};rf=(h,u,_=0)=>{let g=p5(h),f=new cm(u,_),p=e.get(g);return p||(p=[],e.set(g,p)),p.push(f),r.get(g)||(r.set(g,!0),h.requestAnimationFrame(()=>o(g))),f}})();function b5(e){let t=e.getBoundingClientRect(),r=Vi(e);return{left:t.left+r.scrollX,top:t.top+r.scrollY,width:t.width,height:t.height}}var bt={CLICK:"click",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",KEY_DOWN:"keydown",KEY_UP:"keyup",BEFORE_UNLOAD:"beforeunload",CHANGE:"change",FOCUS:"focus",BLUR:"blur",INPUT:"input"},x5=class{constructor(e){this.domNode=e,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingTop="",this._paddingLeft="",this._paddingBottom="",this._paddingRight="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){let t=ri(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){let t=ri(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){let t=ri(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){let t=ri(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){let t=ri(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){let t=ri(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){let t=ri(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setPaddingTop(e){let t=ri(e);this._paddingTop!==t&&(this._paddingTop=t,this.domNode.style.paddingTop=this._paddingTop)}setPaddingLeft(e){let t=ri(e);this._paddingLeft!==t&&(this._paddingLeft=t,this.domNode.style.paddingLeft=this._paddingLeft)}setPaddingBottom(e){let t=ri(e);this._paddingBottom!==t&&(this._paddingBottom=t,this.domNode.style.paddingBottom=this._paddingBottom)}setPaddingRight(e){let t=ri(e);this._paddingRight!==t&&(this._paddingRight=t,this.domNode.style.paddingRight=this._paddingRight)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){let t=ri(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){let t=ri(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){let t=ri(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}};function ri(e){return typeof e=="number"?`${e}px`:e}function ia(e){return new x5(e)}var e1=class{constructor(){this._hooks=new cr,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;let r=this._onStopCallback;this._onStopCallback=null,e&&r&&r(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,r,l,o){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=l,this._onStopCallback=o;let h=e;try{e.setPointerCapture(t),this._hooks.add(Ve(()=>{try{e.releasePointerCapture(t)}catch{}}))}catch{h=Vi(e)}this._hooks.add(ve(h,bt.POINTER_MOVE,u=>{if(u.buttons!==r){this.stopMonitoring(!0);return}u.preventDefault(),this._pointerMoveCallback(u)})),this._hooks.add(ve(h,bt.POINTER_UP,u=>this.stopMonitoring(!0)))}};function w5(e,t,r){let l=null,o=null;if(typeof r.value=="function"?(l="value",o=r.value,o.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof r.get=="function"&&(l="get",o=r.get),!o)throw new Error("not supported");let h=`$memoize$${t}`;r[l]=function(...u){return this.hasOwnProperty(h)||Object.defineProperty(this,h,{configurable:!1,enumerable:!1,writable:!1,value:o.apply(this,u)}),this[h]}}var Gi;(e=>(e.Tap="-xterm-gesturetap",e.Change="-xterm-gesturechange",e.Start="-xterm-gesturestart",e.End="-xterm-gesturesend",e.Contextmenu="-xterm-gesturecontextmenu"))(Gi||={});var Zl=class $t extends we{constructor(){super(),this.dispatched=!1,this.targets=new em,this.ignoreTargets=new em,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(Ht.runAndSubscribe(m5,({window:t,disposables:r})=>{r.add(ve(t.document,"touchstart",l=>this.onTouchStart(l),{passive:!1})),r.add(ve(t.document,"touchend",l=>this.onTouchEnd(t,l))),r.add(ve(t.document,"touchmove",l=>this.onTouchMove(l),{passive:!1}))},{window:Ms,disposables:this._store}))}static addTarget(t){if(!$t.isTouchDevice())return we.None;$t.INSTANCE||($t.INSTANCE=new $t);let r=$t.INSTANCE.targets.push(t);return Ve(r)}static ignoreTarget(t){if(!$t.isTouchDevice())return we.None;$t.INSTANCE||($t.INSTANCE=new $t);let r=$t.INSTANCE.ignoreTargets.push(t);return Ve(r)}static isTouchDevice(){return"ontouchstart"in Ms||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(t){let r=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let l=0,o=t.targetTouches.length;l<o;l++){let h=t.targetTouches.item(l);this.activeTouches[h.identifier]={id:h.identifier,initialTarget:h.target,initialTimeStamp:r,initialPageX:h.pageX,initialPageY:h.pageY,rollingTimestamps:[r],rollingPageX:[h.pageX],rollingPageY:[h.pageY]};let u=this.newGestureEvent(Gi.Start,h.target);u.pageX=h.pageX,u.pageY=h.pageY,this.dispatchEvent(u)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}onTouchEnd(t,r){let l=Date.now(),o=Object.keys(this.activeTouches).length;for(let h=0,u=r.changedTouches.length;h<u;h++){let _=r.changedTouches.item(h);if(!this.activeTouches.hasOwnProperty(String(_.identifier))){console.warn("move of an UNKNOWN touch",_);continue}let g=this.activeTouches[_.identifier],f=Date.now()-g.initialTimeStamp;if(f<$t.HOLD_DELAY&&Math.abs(g.initialPageX-vi(g.rollingPageX))<30&&Math.abs(g.initialPageY-vi(g.rollingPageY))<30){let p=this.newGestureEvent(Gi.Tap,g.initialTarget);p.pageX=vi(g.rollingPageX),p.pageY=vi(g.rollingPageY),this.dispatchEvent(p)}else if(f>=$t.HOLD_DELAY&&Math.abs(g.initialPageX-vi(g.rollingPageX))<30&&Math.abs(g.initialPageY-vi(g.rollingPageY))<30){let p=this.newGestureEvent(Gi.Contextmenu,g.initialTarget);p.pageX=vi(g.rollingPageX),p.pageY=vi(g.rollingPageY),this.dispatchEvent(p)}else if(o===1){let p=vi(g.rollingPageX),m=vi(g.rollingPageY),b=vi(g.rollingTimestamps)-g.rollingTimestamps[0],x=p-g.rollingPageX[0],E=m-g.rollingPageY[0],D=[...this.targets].filter(K=>g.initialTarget instanceof Node&&K.contains(g.initialTarget));this.inertia(t,D,l,Math.abs(x)/b,x>0?1:-1,p,Math.abs(E)/b,E>0?1:-1,m)}this.dispatchEvent(this.newGestureEvent(Gi.End,g.initialTarget)),delete this.activeTouches[_.identifier]}this.dispatched&&(r.preventDefault(),r.stopPropagation(),this.dispatched=!1)}newGestureEvent(t,r){let l=document.createEvent("CustomEvent");return l.initEvent(t,!1,!0),l.initialTarget=r,l.tapCount=0,l}dispatchEvent(t){if(t.type===Gi.Tap){let r=new Date().getTime(),l=0;r-this._lastSetTapCountTime>$t.CLEAR_TAP_COUNT_TIME?l=1:l=2,this._lastSetTapCountTime=r,t.tapCount=l}else(t.type===Gi.Change||t.type===Gi.Contextmenu)&&(this._lastSetTapCountTime=0);if(t.initialTarget instanceof Node){for(let l of this.ignoreTargets)if(l.contains(t.initialTarget))return;let r=[];for(let l of this.targets)if(l.contains(t.initialTarget)){let o=0,h=t.initialTarget;for(;h&&h!==l;)o++,h=h.parentElement;r.push([o,l])}r.sort((l,o)=>l[0]-o[0]);for(let[l,o]of r)o.dispatchEvent(t),this.dispatched=!0}}inertia(t,r,l,o,h,u,_,g,f){this.handle=rf(t,()=>{let p=Date.now(),m=p-l,b=0,x=0,E=!0;o+=$t.SCROLL_FRICTION*m,_+=$t.SCROLL_FRICTION*m,o>0&&(E=!1,b=h*o*m),_>0&&(E=!1,x=g*_*m);let D=this.newGestureEvent(Gi.Change);D.translationX=b,D.translationY=x,r.forEach(K=>K.dispatchEvent(D)),E||this.inertia(t,r,p,o,h,u+b,_,g,f+x)})}onTouchMove(t){let r=Date.now();for(let l=0,o=t.changedTouches.length;l<o;l++){let h=t.changedTouches.item(l);if(!this.activeTouches.hasOwnProperty(String(h.identifier))){console.warn("end of an UNKNOWN touch",h);continue}let u=this.activeTouches[h.identifier],_=this.newGestureEvent(Gi.Change,u.initialTarget);_.translationX=h.pageX-vi(u.rollingPageX),_.translationY=h.pageY-vi(u.rollingPageY),_.pageX=h.pageX,_.pageY=h.pageY,this.dispatchEvent(_),u.rollingPageX.length>3&&(u.rollingPageX.shift(),u.rollingPageY.shift(),u.rollingTimestamps.shift()),u.rollingPageX.push(h.pageX),u.rollingPageY.push(h.pageY),u.rollingTimestamps.push(r)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}};Zl.SCROLL_FRICTION=-.005,Zl.HOLD_DELAY=700,Zl.CLEAR_TAP_COUNT_TIME=400,st([w5],Zl,"isTouchDevice",1);var C5=Zl,nf=class extends we{onclick(e,t){this._register(ve(e,bt.CLICK,r=>t(new Ho(Vi(e),r))))}onmousedown(e,t){this._register(ve(e,bt.MOUSE_DOWN,r=>t(new Ho(Vi(e),r))))}onmouseover(e,t){this._register(ve(e,bt.MOUSE_OVER,r=>t(new Ho(Vi(e),r))))}onmouseleave(e,t){this._register(ve(e,bt.MOUSE_LEAVE,r=>t(new Ho(Vi(e),r))))}onkeydown(e,t){this._register(ve(e,bt.KEY_DOWN,r=>t(new nm(r))))}onkeyup(e,t){this._register(ve(e,bt.KEY_UP,r=>t(new nm(r))))}oninput(e,t){this._register(ve(e,bt.INPUT,t))}onblur(e,t){this._register(ve(e,bt.BLUR,t))}onfocus(e,t){this._register(ve(e,bt.FOCUS,t))}onchange(e,t){this._register(ve(e,bt.CHANGE,t))}ignoreGesture(e){return C5.ignoreTarget(e)}},um=11,E5=class extends nf{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.style.position="absolute",this.domNode.style.width=um+"px",this.domNode.style.height=um+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new e1),this._register(hm(this.bgDomNode,bt.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._register(hm(this.domNode,bt.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._pointerdownRepeatTimer=this._register(new y5),this._pointerdownScheduleRepeatTimer=this._register(new sf)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,Vi(e))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(t,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,r=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}},M5=class wd{constructor(t,r,l,o,h,u,_){this._forceIntegerValues=t,this._scrollStateBrand=void 0,this._forceIntegerValues&&(r=r|0,l=l|0,o=o|0,h=h|0,u=u|0,_=_|0),this.rawScrollLeft=o,this.rawScrollTop=_,r<0&&(r=0),o+r>l&&(o=l-r),o<0&&(o=0),h<0&&(h=0),_+h>u&&(_=u-h),_<0&&(_=0),this.width=r,this.scrollWidth=l,this.scrollLeft=o,this.height=h,this.scrollHeight=u,this.scrollTop=_}equals(t){return this.rawScrollLeft===t.rawScrollLeft&&this.rawScrollTop===t.rawScrollTop&&this.width===t.width&&this.scrollWidth===t.scrollWidth&&this.scrollLeft===t.scrollLeft&&this.height===t.height&&this.scrollHeight===t.scrollHeight&&this.scrollTop===t.scrollTop}withScrollDimensions(t,r){return new wd(this._forceIntegerValues,typeof t.width<"u"?t.width:this.width,typeof t.scrollWidth<"u"?t.scrollWidth:this.scrollWidth,r?this.rawScrollLeft:this.scrollLeft,typeof t.height<"u"?t.height:this.height,typeof t.scrollHeight<"u"?t.scrollHeight:this.scrollHeight,r?this.rawScrollTop:this.scrollTop)}withScrollPosition(t){return new wd(this._forceIntegerValues,this.width,this.scrollWidth,typeof t.scrollLeft<"u"?t.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof t.scrollTop<"u"?t.scrollTop:this.rawScrollTop)}createScrollEvent(t,r){let l=this.width!==t.width,o=this.scrollWidth!==t.scrollWidth,h=this.scrollLeft!==t.scrollLeft,u=this.height!==t.height,_=this.scrollHeight!==t.scrollHeight,g=this.scrollTop!==t.scrollTop;return{inSmoothScrolling:r,oldWidth:t.width,oldScrollWidth:t.scrollWidth,oldScrollLeft:t.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:t.height,oldScrollHeight:t.scrollHeight,oldScrollTop:t.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:l,scrollWidthChanged:o,scrollLeftChanged:h,heightChanged:u,scrollHeightChanged:_,scrollTopChanged:g}}},k5=class extends we{constructor(e){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new ne),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new M5(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){let r=this._state.withScrollDimensions(e,t);this._setState(r,!!this._smoothScrolling),this._smoothScrolling?.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){let t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};let r=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===r.scrollLeft&&this._smoothScrolling.to.scrollTop===r.scrollTop)return;let l;t?l=new fm(this._smoothScrolling.from,r,this._smoothScrolling.startTime,this._smoothScrolling.duration):l=this._smoothScrolling.combine(this._state,r,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=l}else{let r=this._state.withScrollPosition(e);this._smoothScrolling=fm.start(this._state,r,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;let e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){let r=this._state;r.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(r,t)))}},dm=class{constructor(e,t,r){this.scrollLeft=e,this.scrollTop=t,this.isDone=r}};function Ku(e,t){let r=t-e;return function(l){return e+r*T5(l)}}function L5(e,t,r){return function(l){return l<r?e(l/r):t((l-r)/(1-r))}}var fm=class Cd{constructor(t,r,l,o){this.from=t,this.to=r,this.duration=o,this.startTime=l,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(t,r,l){if(Math.abs(t-r)>2.5*l){let o,h;return t<r?(o=t+.75*l,h=r-.75*l):(o=t-.75*l,h=r+.75*l),L5(Ku(t,o),Ku(h,r),.33)}return Ku(t,r)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(t){this.to=t.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(t){let r=(t-this.startTime)/this.duration;if(r<1){let l=this.scrollLeft(r),o=this.scrollTop(r);return new dm(l,o,!1)}return new dm(this.to.scrollLeft,this.to.scrollTop,!0)}combine(t,r,l){return Cd.start(t,r,l)}static start(t,r,l){l=l+10;let o=Date.now()-10;return new Cd(t,r,o,l)}};function A5(e){return Math.pow(e,3)}function T5(e){return 1-A5(1-e)}var R5=class extends we{constructor(e,t,r){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=r,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new sf)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){let e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode?.setClassName(this._visibleClassName)},0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode?.setClassName(this._invisibleClassName+(e?" fade":"")))}},D5=140,t1=class extends nf{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new R5(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new e1),this._shouldRender=!0,this.domNode=ia(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(ve(this.domNode.domNode,bt.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(e){let t=this._register(new E5(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,r,l){this.slider=ia(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof r=="number"&&this.slider.setWidth(r),typeof l=="number"&&this.slider.setHeight(l),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(ve(this.slider.domNode,bt.POINTER_DOWN,o=>{o.button===0&&(o.preventDefault(),this._sliderPointerDown(o))})),this.onclick(this.slider.domNode,o=>{o.leftButton&&o.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){let t=this.domNode.domNode.getClientRects()[0].top,r=t+this._scrollbarState.getSliderPosition(),l=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderPointerPosition(e);r<=o&&o<=l?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,r;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")t=e.offsetX,r=e.offsetY;else{let o=b5(this.domNode.domNode);t=e.pageX-o.left,r=e.pageY-o.top}let l=this._pointerDownRelativePosition(t,r);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(l):this._scrollbarState.getDesiredScrollPositionFromOffset(l)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=this._sliderPointerPosition(e),r=this._sliderOrthogonalPointerPosition(e),l=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,o=>{let h=this._sliderOrthogonalPointerPosition(o),u=Math.abs(h-r);if(X0&&u>D5){this._setDesiredScrollPositionNow(l.getScrollPosition());return}let _=this._sliderPointerPosition(o)-t;this._setDesiredScrollPositionNow(l.getDesiredScrollPositionFromDelta(_))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){let t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}},i1=class Ed{constructor(t,r,l,o,h,u){this._scrollbarSize=Math.round(r),this._oppositeScrollbarSize=Math.round(l),this._arrowSize=Math.round(t),this._visibleSize=o,this._scrollSize=h,this._scrollPosition=u,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new Ed(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(t){let r=Math.round(t);return this._visibleSize!==r?(this._visibleSize=r,this._refreshComputedValues(),!0):!1}setScrollSize(t){let r=Math.round(t);return this._scrollSize!==r?(this._scrollSize=r,this._refreshComputedValues(),!0):!1}setScrollPosition(t){let r=Math.round(t);return this._scrollPosition!==r?(this._scrollPosition=r,this._refreshComputedValues(),!0):!1}setScrollbarSize(t){this._scrollbarSize=Math.round(t)}setOppositeScrollbarSize(t){this._oppositeScrollbarSize=Math.round(t)}static _computeValues(t,r,l,o,h){let u=Math.max(0,l-t),_=Math.max(0,u-2*r),g=o>0&&o>l;if(!g)return{computedAvailableSize:Math.round(u),computedIsNeeded:g,computedSliderSize:Math.round(_),computedSliderRatio:0,computedSliderPosition:0};let f=Math.round(Math.max(20,Math.floor(l*_/o))),p=(_-f)/(o-l),m=h*p;return{computedAvailableSize:Math.round(u),computedIsNeeded:g,computedSliderSize:Math.round(f),computedSliderRatio:p,computedSliderPosition:Math.round(m)}}_refreshComputedValues(){let t=Ed._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=t.computedAvailableSize,this._computedIsNeeded=t.computedIsNeeded,this._computedSliderSize=t.computedSliderSize,this._computedSliderRatio=t.computedSliderRatio,this._computedSliderPosition=t.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(t){if(!this._computedIsNeeded)return 0;let r=t-this._arrowSize-this._computedSliderSize/2;return Math.round(r/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(t){if(!this._computedIsNeeded)return 0;let r=t-this._arrowSize,l=this._scrollPosition;return r<this._computedSliderPosition?l-=this._visibleSize:l+=this._visibleSize,l}getDesiredScrollPositionFromDelta(t){if(!this._computedIsNeeded)return 0;let r=this._computedSliderPosition+t;return Math.round(r/this._computedSliderRatio)}},B5=class extends t1{constructor(e,t,r){let l=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:r,scrollbarState:new i1(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,l.width,l.scrollWidth,o.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows)throw new Error("horizontalHasArrows is not supported in xterm.js");this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}},z5=class extends t1{constructor(e,t,r){let l=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:r,scrollbarState:new i1(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,l.height,l.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows)throw new Error("horizontalHasArrows is not supported in xterm.js");this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}},O5=500,_m=50,N5=class{constructor(e,t,r){this.timestamp=e,this.deltaX=t,this.deltaY=r,this.score=0}},Md=class{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let t=1,r=0,l=1,o=this._rear;do{let h=o===this._front?t:Math.pow(2,-l);if(t-=h,r+=this._memory[o].score*h,o===this._front)break;o=(this._capacity+o-1)%this._capacity,l++}while(!0);return r<=.5}acceptStandardWheelEvent(t){if(ef){let r=Vi(t.browserEvent),l=Kw(r);this.accept(Date.now(),t.deltaX*l,t.deltaY*l)}else this.accept(Date.now(),t.deltaX,t.deltaY)}accept(t,r,l){let o=null,h=new N5(t,r,l);this._front===-1&&this._rear===-1?(this._memory[0]=h,this._front=0,this._rear=0):(o=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=h),h.score=this._computeScore(h,o)}_computeScore(t,r){if(Math.abs(t.deltaX)>0&&Math.abs(t.deltaY)>0)return 1;let l=.5;if((!this._isAlmostInt(t.deltaX)||!this._isAlmostInt(t.deltaY))&&(l+=.25),r){let o=Math.abs(t.deltaX),h=Math.abs(t.deltaY),u=Math.abs(r.deltaX),_=Math.abs(r.deltaY),g=Math.max(Math.min(o,u),1),f=Math.max(Math.min(h,_),1),p=Math.max(o,u),m=Math.max(h,_);p%g===0&&m%f===0&&(l-=.5)}return Math.min(Math.max(l,0),1)}_isAlmostInt(t){return Math.abs(Math.round(t)-t)<.01}};Md.INSTANCE=new Md;var H5=Md,j5=class extends nf{constructor(e,t,r){super(),this._onScroll=this._register(new ne),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new ne),this.onWillScroll=this._onWillScroll.event,this._options=$5(t),this._scrollable=r,this._register(this._scrollable.onScroll(o=>{this._onWillScroll.fire(o),this._onDidScroll(o),this._onScroll.fire(o)}));let l={onMouseWheel:o=>this._onMouseWheel(o),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new z5(this._scrollable,this._options,l)),this._horizontalScrollbar=this._register(new B5(this._scrollable,this._options,l)),this._domNode=document.createElement("div"),this._domNode.className="xterm-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=ia(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=ia(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=ia(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,o=>this._onMouseOver(o)),this.onmouseleave(this._listenOnDomNode,o=>this._onMouseLeave(o)),this._hideTimeout=this._register(new sf),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=jr(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,Xi&&(this._options.className+=" mac"),this._domNode.className="xterm-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}setRevealOnScroll(e){this._revealOnScroll=e}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new am(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=jr(this._mouseWheelToDispose),e)){let t=r=>{this._onMouseWheel(new am(r))};this._mouseWheelToDispose.push(ve(this._listenOnDomNode,bt.MOUSE_WHEEL,t,{passive:!1}))}}_onMouseWheel(e){if(e.browserEvent?.defaultPrevented)return;let t=H5.INSTANCE;t.acceptStandardWheelEvent(e);let r=!1;if(e.deltaY||e.deltaX){let o=e.deltaY*this._options.mouseWheelScrollSensitivity,h=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&h+o===0?h=o=0:Math.abs(o)>=Math.abs(h)?h=0:o=0),this._options.flipAxes&&([o,h]=[h,o]);let u=!Xi&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||u)&&!h&&(h=o,o=0),e.browserEvent&&e.browserEvent.altKey&&(h=h*this._options.fastScrollSensitivity,o=o*this._options.fastScrollSensitivity);let _=this._scrollable.getFutureScrollPosition(),g={};if(o){let f=_m*o,p=_.scrollTop-(f<0?Math.floor(f):Math.ceil(f));this._verticalScrollbar.writeScrollPosition(g,p)}if(h){let f=_m*h,p=_.scrollLeft-(f<0?Math.floor(f):Math.ceil(f));this._horizontalScrollbar.writeScrollPosition(g,p)}g=this._scrollable.validateScrollPosition(g),(_.scrollLeft!==g.scrollLeft||_.scrollTop!==g.scrollTop)&&(this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(g):this._scrollable.setScrollPositionNow(g),r=!0)}let l=r;!l&&this._options.alwaysConsumeMouseWheel&&(l=!0),!l&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(l=!0),l&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){let e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,r=e.scrollLeft>0,l=r?" left":"",o=t?" top":"",h=r||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${l}`),this._topShadowDomNode.setClassName(`shadow${o}`),this._topLeftShadowDomNode.setClassName(`shadow${h}${o}${l}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),O5)}},U5=class extends j5{constructor(e,t,r){super(e,t,r)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}};function $5(e){let t={lazyRender:typeof e.lazyRender<"u"?e.lazyRender:!1,className:typeof e.className<"u"?e.className:"",useShadows:typeof e.useShadows<"u"?e.useShadows:!0,handleMouseWheel:typeof e.handleMouseWheel<"u"?e.handleMouseWheel:!0,flipAxes:typeof e.flipAxes<"u"?e.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof e.consumeMouseWheelIfScrollbarIsNeeded<"u"?e.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof e.alwaysConsumeMouseWheel<"u"?e.alwaysConsumeMouseWheel:!1,scrollYToX:typeof e.scrollYToX<"u"?e.scrollYToX:!1,mouseWheelScrollSensitivity:typeof e.mouseWheelScrollSensitivity<"u"?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof e.fastScrollSensitivity<"u"?e.fastScrollSensitivity:5,scrollPredominantAxis:typeof e.scrollPredominantAxis<"u"?e.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof e.mouseWheelSmoothScroll<"u"?e.mouseWheelSmoothScroll:!0,arrowSize:typeof e.arrowSize<"u"?e.arrowSize:11,listenOnDomNode:typeof e.listenOnDomNode<"u"?e.listenOnDomNode:null,horizontal:typeof e.horizontal<"u"?e.horizontal:1,horizontalScrollbarSize:typeof e.horizontalScrollbarSize<"u"?e.horizontalScrollbarSize:10,horizontalSliderSize:typeof e.horizontalSliderSize<"u"?e.horizontalSliderSize:0,horizontalHasArrows:typeof e.horizontalHasArrows<"u"?e.horizontalHasArrows:!1,vertical:typeof e.vertical<"u"?e.vertical:1,verticalScrollbarSize:typeof e.verticalScrollbarSize<"u"?e.verticalScrollbarSize:10,verticalHasArrows:typeof e.verticalHasArrows<"u"?e.verticalHasArrows:!1,verticalSliderSize:typeof e.verticalSliderSize<"u"?e.verticalSliderSize:0,scrollByPage:typeof e.scrollByPage<"u"?e.scrollByPage:!1};return t.horizontalSliderSize=typeof e.horizontalSliderSize<"u"?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize=typeof e.verticalSliderSize<"u"?e.verticalSliderSize:t.verticalScrollbarSize,Xi&&(t.className+=" mac"),t}var kd=class extends we{constructor(e,t,r,l,o,h,u,_){super(),this._bufferService=r,this._optionsService=u,this._renderService=_,this._onRequestScrollLines=this._register(new ne),this.onRequestScrollLines=this._onRequestScrollLines.event,this._isSyncing=!1,this._isHandlingScroll=!1,this._suppressOnScrollHandler=!1;let g=this._register(new k5({forceIntegerValues:!1,smoothScrollDuration:this._optionsService.rawOptions.smoothScrollDuration,scheduleAtNextAnimationFrame:f=>rf(l.window,f)}));this._register(this._optionsService.onSpecificOptionChange("smoothScrollDuration",()=>{g.setSmoothScrollDuration(this._optionsService.rawOptions.smoothScrollDuration)})),this._scrollableElement=this._register(new U5(t,{vertical:1,horizontal:2,useShadows:!1,mouseWheelSmoothScroll:!0,...this._getChangeOptions()},g)),this._register(this._optionsService.onMultipleOptionChange(["scrollSensitivity","fastScrollSensitivity","overviewRuler"],()=>this._scrollableElement.updateOptions(this._getChangeOptions()))),this._register(o.onProtocolChange(f=>{this._scrollableElement.updateOptions({handleMouseWheel:!(f&16)})})),this._scrollableElement.setScrollDimensions({height:0,scrollHeight:0}),this._register(Ht.runAndSubscribe(h.onChangeColors,()=>{this._scrollableElement.getDomNode().style.backgroundColor=h.colors.background.css})),e.appendChild(this._scrollableElement.getDomNode()),this._register(Ve(()=>this._scrollableElement.getDomNode().remove())),this._styleElement=l.mainDocument.createElement("style"),t.appendChild(this._styleElement),this._register(Ve(()=>this._styleElement.remove())),this._register(Ht.runAndSubscribe(h.onChangeColors,()=>{this._styleElement.textContent=[".xterm .xterm-scrollable-element > .scrollbar > .slider {",`  background: ${h.colors.scrollbarSliderBackground.css};`,"}",".xterm .xterm-scrollable-element > .scrollbar > .slider:hover {",`  background: ${h.colors.scrollbarSliderHoverBackground.css};`,"}",".xterm .xterm-scrollable-element > .scrollbar > .slider.active {",`  background: ${h.colors.scrollbarSliderActiveBackground.css};`,"}"].join(`
`)})),this._register(this._bufferService.onResize(()=>this.queueSync())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._latestYDisp=void 0,this.queueSync()})),this._register(this._bufferService.onScroll(()=>this._sync())),this._register(this._scrollableElement.onScroll(f=>this._handleScroll(f)))}scrollLines(e){let t=this._scrollableElement.getScrollPosition();this._scrollableElement.setScrollPosition({reuseAnimation:!0,scrollTop:t.scrollTop+e*this._renderService.dimensions.css.cell.height})}scrollToLine(e,t){t&&(this._latestYDisp=e),this._scrollableElement.setScrollPosition({reuseAnimation:!t,scrollTop:e*this._renderService.dimensions.css.cell.height})}_getChangeOptions(){return{mouseWheelScrollSensitivity:this._optionsService.rawOptions.scrollSensitivity,fastScrollSensitivity:this._optionsService.rawOptions.fastScrollSensitivity,verticalScrollbarSize:this._optionsService.rawOptions.overviewRuler?.width||14}}queueSync(e){e!==void 0&&(this._latestYDisp=e),this._queuedAnimationFrame===void 0&&(this._queuedAnimationFrame=this._renderService.addRefreshCallback(()=>{this._queuedAnimationFrame=void 0,this._sync(this._latestYDisp)}))}_sync(e=this._bufferService.buffer.ydisp){!this._renderService||this._isSyncing||(this._isSyncing=!0,this._suppressOnScrollHandler=!0,this._scrollableElement.setScrollDimensions({height:this._renderService.dimensions.css.canvas.height,scrollHeight:this._renderService.dimensions.css.cell.height*this._bufferService.buffer.lines.length}),this._suppressOnScrollHandler=!1,e!==this._latestYDisp&&this._scrollableElement.setScrollPosition({scrollTop:e*this._renderService.dimensions.css.cell.height}),this._isSyncing=!1)}_handleScroll(e){if(!this._renderService||this._isHandlingScroll||this._suppressOnScrollHandler)return;this._isHandlingScroll=!0;let t=Math.round(e.scrollTop/this._renderService.dimensions.css.cell.height),r=t-this._bufferService.buffer.ydisp;r!==0&&(this._latestYDisp=t,this._onRequestScrollLines.fire(r)),this._isHandlingScroll=!1}};kd=st([he(2,Kt),he(3,ks),he(4,N0),he(5,Un),he(6,Gt),he(7,Ls)],kd);var Ld=class extends we{constructor(e,t,r,l,o){super(),this._screenElement=e,this._bufferService=t,this._coreBrowserService=r,this._decorationService=l,this._renderService=o,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this._register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this._register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this._register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this._register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this._register(this._decorationService.onDecorationRemoved(h=>this._removeDecoration(h))),this._register(Ve(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(let e of this._decorationService.decorations)this._renderDecoration(e);this._dimensionsChanged=!1}_renderDecoration(e){this._refreshStyle(e),this._dimensionsChanged&&this._refreshXPosition(e)}_createElement(e){let t=this._coreBrowserService.mainDocument.createElement("div");t.classList.add("xterm-decoration"),t.classList.toggle("xterm-decoration-top-layer",e?.options?.layer==="top"),t.style.width=`${Math.round((e.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,t.style.height=`${(e.options.height||1)*this._renderService.dimensions.css.cell.height}px`,t.style.top=`${(e.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height}px`,t.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;let r=e.options.x??0;return r&&r>this._bufferService.cols&&(t.style.display="none"),this._refreshXPosition(e,t),t}_refreshStyle(e){let t=e.marker.line-this._bufferService.buffers.active.ydisp;if(t<0||t>=this._bufferService.rows)e.element&&(e.element.style.display="none",e.onRenderEmitter.fire(e.element));else{let r=this._decorationElements.get(e);r||(r=this._createElement(e),e.element=r,this._decorationElements.set(e,r),this._container.appendChild(r),e.onDispose(()=>{this._decorationElements.delete(e),r.remove()})),r.style.display=this._altBufferIsActive?"none":"block",this._altBufferIsActive||(r.style.width=`${Math.round((e.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,r.style.height=`${(e.options.height||1)*this._renderService.dimensions.css.cell.height}px`,r.style.top=`${t*this._renderService.dimensions.css.cell.height}px`,r.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`),e.onRenderEmitter.fire(r)}}_refreshXPosition(e,t=e.element){if(!t)return;let r=e.options.x??0;(e.options.anchor||"left")==="right"?t.style.right=r?`${r*this._renderService.dimensions.css.cell.width}px`:"":t.style.left=r?`${r*this._renderService.dimensions.css.cell.width}px`:""}_removeDecoration(e){this._decorationElements.get(e)?.remove(),this._decorationElements.delete(e),e.dispose()}};Ld=st([he(1,Kt),he(2,ks),he(3,ha),he(4,Ls)],Ld);var P5=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(e){if(e.options.overviewRulerOptions){for(let t of this._zones)if(t.color===e.options.overviewRulerOptions.color&&t.position===e.options.overviewRulerOptions.position){if(this._lineIntersectsZone(t,e.marker.line))return;if(this._lineAdjacentToZone(t,e.marker.line,e.options.overviewRulerOptions.position)){this._addLineToZone(t,e.marker.line);return}}if(this._zonePoolIndex<this._zonePool.length){this._zonePool[this._zonePoolIndex].color=e.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=e.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=e.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=e.marker.line,this._zones.push(this._zonePool[this._zonePoolIndex++]);return}this._zones.push({color:e.options.overviewRulerOptions.color,position:e.options.overviewRulerOptions.position,startBufferLine:e.marker.line,endBufferLine:e.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(e){this._linePadding=e}_lineIntersectsZone(e,t){return t>=e.startBufferLine&&t<=e.endBufferLine}_lineAdjacentToZone(e,t,r){return t>=e.startBufferLine-this._linePadding[r||"full"]&&t<=e.endBufferLine+this._linePadding[r||"full"]}_addLineToZone(e,t){e.startBufferLine=Math.min(e.startBufferLine,t),e.endBufferLine=Math.max(e.endBufferLine,t)}},Ii={full:0,left:0,center:0,right:0},sr={full:0,left:0,center:0,right:0},ql={full:0,left:0,center:0,right:0},ih=class extends we{constructor(e,t,r,l,o,h,u,_){super(),this._viewportElement=e,this._screenElement=t,this._bufferService=r,this._decorationService=l,this._renderService=o,this._optionsService=h,this._themeService=u,this._coreBrowserService=_,this._colorZoneStore=new P5,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),this._viewportElement.parentElement?.insertBefore(this._canvas,this._viewportElement),this._register(Ve(()=>this._canvas?.remove()));let g=this._canvas.getContext("2d");if(g)this._ctx=g;else throw new Error("Ctx cannot be null");this._register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this._register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0))),this._register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this._register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})),this._register(this._renderService.onRender(()=>{(!this._containerHeight||this._containerHeight!==this._screenElement.clientHeight)&&(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this._register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._register(this._optionsService.onSpecificOptionChange("overviewRuler",()=>this._queueRefresh(!0))),this._register(this._themeService.onChangeColors(()=>this._queueRefresh())),this._queueRefresh(!0)}get _width(){return this._optionsService.options.overviewRuler?.width||0}_refreshDrawConstants(){let e=Math.floor((this._canvas.width-1)/3),t=Math.ceil((this._canvas.width-1)/3);sr.full=this._canvas.width,sr.left=e,sr.center=t,sr.right=e,this._refreshDrawHeightConstants(),ql.full=1,ql.left=1,ql.center=1+sr.left,ql.right=1+sr.left+sr.center}_refreshDrawHeightConstants(){Ii.full=Math.round(2*this._coreBrowserService.dpr);let e=this._canvas.height/this._bufferService.buffer.lines.length,t=Math.round(Math.max(Math.min(e,12),6)*this._coreBrowserService.dpr);Ii.left=t,Ii.center=t,Ii.right=t}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Ii.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Ii.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Ii.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Ii.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(let t of this._decorationService.decorations)this._colorZoneStore.addDecoration(t);this._ctx.lineWidth=1,this._renderRulerOutline();let e=this._colorZoneStore.zones;for(let t of e)t.position!=="full"&&this._renderColorZone(t);for(let t of e)t.position==="full"&&this._renderColorZone(t);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderRulerOutline(){this._ctx.fillStyle=this._themeService.colors.overviewRulerBorder.css,this._ctx.fillRect(0,0,1,this._canvas.height),this._optionsService.rawOptions.overviewRuler.showTopBorder&&this._ctx.fillRect(1,0,this._canvas.width-1,1),this._optionsService.rawOptions.overviewRuler.showBottomBorder&&this._ctx.fillRect(1,this._canvas.height-1,this._canvas.width-1,this._canvas.height)}_renderColorZone(e){this._ctx.fillStyle=e.color,this._ctx.fillRect(ql[e.position||"full"],Math.round((this._canvas.height-1)*(e.startBufferLine/this._bufferService.buffers.active.lines.length)-Ii[e.position||"full"]/2),sr[e.position||"full"],Math.round((this._canvas.height-1)*((e.endBufferLine-e.startBufferLine)/this._bufferService.buffers.active.lines.length)+Ii[e.position||"full"]))}_queueRefresh(e,t){this._shouldUpdateDimensions=e||this._shouldUpdateDimensions,this._shouldUpdateAnchor=t||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};ih=st([he(2,Kt),he(3,ha),he(4,Ls),he(5,Gt),he(6,Un),he(7,ks)],ih);var J;(e=>(e.NUL="\0",e.SOH="",e.STX="",e.ETX="",e.EOT="",e.ENQ="",e.ACK="",e.BEL="\x07",e.BS="\b",e.HT="	",e.LF=`
`,e.VT="\v",e.FF="\f",e.CR="\r",e.SO="",e.SI="",e.DLE="",e.DC1="",e.DC2="",e.DC3="",e.DC4="",e.NAK="",e.SYN="",e.ETB="",e.CAN="",e.EM="",e.SUB="",e.ESC="\x1B",e.FS="",e.GS="",e.RS="",e.US="",e.SP=" ",e.DEL=""))(J||={});var Xo;(e=>(e.PAD="",e.HOP="",e.BPH="",e.NBH="",e.IND="",e.NEL="",e.SSA="",e.ESA="",e.HTS="",e.HTJ="",e.VTS="",e.PLD="",e.PLU="",e.RI="",e.SS2="",e.SS3="",e.DCS="",e.PU1="",e.PU2="",e.STS="",e.CCH="",e.MW="",e.SPA="",e.EPA="",e.SOS="",e.SGCI="",e.SCI="",e.CSI="",e.ST="",e.OSC="",e.PM="",e.APC=""))(Xo||={});var s1;(e=>e.ST=`${J.ESC}\\`)(s1||={});var Ad=class{constructor(e,t,r,l,o,h){this._textarea=e,this._compositionView=t,this._bufferService=r,this._optionsService=l,this._coreService=o,this._renderService=h,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(e){this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(e){if(this._isComposing||this._isSendingComposition){if(e.keyCode===20||e.keyCode===229||e.keyCode===16||e.keyCode===17||e.keyCode===18)return!1;this._finalizeComposition(!1)}return e.keyCode===229?(this._handleAnyTextareaChanges(),!1):!0}_finalizeComposition(e){if(this._compositionView.classList.remove("active"),this._isComposing=!1,e){let t={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){this._isSendingComposition=!1;let r;t.start+=this._dataAlreadySent.length,this._isComposing?r=this._textarea.value.substring(t.start,this._compositionPosition.start):r=this._textarea.value.substring(t.start),r.length>0&&this._coreService.triggerDataEvent(r,!0)}},0)}else{this._isSendingComposition=!1;let t=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(t,!0)}}_handleAnyTextareaChanges(){let e=this._textarea.value;setTimeout(()=>{if(!this._isComposing){let t=this._textarea.value,r=t.replace(e,"");this._dataAlreadySent=r,t.length>e.length?this._coreService.triggerDataEvent(r,!0):t.length<e.length?this._coreService.triggerDataEvent(`${J.DEL}`,!0):t.length===e.length&&t!==e&&this._coreService.triggerDataEvent(t,!0)}},0)}updateCompositionElements(e){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){let t=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),r=this._renderService.dimensions.css.cell.height,l=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,o=t*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=o+"px",this._compositionView.style.top=l+"px",this._compositionView.style.height=r+"px",this._compositionView.style.lineHeight=r+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";let h=this._compositionView.getBoundingClientRect();this._textarea.style.left=o+"px",this._textarea.style.top=l+"px",this._textarea.style.width=Math.max(h.width,1)+"px",this._textarea.style.height=Math.max(h.height,1)+"px",this._textarea.style.lineHeight=h.height+"px"}e||setTimeout(()=>this.updateCompositionElements(!0),0)}}};Ad=st([he(2,Kt),he(3,Gt),he(4,$r),he(5,Ls)],Ad);var Et=0,Mt=0,kt=0,it=0,gm={css:"#00000000",rgba:0},ft;(e=>{function t(o,h,u,_){return _!==void 0?`#${Tr(o)}${Tr(h)}${Tr(u)}${Tr(_)}`:`#${Tr(o)}${Tr(h)}${Tr(u)}`}e.toCss=t;function r(o,h,u,_=255){return(o<<24|h<<16|u<<8|_)>>>0}e.toRgba=r;function l(o,h,u,_){return{css:e.toCss(o,h,u,_),rgba:e.toRgba(o,h,u,_)}}e.toColor=l})(ft||={});var Ie;(e=>{function t(g,f){if(it=(f.rgba&255)/255,it===1)return{css:f.css,rgba:f.rgba};let p=f.rgba>>24&255,m=f.rgba>>16&255,b=f.rgba>>8&255,x=g.rgba>>24&255,E=g.rgba>>16&255,D=g.rgba>>8&255;Et=x+Math.round((p-x)*it),Mt=E+Math.round((m-E)*it),kt=D+Math.round((b-D)*it);let K=ft.toCss(Et,Mt,kt),W=ft.toRgba(Et,Mt,kt);return{css:K,rgba:W}}e.blend=t;function r(g){return(g.rgba&255)===255}e.isOpaque=r;function l(g,f,p){let m=Zo.ensureContrastRatio(g.rgba,f.rgba,p);if(m)return ft.toColor(m>>24&255,m>>16&255,m>>8&255)}e.ensureContrastRatio=l;function o(g){let f=(g.rgba|255)>>>0;return[Et,Mt,kt]=Zo.toChannels(f),{css:ft.toCss(Et,Mt,kt),rgba:f}}e.opaque=o;function h(g,f){return it=Math.round(f*255),[Et,Mt,kt]=Zo.toChannels(g.rgba),{css:ft.toCss(Et,Mt,kt,it),rgba:ft.toRgba(Et,Mt,kt,it)}}e.opacity=h;function u(g,f){return it=g.rgba&255,h(g,it*f/255)}e.multiplyOpacity=u;function _(g){return[g.rgba>>24&255,g.rgba>>16&255,g.rgba>>8&255]}e.toColorRGB=_})(Ie||={});var Ze;(e=>{let t,r;try{let o=document.createElement("canvas");o.width=1,o.height=1;let h=o.getContext("2d",{willReadFrequently:!0});h&&(t=h,t.globalCompositeOperation="copy",r=t.createLinearGradient(0,0,1,1))}catch{}function l(o){if(o.match(/#[\da-f]{3,8}/i))switch(o.length){case 4:return Et=parseInt(o.slice(1,2).repeat(2),16),Mt=parseInt(o.slice(2,3).repeat(2),16),kt=parseInt(o.slice(3,4).repeat(2),16),ft.toColor(Et,Mt,kt);case 5:return Et=parseInt(o.slice(1,2).repeat(2),16),Mt=parseInt(o.slice(2,3).repeat(2),16),kt=parseInt(o.slice(3,4).repeat(2),16),it=parseInt(o.slice(4,5).repeat(2),16),ft.toColor(Et,Mt,kt,it);case 7:return{css:o,rgba:(parseInt(o.slice(1),16)<<8|255)>>>0};case 9:return{css:o,rgba:parseInt(o.slice(1),16)>>>0}}let h=o.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(h)return Et=parseInt(h[1]),Mt=parseInt(h[2]),kt=parseInt(h[3]),it=Math.round((h[5]===void 0?1:parseFloat(h[5]))*255),ft.toColor(Et,Mt,kt,it);if(!t||!r)throw new Error("css.toColor: Unsupported css format");if(t.fillStyle=r,t.fillStyle=o,typeof t.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(t.fillRect(0,0,1,1),[Et,Mt,kt,it]=t.getImageData(0,0,1,1).data,it!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:ft.toRgba(Et,Mt,kt,it),css:o}}e.toColor=l})(Ze||={});var Yt;(e=>{function t(l){return r(l>>16&255,l>>8&255,l&255)}e.relativeLuminance=t;function r(l,o,h){let u=l/255,_=o/255,g=h/255,f=u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4),p=_<=.03928?_/12.92:Math.pow((_+.055)/1.055,2.4),m=g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4);return f*.2126+p*.7152+m*.0722}e.relativeLuminance2=r})(Yt||={});var Zo;(e=>{function t(u,_){if(it=(_&255)/255,it===1)return _;let g=_>>24&255,f=_>>16&255,p=_>>8&255,m=u>>24&255,b=u>>16&255,x=u>>8&255;return Et=m+Math.round((g-m)*it),Mt=b+Math.round((f-b)*it),kt=x+Math.round((p-x)*it),ft.toRgba(Et,Mt,kt)}e.blend=t;function r(u,_,g){let f=Yt.relativeLuminance(u>>8),p=Yt.relativeLuminance(_>>8);if(bs(f,p)<g){if(p<f){let x=l(u,_,g),E=bs(f,Yt.relativeLuminance(x>>8));if(E<g){let D=o(u,_,g),K=bs(f,Yt.relativeLuminance(D>>8));return E>K?x:D}return x}let m=o(u,_,g),b=bs(f,Yt.relativeLuminance(m>>8));if(b<g){let x=l(u,_,g),E=bs(f,Yt.relativeLuminance(x>>8));return b>E?m:x}return m}}e.ensureContrastRatio=r;function l(u,_,g){let f=u>>24&255,p=u>>16&255,m=u>>8&255,b=_>>24&255,x=_>>16&255,E=_>>8&255,D=bs(Yt.relativeLuminance2(b,x,E),Yt.relativeLuminance2(f,p,m));for(;D<g&&(b>0||x>0||E>0);)b-=Math.max(0,Math.ceil(b*.1)),x-=Math.max(0,Math.ceil(x*.1)),E-=Math.max(0,Math.ceil(E*.1)),D=bs(Yt.relativeLuminance2(b,x,E),Yt.relativeLuminance2(f,p,m));return(b<<24|x<<16|E<<8|255)>>>0}e.reduceLuminance=l;function o(u,_,g){let f=u>>24&255,p=u>>16&255,m=u>>8&255,b=_>>24&255,x=_>>16&255,E=_>>8&255,D=bs(Yt.relativeLuminance2(b,x,E),Yt.relativeLuminance2(f,p,m));for(;D<g&&(b<255||x<255||E<255);)b=Math.min(255,b+Math.ceil((255-b)*.1)),x=Math.min(255,x+Math.ceil((255-x)*.1)),E=Math.min(255,E+Math.ceil((255-E)*.1)),D=bs(Yt.relativeLuminance2(b,x,E),Yt.relativeLuminance2(f,p,m));return(b<<24|x<<16|E<<8|255)>>>0}e.increaseLuminance=o;function h(u){return[u>>24&255,u>>16&255,u>>8&255,u&255]}e.toChannels=h})(Zo||={});function Tr(e){let t=e.toString(16);return t.length<2?"0"+t:t}function bs(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}var F5=class extends oa{constructor(e,t,r){super(),this.content=0,this.combinedData="",this.fg=e.fg,this.bg=e.bg,this.combinedData=t,this._width=r}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(e){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}},sh=class{constructor(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new Ni}register(e){let t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id}deregister(e){for(let t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1}getJoinedCharacters(e){if(this._characterJoiners.length===0)return[];let t=this._bufferService.buffer.lines.get(e);if(!t||t.length===0)return[];let r=[],l=t.translateToString(!0),o=0,h=0,u=0,_=t.getFg(0),g=t.getBg(0);for(let f=0;f<t.getTrimmedLength();f++)if(t.loadCell(f,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==_||this._workCell.bg!==g){if(f-o>1){let p=this._getJoinedRanges(l,u,h,t,o);for(let m=0;m<p.length;m++)r.push(p[m])}o=f,u=h,_=this._workCell.fg,g=this._workCell.bg}h+=this._workCell.getChars().length||or.length}if(this._bufferService.cols-o>1){let f=this._getJoinedRanges(l,u,h,t,o);for(let p=0;p<f.length;p++)r.push(f[p])}return r}_getJoinedRanges(e,t,r,l,o){let h=e.substring(t,r),u=[];try{u=this._characterJoiners[0].handler(h)}catch(_){console.error(_)}for(let _=1;_<this._characterJoiners.length;_++)try{let g=this._characterJoiners[_].handler(h);for(let f=0;f<g.length;f++)sh._mergeRanges(u,g[f])}catch(g){console.error(g)}return this._stringRangesToCellRanges(u,l,o),u}_stringRangesToCellRanges(e,t,r){let l=0,o=!1,h=0,u=e[l];if(u){for(let _=r;_<this._bufferService.cols;_++){let g=t.getWidth(_),f=t.getString(_).length||or.length;if(g!==0){if(!o&&u[0]<=h&&(u[0]=_,o=!0),u[1]<=h){if(u[1]=_,u=e[++l],!u)break;u[0]<=h?(u[0]=_,o=!0):o=!1}h+=f}}u&&(u[1]=this._bufferService.cols)}}static _mergeRanges(e,t){let r=!1;for(let l=0;l<e.length;l++){let o=e[l];if(r){if(t[1]<=o[0])return e[l-1][1]=t[1],e;if(t[1]<=o[1])return e[l-1][1]=Math.max(t[1],o[1]),e.splice(l,1),e;e.splice(l,1),l--}else{if(t[1]<=o[0])return e.splice(l,0,t),e;if(t[1]<=o[1])return o[0]=Math.min(t[0],o[0]),e;t[0]<o[1]&&(o[0]=Math.min(t[0],o[0]),r=!0);continue}}return r?e[e.length-1][1]=t[1]:e.push(t),e}};sh=st([he(0,Kt)],sh);function W5(e){return 57508<=e&&e<=57558}function q5(e){return 9472<=e&&e<=9631}function Y5(e){return W5(e)||q5(e)}function I5(){return{css:{canvas:jo(),cell:jo()},device:{canvas:jo(),cell:jo(),char:{width:0,height:0,left:0,top:0}}}}function jo(){return{width:0,height:0}}var Td=class{constructor(e,t,r,l,o,h,u){this._document=e,this._characterJoinerService=t,this._optionsService=r,this._coreBrowserService=l,this._coreService=o,this._decorationService=h,this._themeService=u,this._workCell=new Ni,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(e,t,r){this._selectionStart=e,this._selectionEnd=t,this._columnSelectMode=r}createRow(e,t,r,l,o,h,u,_,g,f,p){let m=[],b=this._characterJoinerService.getJoinedCharacters(t),x=this._themeService.colors,E=e.getNoBgTrimmedLength();r&&E<h+1&&(E=h+1);let D,K=0,W="",ee=0,V=0,z=0,Q=0,te=!1,ie=0,le=!1,fe=0,Le=0,ae=[],A=f!==-1&&p!==-1;for(let T=0;T<E;T++){e.loadCell(T,this._workCell);let F=this._workCell.getWidth();if(F===0)continue;let j=!1,M=T>=Le,k=T,C=this._workCell;if(b.length>0&&T===b[0][0]&&M){let Ae=b.shift(),jt=this._isCellInSelection(Ae[0],t);for(ee=Ae[0]+1;ee<Ae[1];ee++)M&&=jt===this._isCellInSelection(ee,t);M&&=!r||h<Ae[0]||h>=Ae[1],M?(j=!0,C=new F5(this._workCell,e.translateToString(!0,Ae[0],Ae[1]),Ae[1]-Ae[0]),k=Ae[1]-1,F=C.getWidth()):Le=Ae[1]}let N=this._isCellInSelection(T,t),Y=r&&T===h,w=A&&T>=f&&T<=p,U=!1;this._decorationService.forEachDecorationAtCell(T,t,void 0,Ae=>{U=!0});let X=C.getChars()||or;if(X===" "&&(C.isUnderline()||C.isOverline())&&(X=""),fe=F*_-g.get(X,C.isBold(),C.isItalic()),!D)D=this._document.createElement("span");else if(K&&(N&&le||!N&&!le&&C.bg===V)&&(N&&le&&x.selectionForeground||C.fg===z)&&C.extended.ext===Q&&w===te&&fe===ie&&!Y&&!j&&!U&&M){C.isInvisible()?W+=or:W+=X,K++;continue}else K&&(D.textContent=W),D=this._document.createElement("span"),K=0,W="";if(V=C.bg,z=C.fg,Q=C.extended.ext,te=w,ie=fe,le=N,j&&h>=T&&h<=k&&(h=T),!this._coreService.isCursorHidden&&Y&&this._coreService.isCursorInitialized){if(ae.push("xterm-cursor"),this._coreBrowserService.isFocused)u&&ae.push("xterm-cursor-blink"),ae.push(l==="bar"?"xterm-cursor-bar":l==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(o)switch(o){case"outline":ae.push("xterm-cursor-outline");break;case"block":ae.push("xterm-cursor-block");break;case"bar":ae.push("xterm-cursor-bar");break;case"underline":ae.push("xterm-cursor-underline");break}}if(C.isBold()&&ae.push("xterm-bold"),C.isItalic()&&ae.push("xterm-italic"),C.isDim()&&ae.push("xterm-dim"),C.isInvisible()?W=or:W=C.getChars()||or,C.isUnderline()&&(ae.push(`xterm-underline-${C.extended.underlineStyle}`),W===" "&&(W=""),!C.isUnderlineColorDefault()))if(C.isUnderlineColorRGB())D.style.textDecorationColor=`rgb(${oa.toColorRGB(C.getUnderlineColor()).join(",")})`;else{let Ae=C.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&C.isBold()&&Ae<8&&(Ae+=8),D.style.textDecorationColor=x.ansi[Ae].css}C.isOverline()&&(ae.push("xterm-overline"),W===" "&&(W="")),C.isStrikethrough()&&ae.push("xterm-strikethrough"),w&&(D.style.textDecoration="underline");let se=C.getFgColor(),re=C.getFgColorMode(),oe=C.getBgColor(),ue=C.getBgColorMode(),be=!!C.isInverse();if(be){let Ae=se;se=oe,oe=Ae;let jt=re;re=ue,ue=jt}let pe,Vt,Ft=!1;this._decorationService.forEachDecorationAtCell(T,t,void 0,Ae=>{Ae.options.layer!=="top"&&Ft||(Ae.backgroundColorRGB&&(ue=50331648,oe=Ae.backgroundColorRGB.rgba>>8&16777215,pe=Ae.backgroundColorRGB),Ae.foregroundColorRGB&&(re=50331648,se=Ae.foregroundColorRGB.rgba>>8&16777215,Vt=Ae.foregroundColorRGB),Ft=Ae.options.layer==="top")}),!Ft&&N&&(pe=this._coreBrowserService.isFocused?x.selectionBackgroundOpaque:x.selectionInactiveBackgroundOpaque,oe=pe.rgba>>8&16777215,ue=50331648,Ft=!0,x.selectionForeground&&(re=50331648,se=x.selectionForeground.rgba>>8&16777215,Vt=x.selectionForeground)),Ft&&ae.push("xterm-decoration-top");let Tt;switch(ue){case 16777216:case 33554432:Tt=x.ansi[oe],ae.push(`xterm-bg-${oe}`);break;case 50331648:Tt=ft.toColor(oe>>16,oe>>8&255,oe&255),this._addStyle(D,`background-color:#${vm((oe>>>0).toString(16),"0",6)}`);break;default:be?(Tt=x.foreground,ae.push("xterm-bg-257")):Tt=x.background}switch(pe||C.isDim()&&(pe=Ie.multiplyOpacity(Tt,.5)),re){case 16777216:case 33554432:C.isBold()&&se<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(se+=8),this._applyMinimumContrast(D,Tt,x.ansi[se],C,pe,void 0)||ae.push(`xterm-fg-${se}`);break;case 50331648:let Ae=ft.toColor(se>>16&255,se>>8&255,se&255);this._applyMinimumContrast(D,Tt,Ae,C,pe,Vt)||this._addStyle(D,`color:#${vm(se.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(D,Tt,x.foreground,C,pe,Vt)||be&&ae.push("xterm-fg-257")}ae.length&&(D.className=ae.join(" "),ae.length=0),!Y&&!j&&!U&&M?K++:D.textContent=W,fe!==this.defaultSpacing&&(D.style.letterSpacing=`${fe}px`),m.push(D),T=k}return D&&K&&(D.textContent=W),m}_applyMinimumContrast(e,t,r,l,o,h){if(this._optionsService.rawOptions.minimumContrastRatio===1||Y5(l.getCode()))return!1;let u=this._getContrastCache(l),_;if(!o&&!h&&(_=u.getColor(t.rgba,r.rgba)),_===void 0){let g=this._optionsService.rawOptions.minimumContrastRatio/(l.isDim()?2:1);_=Ie.ensureContrastRatio(o||t,h||r,g),u.setColor((o||t).rgba,(h||r).rgba,_??null)}return _?(this._addStyle(e,`color:${_.css}`),!0):!1}_getContrastCache(e){return e.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(e,t){e.setAttribute("style",`${e.getAttribute("style")||""}${t};`)}_isCellInSelection(e,t){let r=this._selectionStart,l=this._selectionEnd;return!r||!l?!1:this._columnSelectMode?r[0]<=l[0]?e>=r[0]&&t>=r[1]&&e<l[0]&&t<=l[1]:e<r[0]&&t>=r[1]&&e>=l[0]&&t<=l[1]:t>r[1]&&t<l[1]||r[1]===l[1]&&t===r[1]&&e>=r[0]&&e<l[0]||r[1]<l[1]&&t===l[1]&&e<l[0]||r[1]<l[1]&&t===r[1]&&e>=r[0]}};Td=st([he(1,U0),he(2,Gt),he(3,ks),he(4,$r),he(5,ha),he(6,Un)],Td);function vm(e,t,r){for(;e.length<r;)e=t+e;return e}var K5=class{constructor(e,t){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=e.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";let r=e.createElement("span");r.classList.add("xterm-char-measure-element");let l=e.createElement("span");l.classList.add("xterm-char-measure-element"),l.style.fontWeight="bold";let o=e.createElement("span");o.classList.add("xterm-char-measure-element"),o.style.fontStyle="italic";let h=e.createElement("span");h.classList.add("xterm-char-measure-element"),h.style.fontWeight="bold",h.style.fontStyle="italic",this._measureElements=[r,l,o,h],this._container.appendChild(r),this._container.appendChild(l),this._container.appendChild(o),this._container.appendChild(h),t.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(e,t,r,l){e===this._font&&t===this._fontSize&&r===this._weight&&l===this._weightBold||(this._font=e,this._fontSize=t,this._weight=r,this._weightBold=l,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${r}`,this._measureElements[1].style.fontWeight=`${l}`,this._measureElements[2].style.fontWeight=`${r}`,this._measureElements[3].style.fontWeight=`${l}`,this.clear())}get(e,t,r){let l=0;if(!t&&!r&&e.length===1&&(l=e.charCodeAt(0))<256){if(this._flat[l]!==-9999)return this._flat[l];let u=this._measure(e,0);return u>0&&(this._flat[l]=u),u}let o=e;t&&(o+="B"),r&&(o+="I");let h=this._holey.get(o);if(h===void 0){let u=0;t&&(u|=1),r&&(u|=2),h=this._measure(e,u),h>0&&this._holey.set(o,h)}return h}_measure(e,t){let r=this._measureElements[t];return r.textContent=e.repeat(32),r.offsetWidth/32}},G5=class{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(e,t,r,l=!1){if(this.selectionStart=t,this.selectionEnd=r,!t||!r||t[0]===r[0]&&t[1]===r[1]){this.clear();return}let o=e.buffers.active.ydisp,h=t[1]-o,u=r[1]-o,_=Math.max(h,0),g=Math.min(u,e.rows-1);if(_>=e.rows||g<0){this.clear();return}this.hasSelection=!0,this.columnSelectMode=l,this.viewportStartRow=h,this.viewportEndRow=u,this.viewportCappedStartRow=_,this.viewportCappedEndRow=g,this.startCol=t[0],this.endCol=r[0]}isCellSelected(e,t,r){return this.hasSelection?(r-=e.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?t>=this.startCol&&r>=this.viewportCappedStartRow&&t<this.endCol&&r<=this.viewportCappedEndRow:t<this.startCol&&r>=this.viewportCappedStartRow&&t>=this.endCol&&r<=this.viewportCappedEndRow:r>this.viewportStartRow&&r<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&r===this.viewportStartRow&&t>=this.startCol&&t<this.endCol||this.viewportStartRow<this.viewportEndRow&&r===this.viewportEndRow&&t<this.endCol||this.viewportStartRow<this.viewportEndRow&&r===this.viewportStartRow&&t>=this.startCol):!1}};function V5(){return new G5}var Gu="xterm-dom-renderer-owner-",Ti="xterm-rows",Uo="xterm-fg-",pm="xterm-bg-",Yl="xterm-focus",$o="xterm-selection",X5=1,Rd=class extends we{constructor(e,t,r,l,o,h,u,_,g,f,p,m,b,x){super(),this._terminal=e,this._document=t,this._element=r,this._screenElement=l,this._viewportElement=o,this._helperContainer=h,this._linkifier2=u,this._charSizeService=g,this._optionsService=f,this._bufferService=p,this._coreService=m,this._coreBrowserService=b,this._themeService=x,this._terminalClass=X5++,this._rowElements=[],this._selectionRenderModel=V5(),this.onRequestRedraw=this._register(new ne).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(Ti),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add($o),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=I5(),this._updateDimensions(),this._register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this._register(this._themeService.onChangeColors(E=>this._injectCss(E))),this._injectCss(this._themeService.colors),this._rowFactory=_.createInstance(Td,document),this._element.classList.add(Gu+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this._register(this._linkifier2.onShowLinkUnderline(E=>this._handleLinkHover(E))),this._register(this._linkifier2.onHideLinkUnderline(E=>this._handleLinkLeave(E))),this._register(Ve(()=>{this._element.classList.remove(Gu+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new K5(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){let e=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*e,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*e),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/e),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/e),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(let r of this._rowElements)r.style.width=`${this.dimensions.css.canvas.width}px`,r.style.height=`${this.dimensions.css.cell.height}px`,r.style.lineHeight=`${this.dimensions.css.cell.height}px`,r.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));let t=`${this._terminalSelector} .${Ti} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=t,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(e){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let t=`${this._terminalSelector} .${Ti} { pointer-events: none; color: ${e.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;t+=`${this._terminalSelector} .${Ti} .xterm-dim { color: ${Ie.multiplyOpacity(e.foreground,.5).css};}`,t+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;let r=`blink_underline_${this._terminalClass}`,l=`blink_bar_${this._terminalClass}`,o=`blink_block_${this._terminalClass}`;t+=`@keyframes ${r} { 50% {  border-bottom-style: hidden; }}`,t+=`@keyframes ${l} { 50% {  box-shadow: none; }}`,t+=`@keyframes ${o} { 0% {  background-color: ${e.cursor.css};  color: ${e.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${e.cursor.css}; }}`,t+=`${this._terminalSelector} .${Ti}.${Yl} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${r} 1s step-end infinite;}${this._terminalSelector} .${Ti}.${Yl} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${l} 1s step-end infinite;}${this._terminalSelector} .${Ti}.${Yl} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${o} 1s step-end infinite;}${this._terminalSelector} .${Ti} .xterm-cursor.xterm-cursor-block { background-color: ${e.cursor.css}; color: ${e.cursorAccent.css};}${this._terminalSelector} .${Ti} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${e.cursor.css} !important; color: ${e.cursorAccent.css} !important;}${this._terminalSelector} .${Ti} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${e.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${Ti} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${e.cursor.css} inset;}${this._terminalSelector} .${Ti} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${e.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,t+=`${this._terminalSelector} .${$o} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${$o} div { position: absolute; background-color: ${e.selectionBackgroundOpaque.css};}${this._terminalSelector} .${$o} div { position: absolute; background-color: ${e.selectionInactiveBackgroundOpaque.css};}`;for(let[h,u]of e.ansi.entries())t+=`${this._terminalSelector} .${Uo}${h} { color: ${u.css}; }${this._terminalSelector} .${Uo}${h}.xterm-dim { color: ${Ie.multiplyOpacity(u,.5).css}; }${this._terminalSelector} .${pm}${h} { background-color: ${u.css}; }`;t+=`${this._terminalSelector} .${Uo}257 { color: ${Ie.opaque(e.background).css}; }${this._terminalSelector} .${Uo}257.xterm-dim { color: ${Ie.multiplyOpacity(Ie.opaque(e.background),.5).css}; }${this._terminalSelector} .${pm}257 { background-color: ${e.foreground.css}; }`,this._themeStyleElement.textContent=t}_setDefaultSpacing(){let e=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${e}px`,this._rowFactory.defaultSpacing=e}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(e,t){for(let r=this._rowElements.length;r<=t;r++){let l=this._document.createElement("div");this._rowContainer.appendChild(l),this._rowElements.push(l)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(e,t){this._refreshRowElements(e,t),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(Yl),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(Yl),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(e,t,r){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(e,t,r),this.renderRows(0,this._bufferService.rows-1),!e||!t||(this._selectionRenderModel.update(this._terminal,e,t,r),!this._selectionRenderModel.hasSelection))return;let l=this._selectionRenderModel.viewportStartRow,o=this._selectionRenderModel.viewportEndRow,h=this._selectionRenderModel.viewportCappedStartRow,u=this._selectionRenderModel.viewportCappedEndRow,_=this._document.createDocumentFragment();if(r){let g=e[0]>t[0];_.appendChild(this._createSelectionElement(h,g?t[0]:e[0],g?e[0]:t[0],u-h+1))}else{let g=l===h?e[0]:0,f=h===o?t[0]:this._bufferService.cols;_.appendChild(this._createSelectionElement(h,g,f));let p=u-h-1;if(_.appendChild(this._createSelectionElement(h+1,0,this._bufferService.cols,p)),h!==u){let m=o===u?t[0]:this._bufferService.cols;_.appendChild(this._createSelectionElement(u,0,m))}}this._selectionContainer.appendChild(_)}_createSelectionElement(e,t,r,l=1){let o=this._document.createElement("div"),h=t*this.dimensions.css.cell.width,u=this.dimensions.css.cell.width*(r-t);return h+u>this.dimensions.css.canvas.width&&(u=this.dimensions.css.canvas.width-h),o.style.height=`${l*this.dimensions.css.cell.height}px`,o.style.top=`${e*this.dimensions.css.cell.height}px`,o.style.left=`${h}px`,o.style.width=`${u}px`,o}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(let e of this._rowElements)e.replaceChildren()}renderRows(e,t){let r=this._bufferService.buffer,l=r.ybase+r.y,o=Math.min(r.x,this._bufferService.cols-1),h=this._coreService.decPrivateModes.cursorBlink??this._optionsService.rawOptions.cursorBlink,u=this._coreService.decPrivateModes.cursorStyle??this._optionsService.rawOptions.cursorStyle,_=this._optionsService.rawOptions.cursorInactiveStyle;for(let g=e;g<=t;g++){let f=g+r.ydisp,p=this._rowElements[g],m=r.lines.get(f);if(!p||!m)break;p.replaceChildren(...this._rowFactory.createRow(m,f,f===l,u,_,o,h,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${Gu}${this._terminalClass}`}_handleLinkHover(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)}_handleLinkLeave(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)}_setCellUnderline(e,t,r,l,o,h){r<0&&(e=0),l<0&&(t=0);let u=this._bufferService.rows-1;r=Math.max(Math.min(r,u),0),l=Math.max(Math.min(l,u),0),o=Math.min(o,this._bufferService.cols);let _=this._bufferService.buffer,g=_.ybase+_.y,f=Math.min(_.x,o-1),p=this._optionsService.rawOptions.cursorBlink,m=this._optionsService.rawOptions.cursorStyle,b=this._optionsService.rawOptions.cursorInactiveStyle;for(let x=r;x<=l;++x){let E=x+_.ydisp,D=this._rowElements[x],K=_.lines.get(E);if(!D||!K)break;D.replaceChildren(...this._rowFactory.createRow(K,E,E===g,m,b,f,p,this.dimensions.css.cell.width,this._widthCache,h?x===r?e:0:-1,h?(x===l?t:o)-1:-1))}}};Rd=st([he(7,Zd),he(8,hh),he(9,Gt),he(10,Kt),he(11,$r),he(12,ks),he(13,Un)],Rd);var Dd=class extends we{constructor(e,t,r){super(),this._optionsService=r,this.width=0,this.height=0,this._onCharSizeChange=this._register(new ne),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this._register(new Q5(this._optionsService))}catch{this._measureStrategy=this._register(new Z5(e,t,this._optionsService))}this._register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}get hasValidSize(){return this.width>0&&this.height>0}measure(){let e=this._measureStrategy.measure();(e.width!==this.width||e.height!==this.height)&&(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())}};Dd=st([he(2,Gt)],Dd);var r1=class extends we{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(e,t){e!==void 0&&e>0&&t!==void 0&&t>0&&(this._result.width=e,this._result.height=t)}},Z5=class extends r1{constructor(e,t,r){super(),this._document=e,this._parentElement=t,this._optionsService=r,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}},Q5=class extends r1{constructor(e){super(),this._optionsService=e,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");let t=this._ctx.measureText("W");if(!("width"in t&&"fontBoundingBoxAscent"in t&&"fontBoundingBoxDescent"in t))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;let e=this._ctx.measureText("W");return this._validateAndSet(e.width,e.fontBoundingBoxAscent+e.fontBoundingBoxDescent),this._result}},J5=class extends we{constructor(e,t,r){super(),this._textarea=e,this._window=t,this.mainDocument=r,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=this._register(new eC(this._window)),this._onDprChange=this._register(new ne),this.onDprChange=this._onDprChange.event,this._onWindowChange=this._register(new ne),this.onWindowChange=this._onWindowChange.event,this._register(this.onWindowChange(l=>this._screenDprMonitor.setWindow(l))),this._register(Ht.forward(this._screenDprMonitor.onDprChange,this._onDprChange)),this._register(ve(this._textarea,"focus",()=>this._isFocused=!0)),this._register(ve(this._textarea,"blur",()=>this._isFocused=!1))}get window(){return this._window}set window(e){this._window!==e&&(this._window=e,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}},eC=class extends we{constructor(e){super(),this._parentWindow=e,this._windowResizeListener=this._register(new Hn),this._onDprChange=this._register(new ne),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this._register(Ve(()=>this.clearListener()))}setWindow(e){this._parentWindow=e,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=ve(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){this._outerListener&&(this._resolutionMediaMatchList?.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){!this._resolutionMediaMatchList||!this._outerListener||(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}},tC=class extends we{constructor(){super(),this.linkProviders=[],this._register(Ve(()=>this.linkProviders.length=0))}registerLinkProvider(e){return this.linkProviders.push(e),{dispose:()=>{let t=this.linkProviders.indexOf(e);t!==-1&&this.linkProviders.splice(t,1)}}}};function lf(e,t,r){let l=r.getBoundingClientRect(),o=e.getComputedStyle(r),h=parseInt(o.getPropertyValue("padding-left")),u=parseInt(o.getPropertyValue("padding-top"));return[t.clientX-l.left-h,t.clientY-l.top-u]}function iC(e,t,r,l,o,h,u,_,g){if(!h)return;let f=lf(e,t,r);if(f)return f[0]=Math.ceil((f[0]+(g?u/2:0))/u),f[1]=Math.ceil(f[1]/_),f[0]=Math.min(Math.max(f[0],1),l+(g?1:0)),f[1]=Math.min(Math.max(f[1],1),o),f}var Bd=class{constructor(e,t){this._renderService=e,this._charSizeService=t}getCoords(e,t,r,l,o){return iC(window,e,t,r,l,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,o)}getMouseReportCoords(e,t){let r=lf(window,e,t);if(this._charSizeService.hasValidSize)return r[0]=Math.min(Math.max(r[0],0),this._renderService.dimensions.css.canvas.width-1),r[1]=Math.min(Math.max(r[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(r[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(r[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(r[0]),y:Math.floor(r[1])}}};Bd=st([he(0,Ls),he(1,hh)],Bd);var sC=class{constructor(e,t){this._renderCallback=e,this._coreBrowserService=t,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(e){return this._refreshCallbacks.push(e),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(e,t,r){this._rowCount=r,e=e!==void 0?e:0,t=t!==void 0?t:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,e):e,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,t):t,!this._animationFrame&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0){this._runRefreshCallbacks();return}let e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(let e of this._refreshCallbacks)e(0);this._refreshCallbacks=[]}},n1={};fw(n1,{getSafariVersion:()=>nC,isChromeOS:()=>h1,isFirefox:()=>l1,isIpad:()=>lC,isIphone:()=>aC,isLegacyEdge:()=>rC,isLinux:()=>af,isMac:()=>rh,isNode:()=>ch,isSafari:()=>a1,isWindows:()=>o1});var ch=typeof process<"u"&&"title"in process,ca=ch?"node":navigator.userAgent,ua=ch?"node":navigator.platform,l1=ca.includes("Firefox"),rC=ca.includes("Edge"),a1=/^((?!chrome|android).)*safari/i.test(ca);function nC(){if(!a1)return 0;let e=ca.match(/Version\/(\d+)/);return e===null||e.length<2?0:parseInt(e[1])}var rh=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(ua),lC=ua==="iPad",aC=ua==="iPhone",o1=["Windows","Win16","Win32","WinCE"].includes(ua),af=ua.indexOf("Linux")>=0,h1=/\bCrOS\b/.test(ca),c1=class{constructor(){this._tasks=[],this._i=0}enqueue(e){this._tasks.push(e),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(e){this._idleCallback=void 0;let t=0,r=0,l=e.timeRemaining(),o=0;for(;this._i<this._tasks.length;){if(t=performance.now(),this._tasks[this._i]()||this._i++,t=Math.max(1,performance.now()-t),r=Math.max(t,r),o=e.timeRemaining(),r*1.5>o){l-t<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(l-t))}ms`),this._start();return}l=o}this.clear()}},oC=class extends c1{_requestCallback(e){return setTimeout(()=>e(this._createDeadline(16)))}_cancelCallback(e){clearTimeout(e)}_createDeadline(e){let t=performance.now()+e;return{timeRemaining:()=>Math.max(0,t-performance.now())}}},hC=class extends c1{_requestCallback(e){return requestIdleCallback(e)}_cancelCallback(e){cancelIdleCallback(e)}},nh=!ch&&"requestIdleCallback"in window?hC:oC,cC=class{constructor(){this._queue=new nh}set(e){this._queue.clear(),this._queue.enqueue(e)}flush(){this._queue.flush()}},zd=class extends we{constructor(e,t,r,l,o,h,u,_,g){super(),this._rowCount=e,this._optionsService=r,this._charSizeService=l,this._coreService=o,this._coreBrowserService=_,this._renderer=this._register(new Hn),this._pausedResizeTask=new cC,this._observerDisposable=this._register(new Hn),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this._register(new ne),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this._register(new ne),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this._register(new ne),this.onRender=this._onRender.event,this._onRefreshRequest=this._register(new ne),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new sC((f,p)=>this._renderRows(f,p),this._coreBrowserService),this._register(this._renderDebouncer),this._syncOutputHandler=new uC(this._coreBrowserService,this._coreService,()=>this._fullRefresh()),this._register(Ve(()=>this._syncOutputHandler.dispose())),this._register(this._coreBrowserService.onDprChange(()=>this.handleDevicePixelRatioChange())),this._register(u.onResize(()=>this._fullRefresh())),this._register(u.buffers.onBufferActivate(()=>this._renderer.value?.clear())),this._register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this._register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this._register(h.onDecorationRegistered(()=>this._fullRefresh())),this._register(h.onDecorationRemoved(()=>this._fullRefresh())),this._register(this._optionsService.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(u.cols,u.rows),this._fullRefresh()})),this._register(this._optionsService.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(u.buffer.y,u.buffer.y,!0))),this._register(g.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(this._coreBrowserService.window,t),this._register(this._coreBrowserService.onWindowChange(f=>this._registerIntersectionObserver(f,t)))}get dimensions(){return this._renderer.value.dimensions}_registerIntersectionObserver(e,t){if("IntersectionObserver"in e){let r=new e.IntersectionObserver(l=>this._handleIntersectionChange(l[l.length-1]),{threshold:0});r.observe(t),this._observerDisposable.value=Ve(()=>r.disconnect())}}_handleIntersectionChange(e){this._isPaused=e.isIntersecting===void 0?e.intersectionRatio===0:!e.isIntersecting,!this._isPaused&&!this._charSizeService.hasValidSize&&this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(e,t,r=!1){if(this._isPaused){this._needsFullRefresh=!0;return}if(this._coreService.decPrivateModes.synchronizedOutput){this._syncOutputHandler.bufferRows(e,t);return}let l=this._syncOutputHandler.flush();l&&(e=Math.min(e,l.start),t=Math.max(t,l.end)),r||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(e,t,this._rowCount)}_renderRows(e,t){if(this._renderer.value){if(this._coreService.decPrivateModes.synchronizedOutput){this._syncOutputHandler.bufferRows(e,t);return}e=Math.min(e,this._rowCount-1),t=Math.min(t,this._rowCount-1),this._renderer.value.renderRows(e,t),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:e,end:t}),this._onRender.fire({start:e,end:t}),this._isNextRenderRedrawOnly=!0}}resize(e,t){this._rowCount=t,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(e){this._renderer.value=e,this._renderer.value&&(this._renderer.value.onRequestRedraw(t=>this.refreshRows(t.start,t.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(e){return this._renderDebouncer.addRefreshCallback(e)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){this._renderer.value&&(this._renderer.value.clearTextureAtlas?.(),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(e,t){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value?.handleResize(e,t)):this._renderer.value.handleResize(e,t),this._fullRefresh())}handleCharSizeChanged(){this._renderer.value?.handleCharSizeChanged()}handleBlur(){this._renderer.value?.handleBlur()}handleFocus(){this._renderer.value?.handleFocus()}handleSelectionChanged(e,t,r){this._selectionState.start=e,this._selectionState.end=t,this._selectionState.columnSelectMode=r,this._renderer.value?.handleSelectionChanged(e,t,r)}handleCursorMove(){this._renderer.value?.handleCursorMove()}clear(){this._renderer.value?.clear()}};zd=st([he(2,Gt),he(3,hh),he(4,$r),he(5,ha),he(6,Kt),he(7,ks),he(8,Un)],zd);var uC=class{constructor(e,t,r){this._coreBrowserService=e,this._coreService=t,this._onTimeout=r,this._start=0,this._end=0,this._isBuffering=!1}bufferRows(e,t){this._isBuffering?(this._start=Math.min(this._start,e),this._end=Math.max(this._end,t)):(this._start=e,this._end=t,this._isBuffering=!0),this._timeout===void 0&&(this._timeout=this._coreBrowserService.window.setTimeout(()=>{this._timeout=void 0,this._coreService.decPrivateModes.synchronizedOutput=!1,this._onTimeout()},1e3))}flush(){if(this._timeout!==void 0&&(this._coreBrowserService.window.clearTimeout(this._timeout),this._timeout=void 0),!this._isBuffering)return;let e={start:this._start,end:this._end};return this._isBuffering=!1,e}dispose(){this._timeout!==void 0&&(this._coreBrowserService.window.clearTimeout(this._timeout),this._timeout=void 0)}};function dC(e,t,r,l){let o=r.buffer.x,h=r.buffer.y;if(!r.buffer.hasScrollback)return gC(o,h,e,t,r,l)+uh(h,t,r,l)+vC(o,h,e,t,r,l);let u;if(h===t)return u=o>e?"D":"C",la(Math.abs(o-e),na(u,l));u=h>t?"D":"C";let _=Math.abs(h-t),g=_C(h>t?e:o,r)+(_-1)*r.cols+1+fC(h>t?o:e);return la(g,na(u,l))}function fC(e,t){return e-1}function _C(e,t){return t.cols-e}function gC(e,t,r,l,o,h){return uh(t,l,o,h).length===0?"":la(d1(e,t,e,t-Ur(t,o),!1,o).length,na("D",h))}function uh(e,t,r,l){let o=e-Ur(e,r),h=t-Ur(t,r),u=Math.abs(o-h)-pC(e,t,r);return la(u,na(u1(e,t),l))}function vC(e,t,r,l,o,h){let u;uh(t,l,o,h).length>0?u=l-Ur(l,o):u=t;let _=l,g=mC(e,t,r,l,o,h);return la(d1(e,u,r,_,g==="C",o).length,na(g,h))}function pC(e,t,r){let l=0,o=e-Ur(e,r),h=t-Ur(t,r);for(let u=0;u<Math.abs(o-h);u++){let _=u1(e,t)==="A"?-1:1;r.buffer.lines.get(o+_*u)?.isWrapped&&l++}return l}function Ur(e,t){let r=0,l=t.buffer.lines.get(e),o=l?.isWrapped;for(;o&&e>=0&&e<t.rows;)r++,l=t.buffer.lines.get(--e),o=l?.isWrapped;return r}function mC(e,t,r,l,o,h){let u;return uh(r,l,o,h).length>0?u=l-Ur(l,o):u=t,e<r&&u<=l||e>=r&&u<l?"C":"D"}function u1(e,t){return e>t?"A":"B"}function d1(e,t,r,l,o,h){let u=e,_=t,g="";for(;(u!==r||_!==l)&&_>=0&&_<h.buffer.lines.length;)u+=o?1:-1,o&&u>h.cols-1?(g+=h.buffer.translateBufferLineToString(_,!1,e,u),u=0,e=0,_++):!o&&u<0&&(g+=h.buffer.translateBufferLineToString(_,!1,0,e+1),u=h.cols-1,e=u,_--);return g+h.buffer.translateBufferLineToString(_,!1,e,u)}function na(e,t){let r=t?"O":"[";return J.ESC+r+e}function la(e,t){e=Math.floor(e);let r="";for(let l=0;l<e;l++)r+=t;return r}var SC=class{constructor(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:!this.selectionEnd||!this.selectionStart?this.selectionStart:this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){let e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?e%this._bufferService.cols===0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)-1]:[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[e,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){let e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[Math.max(e,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){let e=this.selectionStart,t=this.selectionEnd;return!e||!t?!1:e[1]>t[1]||e[1]===t[1]&&e[0]>t[0]}handleTrim(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}};function mm(e,t){if(e.start.y>e.end.y)throw new Error(`Buffer range end (${e.end.x}, ${e.end.y}) cannot be before start (${e.start.x}, ${e.start.y})`);return t*(e.end.y-e.start.y)+(e.end.x-e.start.x+1)}var Vu=50,yC=15,bC=50,xC=500,wC="",CC=new RegExp(wC,"g"),Od=class extends we{constructor(e,t,r,l,o,h,u,_,g){super(),this._element=e,this._screenElement=t,this._linkifier=r,this._bufferService=l,this._coreService=o,this._mouseService=h,this._optionsService=u,this._renderService=_,this._coreBrowserService=g,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new Ni,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this._register(new ne),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this._register(new ne),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this._register(new ne),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this._register(new ne),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=f=>this._handleMouseMove(f),this._mouseUpListener=f=>this._handleMouseUp(f),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(f=>this._handleTrim(f)),this._register(this._bufferService.buffers.onBufferActivate(f=>this._handleBufferActivate(f))),this.enable(),this._model=new SC(this._bufferService),this._activeSelectionMode=0,this._register(Ve(()=>{this._removeMouseDownListeners()})),this._register(this._bufferService.onResize(f=>{f.rowsChanged&&this.clearSelection()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){let e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!e||!t?!1:e[0]!==t[0]||e[1]!==t[1]}get selectionText(){let e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";let r=this._bufferService.buffer,l=[];if(this._activeSelectionMode===3){if(e[0]===t[0])return"";let o=e[0]<t[0]?e[0]:t[0],h=e[0]<t[0]?t[0]:e[0];for(let u=e[1];u<=t[1];u++){let _=r.translateBufferLineToString(u,!0,o,h);l.push(_)}}else{let o=e[1]===t[1]?t[0]:void 0;l.push(r.translateBufferLineToString(e[1],!0,e[0],o));for(let h=e[1]+1;h<=t[1]-1;h++){let u=r.lines.get(h),_=r.translateBufferLineToString(h,!0);u?.isWrapped?l[l.length-1]+=_:l.push(_)}if(e[1]!==t[1]){let h=r.lines.get(t[1]),u=r.translateBufferLineToString(t[1],!0,0,t[0]);h&&h.isWrapped?l[l.length-1]+=u:l.push(u)}}return l.map(o=>o.replace(CC," ")).join(o1?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(e){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),af&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(e){let t=this._getMouseBufferCoords(e),r=this._model.finalSelectionStart,l=this._model.finalSelectionEnd;return!r||!l||!t?!1:this._areCoordsInSelection(t,r,l)}isCellInSelection(e,t){let r=this._model.finalSelectionStart,l=this._model.finalSelectionEnd;return!r||!l?!1:this._areCoordsInSelection([e,t],r,l)}_areCoordsInSelection(e,t,r){return e[1]>t[1]&&e[1]<r[1]||t[1]===r[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<r[0]||t[1]<r[1]&&e[1]===r[1]&&e[0]<r[0]||t[1]<r[1]&&e[1]===t[1]&&e[0]>=t[0]}_selectWordAtCursor(e,t){let r=this._linkifier.currentLink?.link?.range;if(r)return this._model.selectionStart=[r.start.x-1,r.start.y-1],this._model.selectionStartLength=mm(r,this._bufferService.cols),this._model.selectionEnd=void 0,!0;let l=this._getMouseBufferCoords(e);return l?(this._selectWordAt(l,t),this._model.selectionEnd=void 0,!0):!1}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()}_handleTrim(e){this._model.handleTrim(e)&&this.refresh()}_getMouseBufferCoords(e){let t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t}_getMouseEventScrollAmount(e){let t=lf(this._coreBrowserService.window,e,this._screenElement)[1],r=this._renderService.dimensions.css.canvas.height;return t>=0&&t<=r?0:(t>r&&(t-=r),t=Math.min(Math.max(t,-Vu),Vu),t/=Vu,t/Math.abs(t)+Math.round(t*(yC-1)))}shouldForceSelection(e){return rh?e.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:e.shiftKey}handleMouseDown(e){if(this._mouseDownTimeStamp=e.timeStamp,!(e.button===2&&this.hasSelection)&&e.button===0){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._handleIncrementalClick(e):e.detail===1?this._handleSingleClick(e):e.detail===2?this._handleDoubleClick(e):e.detail===3&&this._handleTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),bC)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))}_handleSingleClick(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),!this._model.selectionStart)return;this._model.selectionEnd=void 0;let t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&t.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(e){this._selectWordAtCursor(e,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(e){let t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))}shouldColumnSelect(e){return e.altKey&&!(rh&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(e){if(e.stopImmediatePropagation(),!this._model.selectionStart)return;let t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),!this._model.selectionEnd){this.refresh(!0);return}this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));let r=this._bufferService.buffer;if(this._model.selectionEnd[1]<r.lines.length){let l=r.lines.get(this._model.selectionEnd[1]);l&&l.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}(!t||t[0]!==this._model.selectionEnd[0]||t[1]!==this._model.selectionEnd[1])&&this.refresh(!0)}_dragScroll(){if(!(!this._model.selectionEnd||!this._model.selectionStart)&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});let e=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(e.ydisp+this._bufferService.rows,e.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}}_handleMouseUp(e){let t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&t<xC&&e.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){let r=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(r&&r[0]!==void 0&&r[1]!==void 0){let l=dC(r[0]-1,r[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(l,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){let e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd,r=!!e&&!!t&&(e[0]!==t[0]||e[1]!==t[1]);if(!r){this._oldHasSelection&&this._fireOnSelectionChange(e,t,r);return}!e||!t||(!this._oldSelectionStart||!this._oldSelectionEnd||e[0]!==this._oldSelectionStart[0]||e[1]!==this._oldSelectionStart[1]||t[0]!==this._oldSelectionEnd[0]||t[1]!==this._oldSelectionEnd[1])&&this._fireOnSelectionChange(e,t,r)}_fireOnSelectionChange(e,t,r){this._oldSelectionStart=e,this._oldSelectionEnd=t,this._oldHasSelection=r,this._onSelectionChange.fire()}_handleBufferActivate(e){this.clearSelection(),this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim(t=>this._handleTrim(t))}_convertViewportColToCharacterIndex(e,t){let r=t;for(let l=0;t>=l;l++){let o=e.loadCell(l,this._workCell).getChars().length;this._workCell.getWidth()===0?r--:o>1&&t!==l&&(r+=o-1)}return r}setSelection(e,t,r){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=r,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(e){this._isClickInSelection(e)||(this._selectWordAtCursor(e,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(e,t,r=!0,l=!0){if(e[0]>=this._bufferService.cols)return;let o=this._bufferService.buffer,h=o.lines.get(e[1]);if(!h)return;let u=o.translateBufferLineToString(e[1],!1),_=this._convertViewportColToCharacterIndex(h,e[0]),g=_,f=e[0]-_,p=0,m=0,b=0,x=0;if(u.charAt(_)===" "){for(;_>0&&u.charAt(_-1)===" ";)_--;for(;g<u.length&&u.charAt(g+1)===" ";)g++}else{let K=e[0],W=e[0];h.getWidth(K)===0&&(p++,K--),h.getWidth(W)===2&&(m++,W++);let ee=h.getString(W).length;for(ee>1&&(x+=ee-1,g+=ee-1);K>0&&_>0&&!this._isCharWordSeparator(h.loadCell(K-1,this._workCell));){h.loadCell(K-1,this._workCell);let V=this._workCell.getChars().length;this._workCell.getWidth()===0?(p++,K--):V>1&&(b+=V-1,_-=V-1),_--,K--}for(;W<h.length&&g+1<u.length&&!this._isCharWordSeparator(h.loadCell(W+1,this._workCell));){h.loadCell(W+1,this._workCell);let V=this._workCell.getChars().length;this._workCell.getWidth()===2?(m++,W++):V>1&&(x+=V-1,g+=V-1),g++,W++}}g++;let E=_+f-p+b,D=Math.min(this._bufferService.cols,g-_+p+m-b-x);if(!(!t&&u.slice(_,g).trim()==="")){if(r&&E===0&&h.getCodePoint(0)!==32){let K=o.lines.get(e[1]-1);if(K&&h.isWrapped&&K.getCodePoint(this._bufferService.cols-1)!==32){let W=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(W){let ee=this._bufferService.cols-W.start;E-=ee,D+=ee}}}if(l&&E+D===this._bufferService.cols&&h.getCodePoint(this._bufferService.cols-1)!==32){let K=o.lines.get(e[1]+1);if(K?.isWrapped&&K.getCodePoint(0)!==32){let W=this._getWordAt([0,e[1]+1],!1,!1,!0);W&&(D+=W.length)}}return{start:E,length:D}}}_selectWordAt(e,t){let r=this._getWordAt(e,t);if(r){for(;r.start<0;)r.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[r.start,e[1]],this._model.selectionStartLength=r.length}}_selectToWordAt(e){let t=this._getWordAt(e,!0);if(t){let r=e[1];for(;t.start<0;)t.start+=this._bufferService.cols,r--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,r++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,r]}}_isCharWordSeparator(e){return e.getWidth()===0?!1:this._optionsService.rawOptions.wordSeparator.indexOf(e.getChars())>=0}_selectLineAt(e){let t=this._bufferService.buffer.getWrappedRangeForLine(e),r={start:{x:0,y:t.first},end:{x:this._bufferService.cols-1,y:t.last}};this._model.selectionStart=[0,t.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=mm(r,this._bufferService.cols)}};Od=st([he(3,Kt),he(4,$r),he(5,Qd),he(6,Gt),he(7,Ls),he(8,ks)],Od);var Sm=class{constructor(){this._data={}}set(e,t,r){this._data[e]||(this._data[e]={}),this._data[e][t]=r}get(e,t){return this._data[e]?this._data[e][t]:void 0}clear(){this._data={}}},ym=class{constructor(){this._color=new Sm,this._css=new Sm}setCss(e,t,r){this._css.set(e,t,r)}getCss(e,t){return this._css.get(e,t)}setColor(e,t,r){this._color.set(e,t,r)}getColor(e,t){return this._color.get(e,t)}clear(){this._color.clear(),this._css.clear()}},gt=Object.freeze((()=>{let e=[Ze.toColor("#2e3436"),Ze.toColor("#cc0000"),Ze.toColor("#4e9a06"),Ze.toColor("#c4a000"),Ze.toColor("#3465a4"),Ze.toColor("#75507b"),Ze.toColor("#06989a"),Ze.toColor("#d3d7cf"),Ze.toColor("#555753"),Ze.toColor("#ef2929"),Ze.toColor("#8ae234"),Ze.toColor("#fce94f"),Ze.toColor("#729fcf"),Ze.toColor("#ad7fa8"),Ze.toColor("#34e2e2"),Ze.toColor("#eeeeec")],t=[0,95,135,175,215,255];for(let r=0;r<216;r++){let l=t[r/36%6|0],o=t[r/6%6|0],h=t[r%6];e.push({css:ft.toCss(l,o,h),rgba:ft.toRgba(l,o,h)})}for(let r=0;r<24;r++){let l=8+r*10;e.push({css:ft.toCss(l,l,l),rgba:ft.toRgba(l,l,l)})}return e})()),Rr=Ze.toColor("#ffffff"),Ql=Ze.toColor("#000000"),bm=Ze.toColor("#ffffff"),xm=Ql,Il={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117},EC=Rr,Nd=class extends we{constructor(e){super(),this._optionsService=e,this._contrastCache=new ym,this._halfContrastCache=new ym,this._onChangeColors=this._register(new ne),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:Rr,background:Ql,cursor:bm,cursorAccent:xm,selectionForeground:void 0,selectionBackgroundTransparent:Il,selectionBackgroundOpaque:Ie.blend(Ql,Il),selectionInactiveBackgroundTransparent:Il,selectionInactiveBackgroundOpaque:Ie.blend(Ql,Il),scrollbarSliderBackground:Ie.opacity(Rr,.2),scrollbarSliderHoverBackground:Ie.opacity(Rr,.4),scrollbarSliderActiveBackground:Ie.opacity(Rr,.5),overviewRulerBorder:Rr,ansi:gt.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this._register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this._register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}get colors(){return this._colors}_setTheme(e={}){let t=this._colors;if(t.foreground=Pe(e.foreground,Rr),t.background=Pe(e.background,Ql),t.cursor=Ie.blend(t.background,Pe(e.cursor,bm)),t.cursorAccent=Ie.blend(t.background,Pe(e.cursorAccent,xm)),t.selectionBackgroundTransparent=Pe(e.selectionBackground,Il),t.selectionBackgroundOpaque=Ie.blend(t.background,t.selectionBackgroundTransparent),t.selectionInactiveBackgroundTransparent=Pe(e.selectionInactiveBackground,t.selectionBackgroundTransparent),t.selectionInactiveBackgroundOpaque=Ie.blend(t.background,t.selectionInactiveBackgroundTransparent),t.selectionForeground=e.selectionForeground?Pe(e.selectionForeground,gm):void 0,t.selectionForeground===gm&&(t.selectionForeground=void 0),Ie.isOpaque(t.selectionBackgroundTransparent)&&(t.selectionBackgroundTransparent=Ie.opacity(t.selectionBackgroundTransparent,.3)),Ie.isOpaque(t.selectionInactiveBackgroundTransparent)&&(t.selectionInactiveBackgroundTransparent=Ie.opacity(t.selectionInactiveBackgroundTransparent,.3)),t.scrollbarSliderBackground=Pe(e.scrollbarSliderBackground,Ie.opacity(t.foreground,.2)),t.scrollbarSliderHoverBackground=Pe(e.scrollbarSliderHoverBackground,Ie.opacity(t.foreground,.4)),t.scrollbarSliderActiveBackground=Pe(e.scrollbarSliderActiveBackground,Ie.opacity(t.foreground,.5)),t.overviewRulerBorder=Pe(e.overviewRulerBorder,EC),t.ansi=gt.slice(),t.ansi[0]=Pe(e.black,gt[0]),t.ansi[1]=Pe(e.red,gt[1]),t.ansi[2]=Pe(e.green,gt[2]),t.ansi[3]=Pe(e.yellow,gt[3]),t.ansi[4]=Pe(e.blue,gt[4]),t.ansi[5]=Pe(e.magenta,gt[5]),t.ansi[6]=Pe(e.cyan,gt[6]),t.ansi[7]=Pe(e.white,gt[7]),t.ansi[8]=Pe(e.brightBlack,gt[8]),t.ansi[9]=Pe(e.brightRed,gt[9]),t.ansi[10]=Pe(e.brightGreen,gt[10]),t.ansi[11]=Pe(e.brightYellow,gt[11]),t.ansi[12]=Pe(e.brightBlue,gt[12]),t.ansi[13]=Pe(e.brightMagenta,gt[13]),t.ansi[14]=Pe(e.brightCyan,gt[14]),t.ansi[15]=Pe(e.brightWhite,gt[15]),e.extendedAnsi){let r=Math.min(t.ansi.length-16,e.extendedAnsi.length);for(let l=0;l<r;l++)t.ansi[l+16]=Pe(e.extendedAnsi[l],gt[l+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(e){this._restoreColor(e),this._onChangeColors.fire(this.colors)}_restoreColor(e){if(e===void 0){for(let t=0;t<this._restoreColors.ansi.length;++t)this._colors.ansi[t]=this._restoreColors.ansi[t];return}switch(e){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[e]=this._restoreColors.ansi[e]}}modifyColors(e){e(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};Nd=st([he(0,Gt)],Nd);function Pe(e,t){if(e!==void 0)try{return Ze.toColor(e)}catch{}return t}var MC=class{constructor(...e){this._entries=new Map;for(let[t,r]of e)this.set(t,r)}set(e,t){let r=this._entries.get(e);return this._entries.set(e,t),r}forEach(e){for(let[t,r]of this._entries.entries())e(t,r)}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}},kC=class{constructor(){this._services=new MC,this._services.set(Zd,this)}setService(e,t){this._services.set(e,t)}getService(e){return this._services.get(e)}createInstance(e,...t){let r=yw(e).sort((h,u)=>h.index-u.index),l=[];for(let h of r){let u=this._services.get(h.id);if(!u)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${h.id._id}.`);l.push(u)}let o=r.length>0?r[0].index:t.length;if(t.length!==o)throw new Error(`[createInstance] First service dependency of ${e.name} at position ${o+1} conflicts with ${t.length} static arguments`);return new e(...t,...l)}},LC={trace:0,debug:1,info:2,warn:3,error:4,off:5},AC="xterm.js: ",Hd=class extends we{constructor(e){super(),this._optionsService=e,this._logLevel=5,this._updateLogLevel(),this._register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}get logLevel(){return this._logLevel}_updateLogLevel(){this._logLevel=LC[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(e){for(let t=0;t<e.length;t++)typeof e[t]=="function"&&(e[t]=e[t]())}_log(e,t,r){this._evalLazyOptionalParams(r),e.call(console,(this._optionsService.options.logger?"":AC)+t,...r)}trace(e,...t){this._logLevel<=0&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,e,t)}debug(e,...t){this._logLevel<=1&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,e,t)}info(e,...t){this._logLevel<=2&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,e,t)}warn(e,...t){this._logLevel<=3&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,e,t)}error(e,...t){this._logLevel<=4&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,e,t)}};Hd=st([he(0,Gt)],Hd);var wm=class extends we{constructor(e){super(),this._maxLength=e,this.onDeleteEmitter=this._register(new ne),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this._register(new ne),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this._register(new ne),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(e){if(this._maxLength===e)return;let t=new Array(e);for(let r=0;r<Math.min(e,this.length);r++)t[r]=this._array[this._getCyclicIndex(r)];this._array=t,this._maxLength=e,this._startIndex=0}get length(){return this._length}set length(e){if(e>this._length)for(let t=this._length;t<e;t++)this._array[t]=void 0;this._length=e}get(e){return this._array[this._getCyclicIndex(e)]}set(e,t){this._array[this._getCyclicIndex(e)]=t}push(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(e,t,...r){if(t){for(let l=e;l<this._length-t;l++)this._array[this._getCyclicIndex(l)]=this._array[this._getCyclicIndex(l+t)];this._length-=t,this.onDeleteEmitter.fire({index:e,amount:t})}for(let l=this._length-1;l>=e;l--)this._array[this._getCyclicIndex(l+r.length)]=this._array[this._getCyclicIndex(l)];for(let l=0;l<r.length;l++)this._array[this._getCyclicIndex(e+l)]=r[l];if(r.length&&this.onInsertEmitter.fire({index:e,amount:r.length}),this._length+r.length>this._maxLength){let l=this._length+r.length-this._maxLength;this._startIndex+=l,this._length=this._maxLength,this.onTrimEmitter.fire(l)}else this._length+=r.length}trimStart(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)}shiftElements(e,t,r){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+r<0)throw new Error("Cannot shift elements in list beyond index 0");if(r>0){for(let o=t-1;o>=0;o--)this.set(e+o+r,this.get(e+o));let l=e+t+r-this._length;if(l>0)for(this._length+=l;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let l=0;l<t;l++)this.set(e+l+r,this.get(e+l))}}_getCyclicIndex(e){return(this._startIndex+e)%this._maxLength}},xe=3,ut=Object.freeze(new oa),Po=0,Xu=2,Jl=class f1{constructor(t,r,l=!1){this.isWrapped=l,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(t*xe);let o=r||Ni.fromCharData([0,D0,1,0]);for(let h=0;h<t;++h)this.setCell(h,o);this.length=t}get(t){let r=this._data[t*xe+0],l=r&2097151;return[this._data[t*xe+1],r&2097152?this._combined[t]:l?ar(l):"",r>>22,r&2097152?this._combined[t].charCodeAt(this._combined[t].length-1):l]}set(t,r){this._data[t*xe+1]=r[0],r[1].length>1?(this._combined[t]=r[1],this._data[t*xe+0]=t|2097152|r[2]<<22):this._data[t*xe+0]=r[1].charCodeAt(0)|r[2]<<22}getWidth(t){return this._data[t*xe+0]>>22}hasWidth(t){return this._data[t*xe+0]&12582912}getFg(t){return this._data[t*xe+1]}getBg(t){return this._data[t*xe+2]}hasContent(t){return this._data[t*xe+0]&4194303}getCodePoint(t){let r=this._data[t*xe+0];return r&2097152?this._combined[t].charCodeAt(this._combined[t].length-1):r&2097151}isCombined(t){return this._data[t*xe+0]&2097152}getString(t){let r=this._data[t*xe+0];return r&2097152?this._combined[t]:r&2097151?ar(r&2097151):""}isProtected(t){return this._data[t*xe+2]&536870912}loadCell(t,r){return Po=t*xe,r.content=this._data[Po+0],r.fg=this._data[Po+1],r.bg=this._data[Po+2],r.content&2097152&&(r.combinedData=this._combined[t]),r.bg&268435456&&(r.extended=this._extendedAttrs[t]),r}setCell(t,r){r.content&2097152&&(this._combined[t]=r.combinedData),r.bg&268435456&&(this._extendedAttrs[t]=r.extended),this._data[t*xe+0]=r.content,this._data[t*xe+1]=r.fg,this._data[t*xe+2]=r.bg}setCellFromCodepoint(t,r,l,o){o.bg&268435456&&(this._extendedAttrs[t]=o.extended),this._data[t*xe+0]=r|l<<22,this._data[t*xe+1]=o.fg,this._data[t*xe+2]=o.bg}addCodepointToCell(t,r,l){let o=this._data[t*xe+0];o&2097152?this._combined[t]+=ar(r):o&2097151?(this._combined[t]=ar(o&2097151)+ar(r),o&=-2097152,o|=2097152):o=r|1<<22,l&&(o&=-12582913,o|=l<<22),this._data[t*xe+0]=o}insertCells(t,r,l){if(t%=this.length,t&&this.getWidth(t-1)===2&&this.setCellFromCodepoint(t-1,0,1,l),r<this.length-t){let o=new Ni;for(let h=this.length-t-r-1;h>=0;--h)this.setCell(t+r+h,this.loadCell(t+h,o));for(let h=0;h<r;++h)this.setCell(t+h,l)}else for(let o=t;o<this.length;++o)this.setCell(o,l);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,l)}deleteCells(t,r,l){if(t%=this.length,r<this.length-t){let o=new Ni;for(let h=0;h<this.length-t-r;++h)this.setCell(t+h,this.loadCell(t+r+h,o));for(let h=this.length-r;h<this.length;++h)this.setCell(h,l)}else for(let o=t;o<this.length;++o)this.setCell(o,l);t&&this.getWidth(t-1)===2&&this.setCellFromCodepoint(t-1,0,1,l),this.getWidth(t)===0&&!this.hasContent(t)&&this.setCellFromCodepoint(t,0,1,l)}replaceCells(t,r,l,o=!1){if(o){for(t&&this.getWidth(t-1)===2&&!this.isProtected(t-1)&&this.setCellFromCodepoint(t-1,0,1,l),r<this.length&&this.getWidth(r-1)===2&&!this.isProtected(r)&&this.setCellFromCodepoint(r,0,1,l);t<r&&t<this.length;)this.isProtected(t)||this.setCell(t,l),t++;return}for(t&&this.getWidth(t-1)===2&&this.setCellFromCodepoint(t-1,0,1,l),r<this.length&&this.getWidth(r-1)===2&&this.setCellFromCodepoint(r,0,1,l);t<r&&t<this.length;)this.setCell(t++,l)}resize(t,r){if(t===this.length)return this._data.length*4*Xu<this._data.buffer.byteLength;let l=t*xe;if(t>this.length){if(this._data.buffer.byteLength>=l*4)this._data=new Uint32Array(this._data.buffer,0,l);else{let o=new Uint32Array(l);o.set(this._data),this._data=o}for(let o=this.length;o<t;++o)this.setCell(o,r)}else{this._data=this._data.subarray(0,l);let o=Object.keys(this._combined);for(let u=0;u<o.length;u++){let _=parseInt(o[u],10);_>=t&&delete this._combined[_]}let h=Object.keys(this._extendedAttrs);for(let u=0;u<h.length;u++){let _=parseInt(h[u],10);_>=t&&delete this._extendedAttrs[_]}}return this.length=t,l*4*Xu<this._data.buffer.byteLength}cleanupMemory(){if(this._data.length*4*Xu<this._data.buffer.byteLength){let t=new Uint32Array(this._data.length);return t.set(this._data),this._data=t,1}return 0}fill(t,r=!1){if(r){for(let l=0;l<this.length;++l)this.isProtected(l)||this.setCell(l,t);return}this._combined={},this._extendedAttrs={};for(let l=0;l<this.length;++l)this.setCell(l,t)}copyFrom(t){this.length!==t.length?this._data=new Uint32Array(t._data):this._data.set(t._data),this.length=t.length,this._combined={};for(let r in t._combined)this._combined[r]=t._combined[r];this._extendedAttrs={};for(let r in t._extendedAttrs)this._extendedAttrs[r]=t._extendedAttrs[r];this.isWrapped=t.isWrapped}clone(){let t=new f1(0);t._data=new Uint32Array(this._data),t.length=this.length;for(let r in this._combined)t._combined[r]=this._combined[r];for(let r in this._extendedAttrs)t._extendedAttrs[r]=this._extendedAttrs[r];return t.isWrapped=this.isWrapped,t}getTrimmedLength(){for(let t=this.length-1;t>=0;--t)if(this._data[t*xe+0]&4194303)return t+(this._data[t*xe+0]>>22);return 0}getNoBgTrimmedLength(){for(let t=this.length-1;t>=0;--t)if(this._data[t*xe+0]&4194303||this._data[t*xe+2]&50331648)return t+(this._data[t*xe+0]>>22);return 0}copyCellsFrom(t,r,l,o,h){let u=t._data;if(h)for(let g=o-1;g>=0;g--){for(let f=0;f<xe;f++)this._data[(l+g)*xe+f]=u[(r+g)*xe+f];u[(r+g)*xe+2]&268435456&&(this._extendedAttrs[l+g]=t._extendedAttrs[r+g])}else for(let g=0;g<o;g++){for(let f=0;f<xe;f++)this._data[(l+g)*xe+f]=u[(r+g)*xe+f];u[(r+g)*xe+2]&268435456&&(this._extendedAttrs[l+g]=t._extendedAttrs[r+g])}let _=Object.keys(t._combined);for(let g=0;g<_.length;g++){let f=parseInt(_[g],10);f>=r&&(this._combined[f-r+l]=t._combined[f])}}translateToString(t,r,l,o){r=r??0,l=l??this.length,t&&(l=Math.min(l,this.getTrimmedLength())),o&&(o.length=0);let h="";for(;r<l;){let u=this._data[r*xe+0],_=u&2097151,g=u&2097152?this._combined[r]:_?ar(_):or;if(h+=g,o)for(let f=0;f<g.length;++f)o.push(r);r+=u>>22||1}return o&&o.push(r),h}};function TC(e,t,r,l,o,h){let u=[];for(let _=0;_<e.length-1;_++){let g=_,f=e.get(++g);if(!f.isWrapped)continue;let p=[e.get(_)];for(;g<e.length&&f.isWrapped;)p.push(f),f=e.get(++g);if(!h&&l>=_&&l<g){_+=p.length-1;continue}let m=0,b=aa(p,m,t),x=1,E=0;for(;x<p.length;){let K=aa(p,x,t),W=K-E,ee=r-b,V=Math.min(W,ee);p[m].copyCellsFrom(p[x],E,b,V,!1),b+=V,b===r&&(m++,b=0),E+=V,E===K&&(x++,E=0),b===0&&m!==0&&p[m-1].getWidth(r-1)===2&&(p[m].copyCellsFrom(p[m-1],r-1,b++,1,!1),p[m-1].setCell(r-1,o))}p[m].replaceCells(b,r,o);let D=0;for(let K=p.length-1;K>0&&(K>m||p[K].getTrimmedLength()===0);K--)D++;D>0&&(u.push(_+p.length-D),u.push(D)),_+=p.length-1}return u}function RC(e,t){let r=[],l=0,o=t[l],h=0;for(let u=0;u<e.length;u++)if(o===u){let _=t[++l];e.onDeleteEmitter.fire({index:u-h,amount:_}),u+=_-1,h+=_,o=t[++l]}else r.push(u);return{layout:r,countRemoved:h}}function DC(e,t){let r=[];for(let l=0;l<t.length;l++)r.push(e.get(t[l]));for(let l=0;l<r.length;l++)e.set(l,r[l]);e.length=t.length}function BC(e,t,r){let l=[],o=e.map((g,f)=>aa(e,f,t)).reduce((g,f)=>g+f),h=0,u=0,_=0;for(;_<o;){if(o-_<r){l.push(o-_);break}h+=r;let g=aa(e,u,t);h>g&&(h-=g,u++);let f=e[u].getWidth(h-1)===2;f&&h--;let p=f?r-1:r;l.push(p),_+=p}return l}function aa(e,t,r){if(t===e.length-1)return e[t].getTrimmedLength();let l=!e[t].hasContent(r-1)&&e[t].getWidth(r-1)===1,o=e[t+1].getWidth(0)===2;return l&&o?r-1:r}var _1=class g1{constructor(t){this.line=t,this.isDisposed=!1,this._disposables=[],this._id=g1._nextId++,this._onDispose=this.register(new ne),this.onDispose=this._onDispose.event}get id(){return this._id}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),jr(this._disposables),this._disposables.length=0)}register(t){return this._disposables.push(t),t}};_1._nextId=1;var zC=_1,pt={},Dr=pt.B;pt[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""};pt.A={"#":""};pt.B=void 0;pt[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""};pt.C=pt[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};pt.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""};pt.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};pt.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""};pt.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""};pt.E=pt[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};pt.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""};pt.H=pt[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};pt["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""};var Cm=4294967295,Em=class{constructor(e,t,r){this._hasScrollback=e,this._optionsService=t,this._bufferService=r,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=ut.clone(),this.savedCharset=Dr,this.markers=[],this._nullCell=Ni.fromCharData([0,D0,1,0]),this._whitespaceCell=Ni.fromCharData([0,or,1,32]),this._isClearing=!1,this._memoryCleanupQueue=new nh,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new wm(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new th),this._nullCell}getWhitespaceCell(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new th),this._whitespaceCell}getBlankLine(e,t){return new Jl(this._bufferService.cols,this.getNullCell(e),t)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){let e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows}_getCorrectBufferLength(e){if(!this._hasScrollback)return e;let t=e+this._optionsService.rawOptions.scrollback;return t>Cm?Cm:t}fillViewportRows(e){if(this.lines.length===0){e===void 0&&(e=ut);let t=this._rows;for(;t--;)this.lines.push(this.getBlankLine(e))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new wm(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(e,t){let r=this.getNullCell(ut),l=0,o=this._getCorrectBufferLength(t);if(o>this.lines.maxLength&&(this.lines.maxLength=o),this.lines.length>0){if(this._cols<e)for(let u=0;u<this.lines.length;u++)l+=+this.lines.get(u).resize(e,r);let h=0;if(this._rows<t)for(let u=this._rows;u<t;u++)this.lines.length<t+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new Jl(e,r)):this.ybase>0&&this.lines.length<=this.ybase+this.y+h+1?(this.ybase--,h++,this.ydisp>0&&this.ydisp--):this.lines.push(new Jl(e,r)));else for(let u=this._rows;u>t;u--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(o<this.lines.maxLength){let u=this.lines.length-o;u>0&&(this.lines.trimStart(u),this.ybase=Math.max(this.ybase-u,0),this.ydisp=Math.max(this.ydisp-u,0),this.savedY=Math.max(this.savedY-u,0)),this.lines.maxLength=o}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),h&&(this.y+=h),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(let h=0;h<this.lines.length;h++)l+=+this.lines.get(h).resize(e,r);this._cols=e,this._rows=t,this._memoryCleanupQueue.clear(),l>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let e=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,e=!1);let t=0;for(;this._memoryCleanupPosition<this.lines.length;)if(t+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),t>100)return!0;return e}get _isReflowEnabled(){let e=this._optionsService.rawOptions.windowsPty;return e&&e.buildNumber?this._hasScrollback&&e.backend==="conpty"&&e.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))}_reflowLarger(e,t){let r=this._optionsService.rawOptions.reflowCursorLine,l=TC(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(ut),r);if(l.length>0){let o=RC(this.lines,l);DC(this.lines,o.layout),this._reflowLargerAdjustViewport(e,t,o.countRemoved)}}_reflowLargerAdjustViewport(e,t,r){let l=this.getNullCell(ut),o=r;for(;o-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<t&&this.lines.push(new Jl(e,l))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-r,0)}_reflowSmaller(e,t){let r=this._optionsService.rawOptions.reflowCursorLine,l=this.getNullCell(ut),o=[],h=0;for(let u=this.lines.length-1;u>=0;u--){let _=this.lines.get(u);if(!_||!_.isWrapped&&_.getTrimmedLength()<=e)continue;let g=[_];for(;_.isWrapped&&u>0;)_=this.lines.get(--u),g.unshift(_);if(!r){let V=this.ybase+this.y;if(V>=u&&V<u+g.length)continue}let f=g[g.length-1].getTrimmedLength(),p=BC(g,this._cols,e),m=p.length-g.length,b;this.ybase===0&&this.y!==this.lines.length-1?b=Math.max(0,this.y-this.lines.maxLength+m):b=Math.max(0,this.lines.length-this.lines.maxLength+m);let x=[];for(let V=0;V<m;V++){let z=this.getBlankLine(ut,!0);x.push(z)}x.length>0&&(o.push({start:u+g.length+h,newLines:x}),h+=x.length),g.push(...x);let E=p.length-1,D=p[E];D===0&&(E--,D=p[E]);let K=g.length-m-1,W=f;for(;K>=0;){let V=Math.min(W,D);if(g[E]===void 0)break;if(g[E].copyCellsFrom(g[K],W-V,D-V,V,!0),D-=V,D===0&&(E--,D=p[E]),W-=V,W===0){K--;let z=Math.max(K,0);W=aa(g,z,this._cols)}}for(let V=0;V<g.length;V++)p[V]<e&&g[V].setCell(p[V],l);let ee=m-b;for(;ee-- >0;)this.ybase===0?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+h)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+m,this.ybase+t-1)}if(o.length>0){let u=[],_=[];for(let D=0;D<this.lines.length;D++)_.push(this.lines.get(D));let g=this.lines.length,f=g-1,p=0,m=o[p];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+h);let b=0;for(let D=Math.min(this.lines.maxLength-1,g+h-1);D>=0;D--)if(m&&m.start>f+b){for(let K=m.newLines.length-1;K>=0;K--)this.lines.set(D--,m.newLines[K]);D++,u.push({index:f+1,amount:m.newLines.length}),b+=m.newLines.length,m=o[++p]}else this.lines.set(D,_[f--]);let x=0;for(let D=u.length-1;D>=0;D--)u[D].index+=x,this.lines.onInsertEmitter.fire(u[D]),x+=u[D].amount;let E=Math.max(0,g+h-this.lines.maxLength);E>0&&this.lines.onTrimEmitter.fire(E)}}translateBufferLineToString(e,t,r=0,l){let o=this.lines.get(e);return o?o.translateToString(t,r,l):""}getWrappedRangeForLine(e){let t=e,r=e;for(;t>0&&this.lines.get(t).isWrapped;)t--;for(;r+1<this.lines.length&&this.lines.get(r+1).isWrapped;)r++;return{first:t,last:r}}setupTabStops(e){for(e!=null?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.rawOptions.tabStopWidth)this.tabs[e]=!0}prevStop(e){for(e==null&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e}nextStop(e){for(e==null&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e}clearMarkers(e){this._isClearing=!0;for(let t=0;t<this.markers.length;t++)this.markers[t].line===e&&(this.markers[t].dispose(),this.markers.splice(t--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let e=0;e<this.markers.length;e++)this.markers[e].dispose();this.markers.length=0,this._isClearing=!1}addMarker(e){let t=new zC(e);return this.markers.push(t),t.register(this.lines.onTrim(r=>{t.line-=r,t.line<0&&t.dispose()})),t.register(this.lines.onInsert(r=>{t.line>=r.index&&(t.line+=r.amount)})),t.register(this.lines.onDelete(r=>{t.line>=r.index&&t.line<r.index+r.amount&&t.dispose(),t.line>r.index&&(t.line-=r.amount)})),t.register(t.onDispose(()=>this._removeMarker(t))),t}_removeMarker(e){this._isClearing||this.markers.splice(this.markers.indexOf(e),1)}},OC=class extends we{constructor(e,t){super(),this._optionsService=e,this._bufferService=t,this._onBufferActivate=this._register(new ne),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this._register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this._register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new Em(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new Em(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(e,t){this._normal.resize(e,t),this._alt.resize(e,t),this.setupTabStops(e)}setupTabStops(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)}},v1=2,p1=1,jd=class extends we{constructor(e){super(),this.isUserScrolling=!1,this._onResize=this._register(new ne),this.onResize=this._onResize.event,this._onScroll=this._register(new ne),this.onScroll=this._onScroll.event,this.cols=Math.max(e.rawOptions.cols||0,v1),this.rows=Math.max(e.rawOptions.rows||0,p1),this.buffers=this._register(new OC(e,this)),this._register(this.buffers.onBufferActivate(t=>{this._onScroll.fire(t.activeBuffer.ydisp)}))}get buffer(){return this.buffers.active}resize(e,t){let r=this.cols!==e,l=this.rows!==t;this.cols=e,this.rows=t,this.buffers.resize(e,t),this._onResize.fire({cols:e,rows:t,colsChanged:r,rowsChanged:l})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(e,t=!1){let r=this.buffer,l;l=this._cachedBlankLine,(!l||l.length!==this.cols||l.getFg(0)!==e.fg||l.getBg(0)!==e.bg)&&(l=r.getBlankLine(e,t),this._cachedBlankLine=l),l.isWrapped=t;let o=r.ybase+r.scrollTop,h=r.ybase+r.scrollBottom;if(r.scrollTop===0){let u=r.lines.isFull;h===r.lines.length-1?u?r.lines.recycle().copyFrom(l):r.lines.push(l.clone()):r.lines.splice(h+1,0,l.clone()),u?this.isUserScrolling&&(r.ydisp=Math.max(r.ydisp-1,0)):(r.ybase++,this.isUserScrolling||r.ydisp++)}else{let u=h-o+1;r.lines.shiftElements(o+1,u-1,-1),r.lines.set(h,l.clone())}this.isUserScrolling||(r.ydisp=r.ybase),this._onScroll.fire(r.ydisp)}scrollLines(e,t){let r=this.buffer;if(e<0){if(r.ydisp===0)return;this.isUserScrolling=!0}else e+r.ydisp>=r.ybase&&(this.isUserScrolling=!1);let l=r.ydisp;r.ydisp=Math.max(Math.min(r.ydisp+e,r.ybase),0),l!==r.ydisp&&(t||this._onScroll.fire(r.ydisp))}};jd=st([he(0,Gt)],jd);var Tn={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnEraseInDisplay:!1,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},reflowCursorLine:!1,rescaleOverlappingGlyphs:!1,rightClickSelectsWord:rh,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRuler:{}},NC=["normal","bold","100","200","300","400","500","600","700","800","900"],HC=class extends we{constructor(e){super(),this._onOptionChange=this._register(new ne),this.onOptionChange=this._onOptionChange.event;let t={...Tn};for(let r in e)if(r in t)try{let l=e[r];t[r]=this._sanitizeAndValidateOption(r,l)}catch(l){console.error(l)}this.rawOptions=t,this.options={...t},this._setupOptions(),this._register(Ve(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(e,t){return this.onOptionChange(r=>{r===e&&t(this.rawOptions[e])})}onMultipleOptionChange(e,t){return this.onOptionChange(r=>{e.indexOf(r)!==-1&&t()})}_setupOptions(){let e=r=>{if(!(r in Tn))throw new Error(`No option with key "${r}"`);return this.rawOptions[r]},t=(r,l)=>{if(!(r in Tn))throw new Error(`No option with key "${r}"`);l=this._sanitizeAndValidateOption(r,l),this.rawOptions[r]!==l&&(this.rawOptions[r]=l,this._onOptionChange.fire(r))};for(let r in this.rawOptions){let l={get:e.bind(this,r),set:t.bind(this,r)};Object.defineProperty(this.options,r,l)}}_sanitizeAndValidateOption(e,t){switch(e){case"cursorStyle":if(t||(t=Tn[e]),!jC(t))throw new Error(`"${t}" is not a valid value for ${e}`);break;case"wordSeparator":t||(t=Tn[e]);break;case"fontWeight":case"fontWeightBold":if(typeof t=="number"&&1<=t&&t<=1e3)break;t=NC.includes(t)?t:Tn[e];break;case"cursorWidth":t=Math.floor(t);case"lineHeight":case"tabStopWidth":if(t<1)throw new Error(`${e} cannot be less than 1, value: ${t}`);break;case"minimumContrastRatio":t=Math.max(1,Math.min(21,Math.round(t*10)/10));break;case"scrollback":if(t=Math.min(t,4294967295),t<0)throw new Error(`${e} cannot be less than 0, value: ${t}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(t<=0)throw new Error(`${e} cannot be less than or equal to 0, value: ${t}`);break;case"rows":case"cols":if(!t&&t!==0)throw new Error(`${e} must be numeric, value: ${t}`);break;case"windowsPty":t=t??{};break}return t}};function jC(e){return e==="block"||e==="underline"||e==="bar"}function ea(e,t=5){if(typeof e!="object")return e;let r=Array.isArray(e)?[]:{};for(let l in e)r[l]=t<=1?e[l]:e[l]&&ea(e[l],t-1);return r}var Mm=Object.freeze({insertMode:!1}),km=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,cursorBlink:void 0,cursorStyle:void 0,origin:!1,reverseWraparound:!1,sendFocus:!1,synchronizedOutput:!1,wraparound:!0}),Ud=class extends we{constructor(e,t,r){super(),this._bufferService=e,this._logService=t,this._optionsService=r,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this._register(new ne),this.onData=this._onData.event,this._onUserInput=this._register(new ne),this.onUserInput=this._onUserInput.event,this._onBinary=this._register(new ne),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this._register(new ne),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=ea(Mm),this.decPrivateModes=ea(km)}reset(){this.modes=ea(Mm),this.decPrivateModes=ea(km)}triggerDataEvent(e,t=!1){if(this._optionsService.rawOptions.disableStdin)return;let r=this._bufferService.buffer;t&&this._optionsService.rawOptions.scrollOnUserInput&&r.ybase!==r.ydisp&&this._onRequestScrollToBottom.fire(),t&&this._onUserInput.fire(),this._logService.debug(`sending data "${e}"`),this._logService.trace("sending data (codes)",()=>e.split("").map(l=>l.charCodeAt(0))),this._onData.fire(e)}triggerBinaryEvent(e){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${e}"`),this._logService.trace("sending binary (codes)",()=>e.split("").map(t=>t.charCodeAt(0))),this._onBinary.fire(e))}};Ud=st([he(0,Kt),he(1,H0),he(2,Gt)],Ud);var Lm={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:e=>e.button===4||e.action!==1?!1:(e.ctrl=!1,e.alt=!1,e.shift=!1,!0)},VT200:{events:19,restrict:e=>e.action!==32},DRAG:{events:23,restrict:e=>!(e.action===32&&e.button===3)},ANY:{events:31,restrict:e=>!0}};function Zu(e,t){let r=(e.ctrl?16:0)|(e.shift?4:0)|(e.alt?8:0);return e.button===4?(r|=64,r|=e.action):(r|=e.button&3,e.button&4&&(r|=64),e.button&8&&(r|=128),e.action===32?r|=32:e.action===0&&!t&&(r|=3)),r}var Qu=String.fromCharCode,Am={DEFAULT:e=>{let t=[Zu(e,!1)+32,e.col+32,e.row+32];return t[0]>255||t[1]>255||t[2]>255?"":`\x1B[M${Qu(t[0])}${Qu(t[1])}${Qu(t[2])}`},SGR:e=>{let t=e.action===0&&e.button!==4?"m":"M";return`\x1B[<${Zu(e,!0)};${e.col};${e.row}${t}`},SGR_PIXELS:e=>{let t=e.action===0&&e.button!==4?"m":"M";return`\x1B[<${Zu(e,!0)};${e.x};${e.y}${t}`}},$d=class extends we{constructor(e,t,r){super(),this._bufferService=e,this._coreService=t,this._optionsService=r,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._wheelPartialScroll=0,this._onProtocolChange=this._register(new ne),this.onProtocolChange=this._onProtocolChange.event;for(let l of Object.keys(Lm))this.addProtocol(l,Lm[l]);for(let l of Object.keys(Am))this.addEncoding(l,Am[l]);this.reset()}addProtocol(e,t){this._protocols[e]=t}addEncoding(e,t){this._encodings[e]=t}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(e){if(!this._protocols[e])throw new Error(`unknown protocol "${e}"`);this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(e){if(!this._encodings[e])throw new Error(`unknown encoding "${e}"`);this._activeEncoding=e}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null,this._wheelPartialScroll=0}consumeWheelEvent(e,t,r){if(e.deltaY===0||e.shiftKey||t===void 0||r===void 0)return 0;let l=t/r,o=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(o/=l+0,Math.abs(e.deltaY)<50&&(o*=.3),this._wheelPartialScroll+=o,o=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(o*=this._bufferService.rows),o}_applyScrollModifier(e,t){return t.altKey||t.ctrlKey||t.shiftKey?e*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:e*this._optionsService.rawOptions.scrollSensitivity}triggerMouseEvent(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows||e.button===4&&e.action===32||e.button===3&&e.action!==32||e.button!==4&&(e.action===2||e.action===3)||(e.col++,e.row++,e.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,e,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(e))return!1;let t=this._encodings[this._activeEncoding](e);return t&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0}explainEvents(e){return{down:!!(e&1),up:!!(e&2),drag:!!(e&4),move:!!(e&8),wheel:!!(e&16)}}_equalEvents(e,t,r){if(r){if(e.x!==t.x||e.y!==t.y)return!1}else if(e.col!==t.col||e.row!==t.row)return!1;return!(e.button!==t.button||e.action!==t.action||e.ctrl!==t.ctrl||e.alt!==t.alt||e.shift!==t.shift)}};$d=st([he(0,Kt),he(1,$r),he(2,Gt)],$d);var Ju=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],UC=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],vt;function $C(e,t){let r=0,l=t.length-1,o;if(e<t[0][0]||e>t[l][1])return!1;for(;l>=r;)if(o=r+l>>1,e>t[o][1])r=o+1;else if(e<t[o][0])l=o-1;else return!0;return!1}var PC=class{constructor(){if(this.version="6",!vt){vt=new Uint8Array(65536),vt.fill(1),vt[0]=0,vt.fill(0,1,32),vt.fill(0,127,160),vt.fill(2,4352,4448),vt[9001]=2,vt[9002]=2,vt.fill(2,11904,42192),vt[12351]=1,vt.fill(2,44032,55204),vt.fill(2,63744,64256),vt.fill(2,65040,65050),vt.fill(2,65072,65136),vt.fill(2,65280,65377),vt.fill(2,65504,65511);for(let e=0;e<Ju.length;++e)vt.fill(0,Ju[e][0],Ju[e][1]+1)}}wcwidth(e){return e<32?0:e<127?1:e<65536?vt[e]:$C(e,UC)?0:e>=131072&&e<=196605||e>=196608&&e<=262141?2:1}charProperties(e,t){let r=this.wcwidth(e),l=r===0&&t!==0;if(l){let o=zr.extractWidth(t);o===0?l=!1:o>r&&(r=o)}return zr.createPropertyValue(0,r,l)}},zr=class Qo{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new ne,this.onChange=this._onChange.event;let t=new PC;this.register(t),this._active=t.version,this._activeProvider=t}static extractShouldJoin(t){return(t&1)!==0}static extractWidth(t){return t>>1&3}static extractCharKind(t){return t>>3}static createPropertyValue(t,r,l=!1){return(t&16777215)<<3|(r&3)<<1|(l?1:0)}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(t){if(!this._providers[t])throw new Error(`unknown Unicode version "${t}"`);this._active=t,this._activeProvider=this._providers[t],this._onChange.fire(t)}register(t){this._providers[t.version]=t}wcwidth(t){return this._activeProvider.wcwidth(t)}getStringCellWidth(t){let r=0,l=0,o=t.length;for(let h=0;h<o;++h){let u=t.charCodeAt(h);if(55296<=u&&u<=56319){if(++h>=o)return r+this.wcwidth(u);let f=t.charCodeAt(h);56320<=f&&f<=57343?u=(u-55296)*1024+f-56320+65536:r+=this.wcwidth(f)}let _=this.charProperties(u,l),g=Qo.extractWidth(_);Qo.extractShouldJoin(_)&&(g-=Qo.extractWidth(l)),r+=g,l=_}return r}charProperties(t,r){return this._activeProvider.charProperties(t,r)}},FC=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(e){this.glevel=e,this.charset=this._charsets[e]}setgCharset(e,t){this._charsets[e]=t,this.glevel===e&&(this.charset=t)}};function Tm(e){let t=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1)?.get(e.cols-1),r=e.buffer.lines.get(e.buffer.ybase+e.buffer.y);r&&t&&(r.isWrapped=t[3]!==0&&t[3]!==32)}var Kl=2147483647,WC=256,m1=class Pd{constructor(t=32,r=32){if(this.maxLength=t,this.maxSubParamsLength=r,r>WC)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(t),this.length=0,this._subParams=new Int32Array(r),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(t),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(t){let r=new Pd;if(!t.length)return r;for(let l=Array.isArray(t[0])?1:0;l<t.length;++l){let o=t[l];if(Array.isArray(o))for(let h=0;h<o.length;++h)r.addSubParam(o[h]);else r.addParam(o)}return r}clone(){let t=new Pd(this.maxLength,this.maxSubParamsLength);return t.params.set(this.params),t.length=this.length,t._subParams.set(this._subParams),t._subParamsLength=this._subParamsLength,t._subParamsIdx.set(this._subParamsIdx),t._rejectDigits=this._rejectDigits,t._rejectSubDigits=this._rejectSubDigits,t._digitIsSub=this._digitIsSub,t}toArray(){let t=[];for(let r=0;r<this.length;++r){t.push(this.params[r]);let l=this._subParamsIdx[r]>>8,o=this._subParamsIdx[r]&255;o-l>0&&t.push(Array.prototype.slice.call(this._subParams,l,o))}return t}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(t){if(this._digitIsSub=!1,this.length>=this.maxLength){this._rejectDigits=!0;return}if(t<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=t>Kl?Kl:t}addSubParam(t){if(this._digitIsSub=!0,!!this.length){if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength){this._rejectSubDigits=!0;return}if(t<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=t>Kl?Kl:t,this._subParamsIdx[this.length-1]++}}hasSubParams(t){return(this._subParamsIdx[t]&255)-(this._subParamsIdx[t]>>8)>0}getSubParams(t){let r=this._subParamsIdx[t]>>8,l=this._subParamsIdx[t]&255;return l-r>0?this._subParams.subarray(r,l):null}getSubParamsAll(){let t={};for(let r=0;r<this.length;++r){let l=this._subParamsIdx[r]>>8,o=this._subParamsIdx[r]&255;o-l>0&&(t[r]=this._subParams.slice(l,o))}return t}addDigit(t){let r;if(this._rejectDigits||!(r=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;let l=this._digitIsSub?this._subParams:this.params,o=l[r-1];l[r-1]=~o?Math.min(o*10+t,Kl):t}},Gl=[],qC=class{constructor(){this._state=0,this._active=Gl,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(e,t){this._handlers[e]===void 0&&(this._handlers[e]=[]);let r=this._handlers[e];return r.push(t),{dispose:()=>{let l=r.indexOf(t);l!==-1&&r.splice(l,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=Gl}reset(){if(this._state===2)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].end(!1);this._stack.paused=!1,this._active=Gl,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||Gl,!this._active.length)this._handlerFb(this._id,"START");else for(let e=this._active.length-1;e>=0;e--)this._active[e].start()}_put(e,t,r){if(!this._active.length)this._handlerFb(this._id,"PUT",oh(e,t,r));else for(let l=this._active.length-1;l>=0;l--)this._active[l].put(e,t,r)}start(){this.reset(),this._state=1}put(e,t,r){if(this._state!==3){if(this._state===1)for(;t<r;){let l=e[t++];if(l===59){this._state=2,this._start();break}if(l<48||57<l){this._state=3;return}this._id===-1&&(this._id=0),this._id=this._id*10+l-48}this._state===2&&r-t>0&&this._put(e,t,r)}}end(e,t=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),!this._active.length)this._handlerFb(this._id,"END",e);else{let r=!1,l=this._active.length-1,o=!1;if(this._stack.paused&&(l=this._stack.loopPosition-1,r=t,o=this._stack.fallThrough,this._stack.paused=!1),!o&&r===!1){for(;l>=0&&(r=this._active[l].end(e),r!==!0);l--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=l,this._stack.fallThrough=!1,r;l--}for(;l>=0;l--)if(r=this._active[l].end(!1),r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=l,this._stack.fallThrough=!0,r}this._active=Gl,this._id=-1,this._state=0}}},pi=class{constructor(e){this._handler=e,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(e,t,r){this._hitLimit||(this._data+=oh(e,t,r),this._data.length>1e7&&(this._data="",this._hitLimit=!0))}end(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data),t instanceof Promise))return t.then(r=>(this._data="",this._hitLimit=!1,r));return this._data="",this._hitLimit=!1,t}},Vl=[],YC=class{constructor(){this._handlers=Object.create(null),this._active=Vl,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=Vl}registerHandler(e,t){this._handlers[e]===void 0&&(this._handlers[e]=[]);let r=this._handlers[e];return r.push(t),{dispose:()=>{let l=r.indexOf(t);l!==-1&&r.splice(l,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}reset(){if(this._active.length)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].unhook(!1);this._stack.paused=!1,this._active=Vl,this._ident=0}hook(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||Vl,!this._active.length)this._handlerFb(this._ident,"HOOK",t);else for(let r=this._active.length-1;r>=0;r--)this._active[r].hook(t)}put(e,t,r){if(!this._active.length)this._handlerFb(this._ident,"PUT",oh(e,t,r));else for(let l=this._active.length-1;l>=0;l--)this._active[l].put(e,t,r)}unhook(e,t=!0){if(!this._active.length)this._handlerFb(this._ident,"UNHOOK",e);else{let r=!1,l=this._active.length-1,o=!1;if(this._stack.paused&&(l=this._stack.loopPosition-1,r=t,o=this._stack.fallThrough,this._stack.paused=!1),!o&&r===!1){for(;l>=0&&(r=this._active[l].unhook(e),r!==!0);l--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=l,this._stack.fallThrough=!1,r;l--}for(;l>=0;l--)if(r=this._active[l].unhook(!1),r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=l,this._stack.fallThrough=!0,r}this._active=Vl,this._ident=0}},ta=new m1;ta.addParam(0);var Rm=class{constructor(e){this._handler=e,this._data="",this._params=ta,this._hitLimit=!1}hook(e){this._params=e.length>1||e.params[0]?e.clone():ta,this._data="",this._hitLimit=!1}put(e,t,r){this._hitLimit||(this._data+=oh(e,t,r),this._data.length>1e7&&(this._data="",this._hitLimit=!0))}unhook(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data,this._params),t instanceof Promise))return t.then(r=>(this._params=ta,this._data="",this._hitLimit=!1,r));return this._params=ta,this._data="",this._hitLimit=!1,t}},IC=class{constructor(e){this.table=new Uint8Array(e)}setDefault(e,t){this.table.fill(e<<4|t)}add(e,t,r,l){this.table[t<<8|e]=r<<4|l}addMany(e,t,r,l){for(let o=0;o<e.length;o++)this.table[t<<8|e[o]]=r<<4|l}},zi=160,KC=(function(){let e=new IC(4095),t=Array.apply(null,Array(256)).map((_,g)=>g),r=(_,g)=>t.slice(_,g),l=r(32,127),o=r(0,24);o.push(25),o.push.apply(o,r(28,32));let h=r(0,14),u;e.setDefault(1,0),e.addMany(l,0,2,0);for(u in h)e.addMany([24,26,153,154],u,3,0),e.addMany(r(128,144),u,3,0),e.addMany(r(144,152),u,3,0),e.add(156,u,0,0),e.add(27,u,11,1),e.add(157,u,4,8),e.addMany([152,158,159],u,0,7),e.add(155,u,11,3),e.add(144,u,11,9);return e.addMany(o,0,3,0),e.addMany(o,1,3,1),e.add(127,1,0,1),e.addMany(o,8,0,8),e.addMany(o,3,3,3),e.add(127,3,0,3),e.addMany(o,4,3,4),e.add(127,4,0,4),e.addMany(o,6,3,6),e.addMany(o,5,3,5),e.add(127,5,0,5),e.addMany(o,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(l,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(r(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(l,7,0,7),e.addMany(o,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(r(64,127),3,7,0),e.addMany(r(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(r(48,60),4,8,4),e.addMany(r(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(r(32,64),6,0,6),e.add(127,6,0,6),e.addMany(r(64,127),6,0,0),e.addMany(r(32,48),3,9,5),e.addMany(r(32,48),5,9,5),e.addMany(r(48,64),5,0,6),e.addMany(r(64,127),5,7,0),e.addMany(r(32,48),4,9,5),e.addMany(r(32,48),1,9,2),e.addMany(r(32,48),2,9,2),e.addMany(r(48,127),2,10,0),e.addMany(r(48,80),1,10,0),e.addMany(r(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(r(96,127),1,10,0),e.add(80,1,11,9),e.addMany(o,9,0,9),e.add(127,9,0,9),e.addMany(r(28,32),9,0,9),e.addMany(r(32,48),9,9,12),e.addMany(r(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(o,11,0,11),e.addMany(r(32,128),11,0,11),e.addMany(r(28,32),11,0,11),e.addMany(o,10,0,10),e.add(127,10,0,10),e.addMany(r(28,32),10,0,10),e.addMany(r(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(r(32,48),10,9,12),e.addMany(o,12,0,12),e.add(127,12,0,12),e.addMany(r(28,32),12,0,12),e.addMany(r(32,48),12,9,12),e.addMany(r(48,64),12,0,11),e.addMany(r(64,127),12,12,13),e.addMany(r(64,127),10,12,13),e.addMany(r(64,127),9,12,13),e.addMany(o,13,13,13),e.addMany(l,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(zi,0,2,0),e.add(zi,8,5,8),e.add(zi,6,0,6),e.add(zi,11,0,11),e.add(zi,13,13,13),e})(),GC=class extends we{constructor(e=KC){super(),this._transitions=e,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new m1,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(t,r,l)=>{},this._executeHandlerFb=t=>{},this._csiHandlerFb=(t,r)=>{},this._escHandlerFb=t=>{},this._errorHandlerFb=t=>t,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this._register(Ve(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this._register(new qC),this._dcsParser=this._register(new YC),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(e,t=[64,126]){let r=0;if(e.prefix){if(e.prefix.length>1)throw new Error("only one byte as prefix supported");if(r=e.prefix.charCodeAt(0),r&&60>r||r>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(e.intermediates){if(e.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let o=0;o<e.intermediates.length;++o){let h=e.intermediates.charCodeAt(o);if(32>h||h>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");r<<=8,r|=h}}if(e.final.length!==1)throw new Error("final must be a single byte");let l=e.final.charCodeAt(0);if(t[0]>l||l>t[1])throw new Error(`final must be in range ${t[0]} .. ${t[1]}`);return r<<=8,r|=l,r}identToString(e){let t=[];for(;e;)t.push(String.fromCharCode(e&255)),e>>=8;return t.reverse().join("")}setPrintHandler(e){this._printHandler=e}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(e,t){let r=this._identifier(e,[48,126]);this._escHandlers[r]===void 0&&(this._escHandlers[r]=[]);let l=this._escHandlers[r];return l.push(t),{dispose:()=>{let o=l.indexOf(t);o!==-1&&l.splice(o,1)}}}clearEscHandler(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]}setEscHandlerFallback(e){this._escHandlerFb=e}setExecuteHandler(e,t){this._executeHandlers[e.charCodeAt(0)]=t}clearExecuteHandler(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]}setExecuteHandlerFallback(e){this._executeHandlerFb=e}registerCsiHandler(e,t){let r=this._identifier(e);this._csiHandlers[r]===void 0&&(this._csiHandlers[r]=[]);let l=this._csiHandlers[r];return l.push(t),{dispose:()=>{let o=l.indexOf(t);o!==-1&&l.splice(o,1)}}}clearCsiHandler(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]}setCsiHandlerFallback(e){this._csiHandlerFb=e}registerDcsHandler(e,t){return this._dcsParser.registerHandler(this._identifier(e),t)}clearDcsHandler(e){this._dcsParser.clearHandler(this._identifier(e))}setDcsHandlerFallback(e){this._dcsParser.setHandlerFallback(e)}registerOscHandler(e,t){return this._oscParser.registerHandler(e,t)}clearOscHandler(e){this._oscParser.clearHandler(e)}setOscHandlerFallback(e){this._oscParser.setHandlerFallback(e)}setErrorHandler(e){this._errorHandler=e}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(e,t,r,l,o){this._parseStack.state=e,this._parseStack.handlers=t,this._parseStack.handlerPos=r,this._parseStack.transition=l,this._parseStack.chunkPos=o}parse(e,t,r){let l=0,o=0,h=0,u;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,h=this._parseStack.chunkPos+1;else{if(r===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");let _=this._parseStack.handlers,g=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(r===!1&&g>-1){for(;g>=0&&(u=_[g](this._params),u!==!0);g--)if(u instanceof Promise)return this._parseStack.handlerPos=g,u}this._parseStack.handlers=[];break;case 4:if(r===!1&&g>-1){for(;g>=0&&(u=_[g](),u!==!0);g--)if(u instanceof Promise)return this._parseStack.handlerPos=g,u}this._parseStack.handlers=[];break;case 6:if(l=e[this._parseStack.chunkPos],u=this._dcsParser.unhook(l!==24&&l!==26,r),u)return u;l===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(l=e[this._parseStack.chunkPos],u=this._oscParser.end(l!==24&&l!==26,r),u)return u;l===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break}this._parseStack.state=0,h=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=this._parseStack.transition&15}for(let _=h;_<t;++_){switch(l=e[_],o=this._transitions.table[this.currentState<<8|(l<160?l:zi)],o>>4){case 2:for(let b=_+1;;++b){if(b>=t||(l=e[b])<32||l>126&&l<zi){this._printHandler(e,_,b),_=b-1;break}if(++b>=t||(l=e[b])<32||l>126&&l<zi){this._printHandler(e,_,b),_=b-1;break}if(++b>=t||(l=e[b])<32||l>126&&l<zi){this._printHandler(e,_,b),_=b-1;break}if(++b>=t||(l=e[b])<32||l>126&&l<zi){this._printHandler(e,_,b),_=b-1;break}}break;case 3:this._executeHandlers[l]?this._executeHandlers[l]():this._executeHandlerFb(l),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:_,code:l,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:let g=this._csiHandlers[this._collect<<8|l],f=g?g.length-1:-1;for(;f>=0&&(u=g[f](this._params),u!==!0);f--)if(u instanceof Promise)return this._preserveStack(3,g,f,o,_),u;f<0&&this._csiHandlerFb(this._collect<<8|l,this._params),this.precedingJoinState=0;break;case 8:do switch(l){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(l-48)}while(++_<t&&(l=e[_])>47&&l<60);_--;break;case 9:this._collect<<=8,this._collect|=l;break;case 10:let p=this._escHandlers[this._collect<<8|l],m=p?p.length-1:-1;for(;m>=0&&(u=p[m](),u!==!0);m--)if(u instanceof Promise)return this._preserveStack(4,p,m,o,_),u;m<0&&this._escHandlerFb(this._collect<<8|l),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|l,this._params);break;case 13:for(let b=_+1;;++b)if(b>=t||(l=e[b])===24||l===26||l===27||l>127&&l<zi){this._dcsParser.put(e,_,b),_=b-1;break}break;case 14:if(u=this._dcsParser.unhook(l!==24&&l!==26),u)return this._preserveStack(6,[],0,o,_),u;l===27&&(o|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let b=_+1;;b++)if(b>=t||(l=e[b])<32||l>127&&l<zi){this._oscParser.put(e,_,b),_=b-1;break}break;case 6:if(u=this._oscParser.end(l!==24&&l!==26),u)return this._preserveStack(5,[],0,o,_),u;l===27&&(o|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break}this.currentState=o&15}}},VC=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,XC=/^[\da-f]+$/;function Dm(e){if(!e)return;let t=e.toLowerCase();if(t.indexOf("rgb:")===0){t=t.slice(4);let r=VC.exec(t);if(r){let l=r[1]?15:r[4]?255:r[7]?4095:65535;return[Math.round(parseInt(r[1]||r[4]||r[7]||r[10],16)/l*255),Math.round(parseInt(r[2]||r[5]||r[8]||r[11],16)/l*255),Math.round(parseInt(r[3]||r[6]||r[9]||r[12],16)/l*255)]}}else if(t.indexOf("#")===0&&(t=t.slice(1),XC.exec(t)&&[3,6,9,12].includes(t.length))){let r=t.length/3,l=[0,0,0];for(let o=0;o<3;++o){let h=parseInt(t.slice(r*o,r*o+r),16);l[o]=r===1?h<<4:r===2?h:r===3?h>>4:h>>8}return l}}function ed(e,t){let r=e.toString(16),l=r.length<2?"0"+r:r;switch(t){case 4:return r[0];case 8:return l;case 12:return(l+l).slice(0,3);default:return l+l}}function ZC(e,t=16){let[r,l,o]=e;return`rgb:${ed(r,t)}/${ed(l,t)}/${ed(o,t)}`}var QC={"(":0,")":1,"*":2,"+":3,"-":1,".":2},rr=131072,Bm=10;function zm(e,t){if(e>24)return t.setWinLines||!1;switch(e){case 1:return!!t.restoreWin;case 2:return!!t.minimizeWin;case 3:return!!t.setWinPosition;case 4:return!!t.setWinSizePixels;case 5:return!!t.raiseWin;case 6:return!!t.lowerWin;case 7:return!!t.refreshWin;case 8:return!!t.setWinSizeChars;case 9:return!!t.maximizeWin;case 10:return!!t.fullscreenWin;case 11:return!!t.getWinState;case 13:return!!t.getWinPosition;case 14:return!!t.getWinSizePixels;case 15:return!!t.getScreenSizePixels;case 16:return!!t.getCellSizePixels;case 18:return!!t.getWinSizeChars;case 19:return!!t.getScreenSizeChars;case 20:return!!t.getIconTitle;case 21:return!!t.getWinTitle;case 22:return!!t.pushTitle;case 23:return!!t.popTitle;case 24:return!!t.setWinLines}return!1}var Om=5e3,Nm=0,JC=class extends we{constructor(e,t,r,l,o,h,u,_,g=new GC){super(),this._bufferService=e,this._charsetService=t,this._coreService=r,this._logService=l,this._optionsService=o,this._oscLinkService=h,this._coreMouseService=u,this._unicodeService=_,this._parser=g,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new mw,this._utf8Decoder=new Sw,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=ut.clone(),this._eraseAttrDataInternal=ut.clone(),this._onRequestBell=this._register(new ne),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this._register(new ne),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this._register(new ne),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this._register(new ne),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this._register(new ne),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this._register(new ne),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this._register(new ne),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this._register(new ne),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this._register(new ne),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this._register(new ne),this.onLineFeed=this._onLineFeed.event,this._onScroll=this._register(new ne),this.onScroll=this._onScroll.event,this._onTitleChange=this._register(new ne),this.onTitleChange=this._onTitleChange.event,this._onColor=this._register(new ne),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this._register(this._parser),this._dirtyRowTracker=new Fd(this._bufferService),this._activeBuffer=this._bufferService.buffer,this._register(this._bufferService.buffers.onBufferActivate(f=>this._activeBuffer=f.activeBuffer)),this._parser.setCsiHandlerFallback((f,p)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(f),params:p.toArray()})}),this._parser.setEscHandlerFallback(f=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(f)})}),this._parser.setExecuteHandlerFallback(f=>{this._logService.debug("Unknown EXECUTE code: ",{code:f})}),this._parser.setOscHandlerFallback((f,p,m)=>{this._logService.debug("Unknown OSC code: ",{identifier:f,action:p,data:m})}),this._parser.setDcsHandlerFallback((f,p,m)=>{p==="HOOK"&&(m=m.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(f),action:p,payload:m})}),this._parser.setPrintHandler((f,p,m)=>this.print(f,p,m)),this._parser.registerCsiHandler({final:"@"},f=>this.insertChars(f)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},f=>this.scrollLeft(f)),this._parser.registerCsiHandler({final:"A"},f=>this.cursorUp(f)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},f=>this.scrollRight(f)),this._parser.registerCsiHandler({final:"B"},f=>this.cursorDown(f)),this._parser.registerCsiHandler({final:"C"},f=>this.cursorForward(f)),this._parser.registerCsiHandler({final:"D"},f=>this.cursorBackward(f)),this._parser.registerCsiHandler({final:"E"},f=>this.cursorNextLine(f)),this._parser.registerCsiHandler({final:"F"},f=>this.cursorPrecedingLine(f)),this._parser.registerCsiHandler({final:"G"},f=>this.cursorCharAbsolute(f)),this._parser.registerCsiHandler({final:"H"},f=>this.cursorPosition(f)),this._parser.registerCsiHandler({final:"I"},f=>this.cursorForwardTab(f)),this._parser.registerCsiHandler({final:"J"},f=>this.eraseInDisplay(f,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},f=>this.eraseInDisplay(f,!0)),this._parser.registerCsiHandler({final:"K"},f=>this.eraseInLine(f,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},f=>this.eraseInLine(f,!0)),this._parser.registerCsiHandler({final:"L"},f=>this.insertLines(f)),this._parser.registerCsiHandler({final:"M"},f=>this.deleteLines(f)),this._parser.registerCsiHandler({final:"P"},f=>this.deleteChars(f)),this._parser.registerCsiHandler({final:"S"},f=>this.scrollUp(f)),this._parser.registerCsiHandler({final:"T"},f=>this.scrollDown(f)),this._parser.registerCsiHandler({final:"X"},f=>this.eraseChars(f)),this._parser.registerCsiHandler({final:"Z"},f=>this.cursorBackwardTab(f)),this._parser.registerCsiHandler({final:"`"},f=>this.charPosAbsolute(f)),this._parser.registerCsiHandler({final:"a"},f=>this.hPositionRelative(f)),this._parser.registerCsiHandler({final:"b"},f=>this.repeatPrecedingCharacter(f)),this._parser.registerCsiHandler({final:"c"},f=>this.sendDeviceAttributesPrimary(f)),this._parser.registerCsiHandler({prefix:">",final:"c"},f=>this.sendDeviceAttributesSecondary(f)),this._parser.registerCsiHandler({final:"d"},f=>this.linePosAbsolute(f)),this._parser.registerCsiHandler({final:"e"},f=>this.vPositionRelative(f)),this._parser.registerCsiHandler({final:"f"},f=>this.hVPosition(f)),this._parser.registerCsiHandler({final:"g"},f=>this.tabClear(f)),this._parser.registerCsiHandler({final:"h"},f=>this.setMode(f)),this._parser.registerCsiHandler({prefix:"?",final:"h"},f=>this.setModePrivate(f)),this._parser.registerCsiHandler({final:"l"},f=>this.resetMode(f)),this._parser.registerCsiHandler({prefix:"?",final:"l"},f=>this.resetModePrivate(f)),this._parser.registerCsiHandler({final:"m"},f=>this.charAttributes(f)),this._parser.registerCsiHandler({final:"n"},f=>this.deviceStatus(f)),this._parser.registerCsiHandler({prefix:"?",final:"n"},f=>this.deviceStatusPrivate(f)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},f=>this.softReset(f)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},f=>this.setCursorStyle(f)),this._parser.registerCsiHandler({final:"r"},f=>this.setScrollRegion(f)),this._parser.registerCsiHandler({final:"s"},f=>this.saveCursor(f)),this._parser.registerCsiHandler({final:"t"},f=>this.windowOptions(f)),this._parser.registerCsiHandler({final:"u"},f=>this.restoreCursor(f)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},f=>this.insertColumns(f)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},f=>this.deleteColumns(f)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},f=>this.selectProtected(f)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},f=>this.requestMode(f,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},f=>this.requestMode(f,!1)),this._parser.setExecuteHandler(J.BEL,()=>this.bell()),this._parser.setExecuteHandler(J.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(J.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(J.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(J.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(J.BS,()=>this.backspace()),this._parser.setExecuteHandler(J.HT,()=>this.tab()),this._parser.setExecuteHandler(J.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(J.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(Xo.IND,()=>this.index()),this._parser.setExecuteHandler(Xo.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(Xo.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new pi(f=>(this.setTitle(f),this.setIconName(f),!0))),this._parser.registerOscHandler(1,new pi(f=>this.setIconName(f))),this._parser.registerOscHandler(2,new pi(f=>this.setTitle(f))),this._parser.registerOscHandler(4,new pi(f=>this.setOrReportIndexedColor(f))),this._parser.registerOscHandler(8,new pi(f=>this.setHyperlink(f))),this._parser.registerOscHandler(10,new pi(f=>this.setOrReportFgColor(f))),this._parser.registerOscHandler(11,new pi(f=>this.setOrReportBgColor(f))),this._parser.registerOscHandler(12,new pi(f=>this.setOrReportCursorColor(f))),this._parser.registerOscHandler(104,new pi(f=>this.restoreIndexedColor(f))),this._parser.registerOscHandler(110,new pi(f=>this.restoreFgColor(f))),this._parser.registerOscHandler(111,new pi(f=>this.restoreBgColor(f))),this._parser.registerOscHandler(112,new pi(f=>this.restoreCursorColor(f))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(let f in pt)this._parser.registerEscHandler({intermediates:"(",final:f},()=>this.selectCharset("("+f)),this._parser.registerEscHandler({intermediates:")",final:f},()=>this.selectCharset(")"+f)),this._parser.registerEscHandler({intermediates:"*",final:f},()=>this.selectCharset("*"+f)),this._parser.registerEscHandler({intermediates:"+",final:f},()=>this.selectCharset("+"+f)),this._parser.registerEscHandler({intermediates:"-",final:f},()=>this.selectCharset("-"+f)),this._parser.registerEscHandler({intermediates:".",final:f},()=>this.selectCharset("."+f)),this._parser.registerEscHandler({intermediates:"/",final:f},()=>this.selectCharset("/"+f));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(f=>(this._logService.error("Parsing error: ",f),f)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new Rm((f,p)=>this.requestStatusString(f,p)))}getAttrData(){return this._curAttrData}_preserveStack(e,t,r,l){this._parseStack.paused=!0,this._parseStack.cursorStartX=e,this._parseStack.cursorStartY=t,this._parseStack.decodedLength=r,this._parseStack.position=l}_logSlowResolvingAsync(e){this._logService.logLevel<=3&&Promise.race([e,new Promise((t,r)=>setTimeout(()=>r("#SLOW_TIMEOUT"),Om))]).catch(t=>{if(t!=="#SLOW_TIMEOUT")throw t;console.warn(`async parser handler taking longer than ${Om} ms`)})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(e,t){let r,l=this._activeBuffer.x,o=this._activeBuffer.y,h=0,u=this._parseStack.paused;if(u){if(r=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,t))return this._logSlowResolvingAsync(r),r;l=this._parseStack.cursorStartX,o=this._parseStack.cursorStartY,this._parseStack.paused=!1,e.length>rr&&(h=this._parseStack.position+rr)}if(this._logService.logLevel<=1&&this._logService.debug(`parsing data ${typeof e=="string"?` "${e}"`:` "${Array.prototype.map.call(e,f=>String.fromCharCode(f)).join("")}"`}`),this._logService.logLevel===0&&this._logService.trace("parsing data (codes)",typeof e=="string"?e.split("").map(f=>f.charCodeAt(0)):e),this._parseBuffer.length<e.length&&this._parseBuffer.length<rr&&(this._parseBuffer=new Uint32Array(Math.min(e.length,rr))),u||this._dirtyRowTracker.clearRange(),e.length>rr)for(let f=h;f<e.length;f+=rr){let p=f+rr<e.length?f+rr:e.length,m=typeof e=="string"?this._stringDecoder.decode(e.substring(f,p),this._parseBuffer):this._utf8Decoder.decode(e.subarray(f,p),this._parseBuffer);if(r=this._parser.parse(this._parseBuffer,m))return this._preserveStack(l,o,m,f),this._logSlowResolvingAsync(r),r}else if(!u){let f=typeof e=="string"?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer);if(r=this._parser.parse(this._parseBuffer,f))return this._preserveStack(l,o,f,0),this._logSlowResolvingAsync(r),r}(this._activeBuffer.x!==l||this._activeBuffer.y!==o)&&this._onCursorMove.fire();let _=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),g=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);g<this._bufferService.rows&&this._onRequestRefreshRows.fire({start:Math.min(g,this._bufferService.rows-1),end:Math.min(_,this._bufferService.rows-1)})}print(e,t,r){let l,o,h=this._charsetService.charset,u=this._optionsService.rawOptions.screenReaderMode,_=this._bufferService.cols,g=this._coreService.decPrivateModes.wraparound,f=this._coreService.modes.insertMode,p=this._curAttrData,m=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&r-t>0&&m.getWidth(this._activeBuffer.x-1)===2&&m.setCellFromCodepoint(this._activeBuffer.x-1,0,1,p);let b=this._parser.precedingJoinState;for(let x=t;x<r;++x){if(l=e[x],l<127&&h){let W=h[String.fromCharCode(l)];W&&(l=W.charCodeAt(0))}let E=this._unicodeService.charProperties(l,b);o=zr.extractWidth(E);let D=zr.extractShouldJoin(E),K=D?zr.extractWidth(b):0;if(b=E,u&&this._onA11yChar.fire(ar(l)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+o-K>_){if(g){let W=m,ee=this._activeBuffer.x-K;for(this._activeBuffer.x=K,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),m=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),K>0&&m instanceof Jl&&m.copyCellsFrom(W,ee,0,K,!1);ee<_;)W.setCellFromCodepoint(ee++,0,1,p)}else if(this._activeBuffer.x=_-1,o===2)continue}if(D&&this._activeBuffer.x){let W=m.getWidth(this._activeBuffer.x-1)?1:2;m.addCodepointToCell(this._activeBuffer.x-W,l,o);for(let ee=o-K;--ee>=0;)m.setCellFromCodepoint(this._activeBuffer.x++,0,0,p);continue}if(f&&(m.insertCells(this._activeBuffer.x,o-K,this._activeBuffer.getNullCell(p)),m.getWidth(_-1)===2&&m.setCellFromCodepoint(_-1,0,1,p)),m.setCellFromCodepoint(this._activeBuffer.x++,l,o,p),o>0)for(;--o;)m.setCellFromCodepoint(this._activeBuffer.x++,0,0,p)}this._parser.precedingJoinState=b,this._activeBuffer.x<_&&r-t>0&&m.getWidth(this._activeBuffer.x)===0&&!m.hasContent(this._activeBuffer.x)&&m.setCellFromCodepoint(this._activeBuffer.x,0,1,p),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(e,t){return e.final==="t"&&!e.prefix&&!e.intermediates?this._parser.registerCsiHandler(e,r=>zm(r.params[0],this._optionsService.rawOptions.windowOptions)?t(r):!0):this._parser.registerCsiHandler(e,t)}registerDcsHandler(e,t){return this._parser.registerDcsHandler(e,new Rm(t))}registerEscHandler(e,t){return this._parser.registerEscHandler(e,t)}registerOscHandler(e,t){return this._parser.registerOscHandler(e,new pi(t))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)?.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;let e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);e.hasWidth(this._activeBuffer.x)&&!e.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let e=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-e),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(e=this._bufferService.cols-1){this._activeBuffer.x=Math.min(e,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(e,t){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=e,this._activeBuffer.y=this._activeBuffer.scrollTop+t):(this._activeBuffer.x=e,this._activeBuffer.y=t),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(e,t){this._restrictCursor(),this._setCursor(this._activeBuffer.x+e,this._activeBuffer.y+t)}cursorUp(e){let t=this._activeBuffer.y-this._activeBuffer.scrollTop;return t>=0?this._moveCursor(0,-Math.min(t,e.params[0]||1)):this._moveCursor(0,-(e.params[0]||1)),!0}cursorDown(e){let t=this._activeBuffer.scrollBottom-this._activeBuffer.y;return t>=0?this._moveCursor(0,Math.min(t,e.params[0]||1)):this._moveCursor(0,e.params[0]||1),!0}cursorForward(e){return this._moveCursor(e.params[0]||1,0),!0}cursorBackward(e){return this._moveCursor(-(e.params[0]||1),0),!0}cursorNextLine(e){return this.cursorDown(e),this._activeBuffer.x=0,!0}cursorPrecedingLine(e){return this.cursorUp(e),this._activeBuffer.x=0,!0}cursorCharAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(e){return this._setCursor(e.length>=2?(e.params[1]||1)-1:0,(e.params[0]||1)-1),!0}charPosAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(e){return this._moveCursor(e.params[0]||1,0),!0}linePosAbsolute(e){return this._setCursor(this._activeBuffer.x,(e.params[0]||1)-1),!0}vPositionRelative(e){return this._moveCursor(0,e.params[0]||1),!0}hVPosition(e){return this.cursorPosition(e),!0}tabClear(e){let t=e.params[0];return t===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:t===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(e){let t=e.params[0];return t===1&&(this._curAttrData.bg|=536870912),(t===2||t===0)&&(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(e,t,r,l=!1,o=!1){let h=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);h.replaceCells(t,r,this._activeBuffer.getNullCell(this._eraseAttrData()),o),l&&(h.isWrapped=!1)}_resetBufferLine(e,t=!1){let r=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);r&&(r.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),t),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+e),r.isWrapped=!1)}eraseInDisplay(e,t=!1){this._restrictCursor(this._bufferService.cols);let r;switch(e.params[0]){case 0:for(r=this._activeBuffer.y,this._dirtyRowTracker.markDirty(r),this._eraseInBufferLine(r++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,t);r<this._bufferService.rows;r++)this._resetBufferLine(r,t);this._dirtyRowTracker.markDirty(r);break;case 1:for(r=this._activeBuffer.y,this._dirtyRowTracker.markDirty(r),this._eraseInBufferLine(r,0,this._activeBuffer.x+1,!0,t),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(r+1).isWrapped=!1);r--;)this._resetBufferLine(r,t);this._dirtyRowTracker.markDirty(0);break;case 2:if(this._optionsService.rawOptions.scrollOnEraseInDisplay){for(r=this._bufferService.rows,this._dirtyRowTracker.markRangeDirty(0,r-1);r--&&!this._activeBuffer.lines.get(this._activeBuffer.ybase+r)?.getTrimmedLength(););for(;r>=0;r--)this._bufferService.scroll(this._eraseAttrData())}else{for(r=this._bufferService.rows,this._dirtyRowTracker.markDirty(r-1);r--;)this._resetBufferLine(r,t);this._dirtyRowTracker.markDirty(0)}break;case 3:let l=this._activeBuffer.lines.length-this._bufferService.rows;l>0&&(this._activeBuffer.lines.trimStart(l),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-l,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-l,0),this._onScroll.fire(0));break}return!0}eraseInLine(e,t=!1){switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,t);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,t);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,t);break}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(e){this._restrictCursor();let t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let r=this._activeBuffer.ybase+this._activeBuffer.y,l=this._bufferService.rows-1-this._activeBuffer.scrollBottom,o=this._bufferService.rows-1+this._activeBuffer.ybase-l+1;for(;t--;)this._activeBuffer.lines.splice(o-1,1),this._activeBuffer.lines.splice(r,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(e){this._restrictCursor();let t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let r=this._activeBuffer.ybase+this._activeBuffer.y,l;for(l=this._bufferService.rows-1-this._activeBuffer.scrollBottom,l=this._bufferService.rows-1+this._activeBuffer.ybase-l;t--;)this._activeBuffer.lines.splice(r,1),this._activeBuffer.lines.splice(l,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(e){this._restrictCursor();let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.insertCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(e){this._restrictCursor();let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.deleteCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(ut));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){let l=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);l.deleteCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData())),l.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){let l=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);l.insertCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData())),l.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){let l=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);l.insertCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData())),l.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){let l=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);l.deleteCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData())),l.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(e){this._restrictCursor();let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(e.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(e){let t=this._parser.precedingJoinState;if(!t)return!0;let r=e.params[0]||1,l=zr.extractWidth(t),o=this._activeBuffer.x-l,h=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(o),u=new Uint32Array(h.length*r),_=0;for(let f=0;f<h.length;){let p=h.codePointAt(f)||0;u[_++]=p,f+=p>65535?2:1}let g=_;for(let f=1;f<r;++f)u.copyWithin(g,0,_),g+=_;return this.print(u,0,g),!0}sendDeviceAttributesPrimary(e){return e.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(J.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(J.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(e){return e.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(J.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(J.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(e.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(J.ESC+"[>83;40003;0c")),!0}_is(e){return(this._optionsService.rawOptions.termName+"").indexOf(e)===0}setMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0;break}return!0}setModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,Dr),this._charsetService.setgCharset(1,Dr),this._charsetService.setgCharset(2,Dr),this._charsetService.setgCharset(3,Dr);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(void 0),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0;break;case 2026:this._coreService.decPrivateModes.synchronizedOutput=!0;break}return!0}resetMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1;break}return!0}resetModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),e.params[t]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(void 0),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1;break;case 2026:this._coreService.decPrivateModes.synchronizedOutput=!1,this._onRequestRefreshRows.fire(void 0);break}return!0}requestMode(e,t){let r;(D=>(D[D.NOT_RECOGNIZED=0]="NOT_RECOGNIZED",D[D.SET=1]="SET",D[D.RESET=2]="RESET",D[D.PERMANENTLY_SET=3]="PERMANENTLY_SET",D[D.PERMANENTLY_RESET=4]="PERMANENTLY_RESET"))(r||={});let l=this._coreService.decPrivateModes,{activeProtocol:o,activeEncoding:h}=this._coreMouseService,u=this._coreService,{buffers:_,cols:g}=this._bufferService,{active:f,alt:p}=_,m=this._optionsService.rawOptions,b=(D,K)=>(u.triggerDataEvent(`${J.ESC}[${t?"":"?"}${D};${K}$y`),!0),x=D=>D?1:2,E=e.params[0];return t?E===2?b(E,4):E===4?b(E,x(u.modes.insertMode)):E===12?b(E,3):E===20?b(E,x(m.convertEol)):b(E,0):E===1?b(E,x(l.applicationCursorKeys)):E===3?b(E,m.windowOptions.setWinLines?g===80?2:g===132?1:0:0):E===6?b(E,x(l.origin)):E===7?b(E,x(l.wraparound)):E===8?b(E,3):E===9?b(E,x(o==="X10")):E===12?b(E,x(m.cursorBlink)):E===25?b(E,x(!u.isCursorHidden)):E===45?b(E,x(l.reverseWraparound)):E===66?b(E,x(l.applicationKeypad)):E===67?b(E,4):E===1e3?b(E,x(o==="VT200")):E===1002?b(E,x(o==="DRAG")):E===1003?b(E,x(o==="ANY")):E===1004?b(E,x(l.sendFocus)):E===1005?b(E,4):E===1006?b(E,x(h==="SGR")):E===1015?b(E,4):E===1016?b(E,x(h==="SGR_PIXELS")):E===1048?b(E,1):E===47||E===1047||E===1049?b(E,x(f===p)):E===2004?b(E,x(l.bracketedPasteMode)):E===2026?b(E,x(l.synchronizedOutput)):b(E,0)}_updateAttrColor(e,t,r,l,o){return t===2?(e|=50331648,e&=-16777216,e|=oa.fromColorRGB([r,l,o])):t===5&&(e&=-50331904,e|=33554432|r&255),e}_extractColor(e,t,r){let l=[0,0,-1,0,0,0],o=0,h=0;do{if(l[h+o]=e.params[t+h],e.hasSubParams(t+h)){let u=e.getSubParams(t+h),_=0;do l[1]===5&&(o=1),l[h+_+1+o]=u[_];while(++_<u.length&&_+h+1+o<l.length);break}if(l[1]===5&&h+o>=2||l[1]===2&&h+o>=5)break;l[1]&&(o=1)}while(++h+t<e.length&&h+o<l.length);for(let u=2;u<l.length;++u)l[u]===-1&&(l[u]=0);switch(l[0]){case 38:r.fg=this._updateAttrColor(r.fg,l[1],l[3],l[4],l[5]);break;case 48:r.bg=this._updateAttrColor(r.bg,l[1],l[3],l[4],l[5]);break;case 58:r.extended=r.extended.clone(),r.extended.underlineColor=this._updateAttrColor(r.extended.underlineColor,l[1],l[3],l[4],l[5])}return h}_processUnderline(e,t){t.extended=t.extended.clone(),(!~e||e>5)&&(e=1),t.extended.underlineStyle=e,t.fg|=268435456,e===0&&(t.fg&=-268435457),t.updateExtended()}_processSGR0(e){e.fg=ut.fg,e.bg=ut.bg,e.extended=e.extended.clone(),e.extended.underlineStyle=0,e.extended.underlineColor&=-67108864,e.updateExtended()}charAttributes(e){if(e.length===1&&e.params[0]===0)return this._processSGR0(this._curAttrData),!0;let t=e.length,r,l=this._curAttrData;for(let o=0;o<t;o++)r=e.params[o],r>=30&&r<=37?(l.fg&=-50331904,l.fg|=16777216|r-30):r>=40&&r<=47?(l.bg&=-50331904,l.bg|=16777216|r-40):r>=90&&r<=97?(l.fg&=-50331904,l.fg|=16777216|r-90|8):r>=100&&r<=107?(l.bg&=-50331904,l.bg|=16777216|r-100|8):r===0?this._processSGR0(l):r===1?l.fg|=134217728:r===3?l.bg|=67108864:r===4?(l.fg|=268435456,this._processUnderline(e.hasSubParams(o)?e.getSubParams(o)[0]:1,l)):r===5?l.fg|=536870912:r===7?l.fg|=67108864:r===8?l.fg|=1073741824:r===9?l.fg|=2147483648:r===2?l.bg|=134217728:r===21?this._processUnderline(2,l):r===22?(l.fg&=-134217729,l.bg&=-134217729):r===23?l.bg&=-67108865:r===24?(l.fg&=-268435457,this._processUnderline(0,l)):r===25?l.fg&=-536870913:r===27?l.fg&=-67108865:r===28?l.fg&=-1073741825:r===29?l.fg&=2147483647:r===39?(l.fg&=-67108864,l.fg|=ut.fg&16777215):r===49?(l.bg&=-67108864,l.bg|=ut.bg&16777215):r===38||r===48||r===58?o+=this._extractColor(e,o,l):r===53?l.bg|=1073741824:r===55?l.bg&=-1073741825:r===59?(l.extended=l.extended.clone(),l.extended.underlineColor=-1,l.updateExtended()):r===100?(l.fg&=-67108864,l.fg|=ut.fg&16777215,l.bg&=-67108864,l.bg|=ut.bg&16777215):this._logService.debug("Unknown SGR attribute: %d.",r);return!0}deviceStatus(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent(`${J.ESC}[0n`);break;case 6:let t=this._activeBuffer.y+1,r=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${J.ESC}[${t};${r}R`);break}return!0}deviceStatusPrivate(e){if(e.params[0]===6){let t=this._activeBuffer.y+1,r=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${J.ESC}[?${t};${r}R`)}return!0}softReset(e){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=ut.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(e){let t=e.length===0?1:e.params[0];if(t===0)this._coreService.decPrivateModes.cursorStyle=void 0,this._coreService.decPrivateModes.cursorBlink=void 0;else{switch(t){case 1:case 2:this._coreService.decPrivateModes.cursorStyle="block";break;case 3:case 4:this._coreService.decPrivateModes.cursorStyle="underline";break;case 5:case 6:this._coreService.decPrivateModes.cursorStyle="bar";break}let r=t%2===1;this._coreService.decPrivateModes.cursorBlink=r}return!0}setScrollRegion(e){let t=e.params[0]||1,r;return(e.length<2||(r=e.params[1])>this._bufferService.rows||r===0)&&(r=this._bufferService.rows),r>t&&(this._activeBuffer.scrollTop=t-1,this._activeBuffer.scrollBottom=r-1,this._setCursor(0,0)),!0}windowOptions(e){if(!zm(e.params[0],this._optionsService.rawOptions.windowOptions))return!0;let t=e.length>1?e.params[1]:0;switch(e.params[0]){case 14:t!==2&&this._onRequestWindowsOptionsReport.fire(0);break;case 16:this._onRequestWindowsOptionsReport.fire(1);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${J.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:(t===0||t===2)&&(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>Bm&&this._windowTitleStack.shift()),(t===0||t===1)&&(this._iconNameStack.push(this._iconName),this._iconNameStack.length>Bm&&this._iconNameStack.shift());break;case 23:(t===0||t===2)&&this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),(t===0||t===1)&&this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop());break}return!0}saveCursor(e){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(e){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(e){return this._windowTitle=e,this._onTitleChange.fire(e),!0}setIconName(e){return this._iconName=e,!0}setOrReportIndexedColor(e){let t=[],r=e.split(";");for(;r.length>1;){let l=r.shift(),o=r.shift();if(/^\d+$/.exec(l)){let h=parseInt(l);if(Hm(h))if(o==="?")t.push({type:0,index:h});else{let u=Dm(o);u&&t.push({type:1,index:h,color:u})}}}return t.length&&this._onColor.fire(t),!0}setHyperlink(e){let t=e.indexOf(";");if(t===-1)return!0;let r=e.slice(0,t).trim(),l=e.slice(t+1);return l?this._createHyperlink(r,l):r.trim()?!1:this._finishHyperlink()}_createHyperlink(e,t){this._getCurrentLinkId()&&this._finishHyperlink();let r=e.split(":"),l,o=r.findIndex(h=>h.startsWith("id="));return o!==-1&&(l=r[o].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:l,uri:t}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(e,t){let r=e.split(";");for(let l=0;l<r.length&&!(t>=this._specialColors.length);++l,++t)if(r[l]==="?")this._onColor.fire([{type:0,index:this._specialColors[t]}]);else{let o=Dm(r[l]);o&&this._onColor.fire([{type:1,index:this._specialColors[t],color:o}])}return!0}setOrReportFgColor(e){return this._setOrReportSpecialColor(e,0)}setOrReportBgColor(e){return this._setOrReportSpecialColor(e,1)}setOrReportCursorColor(e){return this._setOrReportSpecialColor(e,2)}restoreIndexedColor(e){if(!e)return this._onColor.fire([{type:2}]),!0;let t=[],r=e.split(";");for(let l=0;l<r.length;++l)if(/^\d+$/.exec(r[l])){let o=parseInt(r[l]);Hm(o)&&t.push({type:2,index:o})}return t.length&&this._onColor.fire(t),!0}restoreFgColor(e){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(e){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(e){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,Dr),!0}selectCharset(e){return e.length!==2?(this.selectDefaultCharset(),!0):(e[0]==="/"||this._charsetService.setgCharset(QC[e[0]],pt[e[1]]||Dr),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){let e=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,e,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=ut.clone(),this._eraseAttrDataInternal=ut.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=this._curAttrData.bg&67108863,this._eraseAttrDataInternal}setgLevel(e){return this._charsetService.setgLevel(e),!0}screenAlignmentPattern(){let e=new Ni;e.content=1<<22|69,e.fg=this._curAttrData.fg,e.bg=this._curAttrData.bg,this._setCursor(0,0);for(let t=0;t<this._bufferService.rows;++t){let r=this._activeBuffer.ybase+this._activeBuffer.y+t,l=this._activeBuffer.lines.get(r);l&&(l.fill(e),l.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(e,t){let r=u=>(this._coreService.triggerDataEvent(`${J.ESC}${u}${J.ESC}\\`),!0),l=this._bufferService.buffer,o=this._optionsService.rawOptions;return r(e==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:e==='"p'?'P1$r61;1"p':e==="r"?`P1$r${l.scrollTop+1};${l.scrollBottom+1}r`:e==="m"?"P1$r0m":e===" q"?`P1$r${{block:2,underline:4,bar:6}[o.cursorStyle]-(o.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(e,t){this._dirtyRowTracker.markRangeDirty(e,t)}},Fd=class{constructor(e){this._bufferService=e,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(e){e<this.start?this.start=e:e>this.end&&(this.end=e)}markRangeDirty(e,t){e>t&&(Nm=e,e=t,t=Nm),e<this.start&&(this.start=e),t>this.end&&(this.end=t)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};Fd=st([he(0,Kt)],Fd);function Hm(e){return 0<=e&&e<256}var e2=5e7,jm=12,t2=50,i2=class extends we{constructor(e){super(),this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this._register(new ne),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(e,t){if(t!==void 0&&this._syncCalls>t){this._syncCalls=0;return}if(this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;this._isSyncWriting=!0;let r;for(;r=this._writeBuffer.shift();){this._action(r);let l=this._callbacks.shift();l&&l()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(e,t){if(this._pendingData>e2)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput){this._didUserInput=!1,this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t),this._innerWrite();return}setTimeout(()=>this._innerWrite())}this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)}_innerWrite(e=0,t=!0){let r=e||performance.now();for(;this._writeBuffer.length>this._bufferOffset;){let l=this._writeBuffer[this._bufferOffset],o=this._action(l,t);if(o){let u=_=>performance.now()-r>=jm?setTimeout(()=>this._innerWrite(0,_)):this._innerWrite(r,_);o.catch(_=>(queueMicrotask(()=>{throw _}),Promise.resolve(!1))).then(u);return}let h=this._callbacks[this._bufferOffset];if(h&&h(),this._bufferOffset++,this._pendingData-=l.length,performance.now()-r>=jm)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>t2&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}},Wd=class{constructor(e){this._bufferService=e,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(e){let t=this._bufferService.buffer;if(e.id===void 0){let _=t.addMarker(t.ybase+t.y),g={data:e,id:this._nextId++,lines:[_]};return _.onDispose(()=>this._removeMarkerFromLink(g,_)),this._dataByLinkId.set(g.id,g),g.id}let r=e,l=this._getEntryIdKey(r),o=this._entriesWithId.get(l);if(o)return this.addLineToLink(o.id,t.ybase+t.y),o.id;let h=t.addMarker(t.ybase+t.y),u={id:this._nextId++,key:this._getEntryIdKey(r),data:r,lines:[h]};return h.onDispose(()=>this._removeMarkerFromLink(u,h)),this._entriesWithId.set(u.key,u),this._dataByLinkId.set(u.id,u),u.id}addLineToLink(e,t){let r=this._dataByLinkId.get(e);if(r&&r.lines.every(l=>l.line!==t)){let l=this._bufferService.buffer.addMarker(t);r.lines.push(l),l.onDispose(()=>this._removeMarkerFromLink(r,l))}}getLinkData(e){return this._dataByLinkId.get(e)?.data}_getEntryIdKey(e){return`${e.id};;${e.uri}`}_removeMarkerFromLink(e,t){let r=e.lines.indexOf(t);r!==-1&&(e.lines.splice(r,1),e.lines.length===0&&(e.data.id!==void 0&&this._entriesWithId.delete(e.key),this._dataByLinkId.delete(e.id)))}};Wd=st([he(0,Kt)],Wd);var Um=!1,s2=class extends we{constructor(e){super(),this._windowsWrappingHeuristics=this._register(new Hn),this._onBinary=this._register(new ne),this.onBinary=this._onBinary.event,this._onData=this._register(new ne),this.onData=this._onData.event,this._onLineFeed=this._register(new ne),this.onLineFeed=this._onLineFeed.event,this._onResize=this._register(new ne),this.onResize=this._onResize.event,this._onWriteParsed=this._register(new ne),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this._register(new ne),this._instantiationService=new kC,this.optionsService=this._register(new HC(e)),this._instantiationService.setService(Gt,this.optionsService),this._bufferService=this._register(this._instantiationService.createInstance(jd)),this._instantiationService.setService(Kt,this._bufferService),this._logService=this._register(this._instantiationService.createInstance(Hd)),this._instantiationService.setService(H0,this._logService),this.coreService=this._register(this._instantiationService.createInstance(Ud)),this._instantiationService.setService($r,this.coreService),this.coreMouseService=this._register(this._instantiationService.createInstance($d)),this._instantiationService.setService(N0,this.coreMouseService),this.unicodeService=this._register(this._instantiationService.createInstance(zr)),this._instantiationService.setService(ww,this.unicodeService),this._charsetService=this._instantiationService.createInstance(FC),this._instantiationService.setService(xw,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(Wd),this._instantiationService.setService(j0,this._oscLinkService),this._inputHandler=this._register(new JC(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this._register(Ht.forward(this._inputHandler.onLineFeed,this._onLineFeed)),this._register(this._inputHandler),this._register(Ht.forward(this._bufferService.onResize,this._onResize)),this._register(Ht.forward(this.coreService.onData,this._onData)),this._register(Ht.forward(this.coreService.onBinary,this._onBinary)),this._register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom(!0))),this._register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this._register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this._register(this._bufferService.onScroll(()=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this._register(new i2((t,r)=>this._inputHandler.parse(t,r))),this._register(Ht.forward(this._writeBuffer.onWriteParsed,this._onWriteParsed))}get onScroll(){return this._onScrollApi||(this._onScrollApi=this._register(new ne),this._onScroll.event(e=>{this._onScrollApi?.fire(e.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(e){for(let t in e)this.optionsService.options[t]=e[t]}write(e,t){this._writeBuffer.write(e,t)}writeSync(e,t){this._logService.logLevel<=3&&!Um&&(this._logService.warn("writeSync is unreliable and will be removed soon."),Um=!0),this._writeBuffer.writeSync(e,t)}input(e,t=!0){this.coreService.triggerDataEvent(e,t)}resize(e,t){isNaN(e)||isNaN(t)||(e=Math.max(e,v1),t=Math.max(t,p1),this._bufferService.resize(e,t))}scroll(e,t=!1){this._bufferService.scroll(e,t)}scrollLines(e,t){this._bufferService.scrollLines(e,t)}scrollPages(e){this.scrollLines(e*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(e){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(e){let t=e-this._bufferService.buffer.ydisp;t!==0&&this.scrollLines(t)}registerEscHandler(e,t){return this._inputHandler.registerEscHandler(e,t)}registerDcsHandler(e,t){return this._inputHandler.registerDcsHandler(e,t)}registerCsiHandler(e,t){return this._inputHandler.registerCsiHandler(e,t)}registerOscHandler(e,t){return this._inputHandler.registerOscHandler(e,t)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let e=!1,t=this.optionsService.rawOptions.windowsPty;t&&t.buildNumber!==void 0&&t.buildNumber!==void 0?e=t.backend==="conpty"&&t.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(e=!0),e?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){let e=[];e.push(this.onLineFeed(Tm.bind(null,this._bufferService))),e.push(this.registerCsiHandler({final:"H"},()=>(Tm(this._bufferService),!1))),this._windowsWrappingHeuristics.value=Ve(()=>{for(let t of e)t.dispose()})}}},r2={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};function n2(e,t,r,l){let o={type:0,cancel:!1,key:void 0},h=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:e.key==="UIKeyInputUpArrow"?t?o.key=J.ESC+"OA":o.key=J.ESC+"[A":e.key==="UIKeyInputLeftArrow"?t?o.key=J.ESC+"OD":o.key=J.ESC+"[D":e.key==="UIKeyInputRightArrow"?t?o.key=J.ESC+"OC":o.key=J.ESC+"[C":e.key==="UIKeyInputDownArrow"&&(t?o.key=J.ESC+"OB":o.key=J.ESC+"[B");break;case 8:o.key=e.ctrlKey?"\b":J.DEL,e.altKey&&(o.key=J.ESC+o.key);break;case 9:if(e.shiftKey){o.key=J.ESC+"[Z";break}o.key=J.HT,o.cancel=!0;break;case 13:o.key=e.altKey?J.ESC+J.CR:J.CR,o.cancel=!0;break;case 27:o.key=J.ESC,e.altKey&&(o.key=J.ESC+J.ESC),o.cancel=!0;break;case 37:if(e.metaKey)break;h?o.key=J.ESC+"[1;"+(h+1)+"D":t?o.key=J.ESC+"OD":o.key=J.ESC+"[D";break;case 39:if(e.metaKey)break;h?o.key=J.ESC+"[1;"+(h+1)+"C":t?o.key=J.ESC+"OC":o.key=J.ESC+"[C";break;case 38:if(e.metaKey)break;h?o.key=J.ESC+"[1;"+(h+1)+"A":t?o.key=J.ESC+"OA":o.key=J.ESC+"[A";break;case 40:if(e.metaKey)break;h?o.key=J.ESC+"[1;"+(h+1)+"B":t?o.key=J.ESC+"OB":o.key=J.ESC+"[B";break;case 45:!e.shiftKey&&!e.ctrlKey&&(o.key=J.ESC+"[2~");break;case 46:h?o.key=J.ESC+"[3;"+(h+1)+"~":o.key=J.ESC+"[3~";break;case 36:h?o.key=J.ESC+"[1;"+(h+1)+"H":t?o.key=J.ESC+"OH":o.key=J.ESC+"[H";break;case 35:h?o.key=J.ESC+"[1;"+(h+1)+"F":t?o.key=J.ESC+"OF":o.key=J.ESC+"[F";break;case 33:e.shiftKey?o.type=2:e.ctrlKey?o.key=J.ESC+"[5;"+(h+1)+"~":o.key=J.ESC+"[5~";break;case 34:e.shiftKey?o.type=3:e.ctrlKey?o.key=J.ESC+"[6;"+(h+1)+"~":o.key=J.ESC+"[6~";break;case 112:h?o.key=J.ESC+"[1;"+(h+1)+"P":o.key=J.ESC+"OP";break;case 113:h?o.key=J.ESC+"[1;"+(h+1)+"Q":o.key=J.ESC+"OQ";break;case 114:h?o.key=J.ESC+"[1;"+(h+1)+"R":o.key=J.ESC+"OR";break;case 115:h?o.key=J.ESC+"[1;"+(h+1)+"S":o.key=J.ESC+"OS";break;case 116:h?o.key=J.ESC+"[15;"+(h+1)+"~":o.key=J.ESC+"[15~";break;case 117:h?o.key=J.ESC+"[17;"+(h+1)+"~":o.key=J.ESC+"[17~";break;case 118:h?o.key=J.ESC+"[18;"+(h+1)+"~":o.key=J.ESC+"[18~";break;case 119:h?o.key=J.ESC+"[19;"+(h+1)+"~":o.key=J.ESC+"[19~";break;case 120:h?o.key=J.ESC+"[20;"+(h+1)+"~":o.key=J.ESC+"[20~";break;case 121:h?o.key=J.ESC+"[21;"+(h+1)+"~":o.key=J.ESC+"[21~";break;case 122:h?o.key=J.ESC+"[23;"+(h+1)+"~":o.key=J.ESC+"[23~";break;case 123:h?o.key=J.ESC+"[24;"+(h+1)+"~":o.key=J.ESC+"[24~";break;default:if(e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey)e.keyCode>=65&&e.keyCode<=90?o.key=String.fromCharCode(e.keyCode-64):e.keyCode===32?o.key=J.NUL:e.keyCode>=51&&e.keyCode<=55?o.key=String.fromCharCode(e.keyCode-51+27):e.keyCode===56?o.key=J.DEL:e.keyCode===219?o.key=J.ESC:e.keyCode===220?o.key=J.FS:e.keyCode===221&&(o.key=J.GS);else if((!r||l)&&e.altKey&&!e.metaKey){let u=r2[e.keyCode]?.[e.shiftKey?1:0];if(u)o.key=J.ESC+u;else if(e.keyCode>=65&&e.keyCode<=90){let _=e.ctrlKey?e.keyCode-64:e.keyCode+32,g=String.fromCharCode(_);e.shiftKey&&(g=g.toUpperCase()),o.key=J.ESC+g}else if(e.keyCode===32)o.key=J.ESC+(e.ctrlKey?J.NUL:" ");else if(e.key==="Dead"&&e.code.startsWith("Key")){let _=e.code.slice(3,4);e.shiftKey||(_=_.toLowerCase()),o.key=J.ESC+_,o.cancel=!0}}else r&&!e.altKey&&!e.ctrlKey&&!e.shiftKey&&e.metaKey?e.keyCode===65&&(o.type=1):e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.keyCode>=48&&e.key.length===1?o.key=e.key:e.key&&e.ctrlKey&&(e.key==="_"&&(o.key=J.US),e.key==="@"&&(o.key=J.NUL));break}return o}var lt=0,l2=class{constructor(e){this._getKey=e,this._array=[],this._insertedValues=[],this._flushInsertedTask=new nh,this._isFlushingInserted=!1,this._deletedIndices=[],this._flushDeletedTask=new nh,this._isFlushingDeleted=!1}clear(){this._array.length=0,this._insertedValues.length=0,this._flushInsertedTask.clear(),this._isFlushingInserted=!1,this._deletedIndices.length=0,this._flushDeletedTask.clear(),this._isFlushingDeleted=!1}insert(e){this._flushCleanupDeleted(),this._insertedValues.length===0&&this._flushInsertedTask.enqueue(()=>this._flushInserted()),this._insertedValues.push(e)}_flushInserted(){let e=this._insertedValues.sort((o,h)=>this._getKey(o)-this._getKey(h)),t=0,r=0,l=new Array(this._array.length+this._insertedValues.length);for(let o=0;o<l.length;o++)r>=this._array.length||this._getKey(e[t])<=this._getKey(this._array[r])?(l[o]=e[t],t++):l[o]=this._array[r++];this._array=l,this._insertedValues.length=0}_flushCleanupInserted(){!this._isFlushingInserted&&this._insertedValues.length>0&&this._flushInsertedTask.flush()}delete(e){if(this._flushCleanupInserted(),this._array.length===0)return!1;let t=this._getKey(e);if(t===void 0||(lt=this._search(t),lt===-1)||this._getKey(this._array[lt])!==t)return!1;do if(this._array[lt]===e)return this._deletedIndices.length===0&&this._flushDeletedTask.enqueue(()=>this._flushDeleted()),this._deletedIndices.push(lt),!0;while(++lt<this._array.length&&this._getKey(this._array[lt])===t);return!1}_flushDeleted(){this._isFlushingDeleted=!0;let e=this._deletedIndices.sort((o,h)=>o-h),t=0,r=new Array(this._array.length-e.length),l=0;for(let o=0;o<this._array.length;o++)e[t]===o?t++:r[l++]=this._array[o];this._array=r,this._deletedIndices.length=0,this._isFlushingDeleted=!1}_flushCleanupDeleted(){!this._isFlushingDeleted&&this._deletedIndices.length>0&&this._flushDeletedTask.flush()}*getKeyIterator(e){if(this._flushCleanupInserted(),this._flushCleanupDeleted(),this._array.length!==0&&(lt=this._search(e),!(lt<0||lt>=this._array.length)&&this._getKey(this._array[lt])===e))do yield this._array[lt];while(++lt<this._array.length&&this._getKey(this._array[lt])===e)}forEachByKey(e,t){if(this._flushCleanupInserted(),this._flushCleanupDeleted(),this._array.length!==0&&(lt=this._search(e),!(lt<0||lt>=this._array.length)&&this._getKey(this._array[lt])===e))do t(this._array[lt]);while(++lt<this._array.length&&this._getKey(this._array[lt])===e)}values(){return this._flushCleanupInserted(),this._flushCleanupDeleted(),[...this._array].values()}_search(e){let t=0,r=this._array.length-1;for(;r>=t;){let l=t+r>>1,o=this._getKey(this._array[l]);if(o>e)r=l-1;else if(o<e)t=l+1;else{for(;l>0&&this._getKey(this._array[l-1])===e;)l--;return l}}return t}},td=0,$m=0,a2=class extends we{constructor(){super(),this._decorations=new l2(e=>e?.marker.line),this._onDecorationRegistered=this._register(new ne),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this._register(new ne),this.onDecorationRemoved=this._onDecorationRemoved.event,this._register(Ve(()=>this.reset()))}get decorations(){return this._decorations.values()}registerDecoration(e){if(e.marker.isDisposed)return;let t=new o2(e);if(t){let r=t.marker.onDispose(()=>t.dispose()),l=t.onDispose(()=>{l.dispose(),t&&(this._decorations.delete(t)&&this._onDecorationRemoved.fire(t),r.dispose())});this._decorations.insert(t),this._onDecorationRegistered.fire(t)}return t}reset(){for(let e of this._decorations.values())e.dispose();this._decorations.clear()}*getDecorationsAtCell(e,t,r){let l=0,o=0;for(let h of this._decorations.getKeyIterator(t))l=h.options.x??0,o=l+(h.options.width??1),e>=l&&e<o&&(!r||(h.options.layer??"bottom")===r)&&(yield h)}forEachDecorationAtCell(e,t,r,l){this._decorations.forEachByKey(t,o=>{td=o.options.x??0,$m=td+(o.options.width??1),e>=td&&e<$m&&(!r||(o.options.layer??"bottom")===r)&&l(o)})}},o2=class extends cr{constructor(e){super(),this.options=e,this.onRenderEmitter=this.add(new ne),this.onRender=this.onRenderEmitter.event,this._onDispose=this.add(new ne),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=e.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=Ze.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=Ze.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}dispose(){this._onDispose.fire(),super.dispose()}},h2=1e3,c2=class{constructor(e,t=h2){this._renderCallback=e,this._debounceThresholdMS=t,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(e,t,r){this._rowCount=r,e=e!==void 0?e:0,t=t!==void 0?t:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,e):e,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,t):t;let l=performance.now();if(l-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=l,this._innerRefresh();else if(!this._additionalRefreshRequested){let o=l-this._lastRefreshMs,h=this._debounceThresholdMS-o;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=performance.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},h)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;let e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t)}},Pm=20,lh=class extends we{constructor(e,t,r,l){super(),this._terminal=e,this._coreBrowserService=r,this._renderService=l,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="";let o=this._coreBrowserService.mainDocument;this._accessibilityContainer=o.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=o.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let h=0;h<this._terminal.rows;h++)this._rowElements[h]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[h]);if(this._topBoundaryFocusListener=h=>this._handleBoundaryFocus(h,0),this._bottomBoundaryFocusListener=h=>this._handleBoundaryFocus(h,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=o.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this._register(new c2(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this._register(this._terminal.onResize(h=>this._handleResize(h.rows))),this._register(this._terminal.onRender(h=>this._refreshRows(h.start,h.end))),this._register(this._terminal.onScroll(()=>this._refreshRows())),this._register(this._terminal.onA11yChar(h=>this._handleChar(h))),this._register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this._register(this._terminal.onA11yTab(h=>this._handleTab(h))),this._register(this._terminal.onKey(h=>this._handleKey(h.key))),this._register(this._terminal.onBlur(()=>this._clearLiveRegion())),this._register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._register(ve(o,"selectionchange",()=>this._handleSelectionChange())),this._register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRowsDimensions(),this._refreshRows(),this._register(Ve(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(e){for(let t=0;t<e;t++)this._handleChar(" ")}_handleChar(e){this._liveRegionLineCount<Pm+1&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,e===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===Pm+1&&(this._liveRegion.textContent+=hd.get())))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(e){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(e)||this._charsToConsume.push(e)}_refreshRows(e,t){this._liveRegionDebouncer.refresh(e,t,this._terminal.rows)}_renderRows(e,t){let r=this._terminal.buffer,l=r.lines.length.toString();for(let o=e;o<=t;o++){let h=r.lines.get(r.ydisp+o),u=[],_=h?.translateToString(!0,void 0,void 0,u)||"",g=(r.ydisp+o+1).toString(),f=this._rowElements[o];f&&(_.length===0?(f.textContent="",this._rowColumns.set(f,[0,1])):(f.textContent=_,this._rowColumns.set(f,u)),f.setAttribute("aria-posinset",g),f.setAttribute("aria-setsize",l),this._alignRowWidth(f))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(e,t){let r=e.target,l=this._rowElements[t===0?1:this._rowElements.length-2],o=r.getAttribute("aria-posinset"),h=t===0?"1":`${this._terminal.buffer.lines.length}`;if(o===h||e.relatedTarget!==l)return;let u,_;if(t===0?(u=r,_=this._rowElements.pop(),this._rowContainer.removeChild(_)):(u=this._rowElements.shift(),_=r,this._rowContainer.removeChild(u)),u.removeEventListener("focus",this._topBoundaryFocusListener),_.removeEventListener("focus",this._bottomBoundaryFocusListener),t===0){let g=this._createAccessibilityTreeNode();this._rowElements.unshift(g),this._rowContainer.insertAdjacentElement("afterbegin",g)}else{let g=this._createAccessibilityTreeNode();this._rowElements.push(g),this._rowContainer.appendChild(g)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(t===0?-1:1),this._rowElements[t===0?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}_handleSelectionChange(){if(this._rowElements.length===0)return;let e=this._coreBrowserService.mainDocument.getSelection();if(!e)return;if(e.isCollapsed){this._rowContainer.contains(e.anchorNode)&&this._terminal.clearSelection();return}if(!e.anchorNode||!e.focusNode){console.error("anchorNode and/or focusNode are null");return}let t={node:e.anchorNode,offset:e.anchorOffset},r={node:e.focusNode,offset:e.focusOffset};if((t.node.compareDocumentPosition(r.node)&Node.DOCUMENT_POSITION_PRECEDING||t.node===r.node&&t.offset>r.offset)&&([t,r]=[r,t]),t.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(t={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(t.node))return;let l=this._rowElements.slice(-1)[0];if(r.node.compareDocumentPosition(l)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(r={node:l,offset:l.textContent?.length??0}),!this._rowContainer.contains(r.node))return;let o=({node:_,offset:g})=>{let f=_ instanceof Text?_.parentNode:_,p=parseInt(f?.getAttribute("aria-posinset"),10)-1;if(isNaN(p))return console.warn("row is invalid. Race condition?"),null;let m=this._rowColumns.get(f);if(!m)return console.warn("columns is null. Race condition?"),null;let b=g<m.length?m[g]:m.slice(-1)[0]+1;return b>=this._terminal.cols&&(++p,b=0),{row:p,column:b}},h=o(t),u=o(r);if(!(!h||!u)){if(h.row>u.row||h.row===u.row&&h.column>=u.column)throw new Error("invalid range");this._terminal.select(h.column,h.row,(u.row-h.row)*this._terminal.cols-h.column+u.column)}}_handleResize(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){let e=this._coreBrowserService.mainDocument.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){Object.assign(this._accessibilityContainer.style,{width:`${this._renderService.dimensions.css.canvas.width}px`,fontSize:`${this._terminal.options.fontSize}px`}),this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e]),this._alignRowWidth(this._rowElements[e])}}_refreshRowDimensions(e){e.style.height=`${this._renderService.dimensions.css.cell.height}px`}_alignRowWidth(e){e.style.transform="";let t=e.getBoundingClientRect().width,r=this._rowColumns.get(e)?.slice(-1)?.[0];if(!r)return;let l=r*this._renderService.dimensions.css.cell.width;e.style.transform=`scaleX(${l/t})`}};lh=st([he(1,Zd),he(2,ks),he(3,Ls)],lh);var qd=class extends we{constructor(e,t,r,l,o){super(),this._element=e,this._mouseService=t,this._renderService=r,this._bufferService=l,this._linkProviderService=o,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this._register(new ne),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this._register(new ne),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this._register(Ve(()=>{jr(this._linkCacheDisposables),this._linkCacheDisposables.length=0,this._lastMouseEvent=void 0,this._activeProviderReplies?.clear()})),this._register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this._register(ve(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this._register(ve(this._element,"mousemove",this._handleMouseMove.bind(this))),this._register(ve(this._element,"mousedown",this._handleMouseDown.bind(this))),this._register(ve(this._element,"mouseup",this._handleMouseUp.bind(this)))}get currentLink(){return this._currentLink}_handleMouseMove(e){this._lastMouseEvent=e;let t=this._positionFromMouseEvent(e,this._element,this._mouseService);if(!t)return;this._isMouseOut=!1;let r=e.composedPath();for(let l=0;l<r.length;l++){let o=r[l];if(o.classList.contains("xterm"))break;if(o.classList.contains("xterm-hover"))return}(!this._lastBufferCell||t.x!==this._lastBufferCell.x||t.y!==this._lastBufferCell.y)&&(this._handleHover(t),this._lastBufferCell=t)}_handleHover(e){if(this._activeLine!==e.y||this._wasResized){this._clearCurrentLink(),this._askForLink(e,!1),this._wasResized=!1;return}this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))}_askForLink(e,t){(!this._activeProviderReplies||!t)&&(this._activeProviderReplies?.forEach(l=>{l?.forEach(o=>{o.link.dispose&&o.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=e.y);let r=!1;for(let[l,o]of this._linkProviderService.linkProviders.entries())t?this._activeProviderReplies?.get(l)&&(r=this._checkLinkProviderResult(l,e,r)):o.provideLinks(e.y,h=>{if(this._isMouseOut)return;let u=h?.map(_=>({link:_}));this._activeProviderReplies?.set(l,u),r=this._checkLinkProviderResult(l,e,r),this._activeProviderReplies?.size===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(e.y,this._activeProviderReplies)})}_removeIntersectingLinks(e,t){let r=new Set;for(let l=0;l<t.size;l++){let o=t.get(l);if(o)for(let h=0;h<o.length;h++){let u=o[h],_=u.link.range.start.y<e?0:u.link.range.start.x,g=u.link.range.end.y>e?this._bufferService.cols:u.link.range.end.x;for(let f=_;f<=g;f++){if(r.has(f)){o.splice(h--,1);break}r.add(f)}}}}_checkLinkProviderResult(e,t,r){if(!this._activeProviderReplies)return r;let l=this._activeProviderReplies.get(e),o=!1;for(let h=0;h<e;h++)(!this._activeProviderReplies.has(h)||this._activeProviderReplies.get(h))&&(o=!0);if(!o&&l){let h=l.find(u=>this._linkAtPosition(u.link,t));h&&(r=!0,this._handleNewLink(h))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!r)for(let h=0;h<this._activeProviderReplies.size;h++){let u=this._activeProviderReplies.get(h)?.find(_=>this._linkAtPosition(_.link,t));if(u){r=!0,this._handleNewLink(u);break}}return r}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(e){if(!this._currentLink)return;let t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&this._mouseDownLink&&u2(this._mouseDownLink.link,this._currentLink.link)&&this._linkAtPosition(this._currentLink.link,t)&&this._currentLink.link.activate(e,this._currentLink.link.text)}_clearCurrentLink(e,t){!this._currentLink||!this._lastMouseEvent||(!e||!t||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=t)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,jr(this._linkCacheDisposables),this._linkCacheDisposables.length=0)}_handleNewLink(e){if(!this._lastMouseEvent)return;let t=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);t&&this._linkAtPosition(e.link,t)&&(this._currentLink=e,this._currentLink.state={decorations:{underline:e.link.decorations===void 0?!0:e.link.decorations.underline,pointerCursor:e.link.decorations===void 0?!0:e.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,e.link,this._lastMouseEvent),e.link.decorations={},Object.defineProperties(e.link.decorations,{pointerCursor:{get:()=>this._currentLink?.state?.decorations.pointerCursor,set:r=>{this._currentLink?.state&&this._currentLink.state.decorations.pointerCursor!==r&&(this._currentLink.state.decorations.pointerCursor=r,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",r))}},underline:{get:()=>this._currentLink?.state?.decorations.underline,set:r=>{this._currentLink?.state&&this._currentLink?.state?.decorations.underline!==r&&(this._currentLink.state.decorations.underline=r,this._currentLink.state.isHovered&&this._fireUnderlineEvent(e.link,r))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(r=>{if(!this._currentLink)return;let l=r.start===0?0:r.start+1+this._bufferService.buffer.ydisp,o=this._bufferService.buffer.ydisp+1+r.end;if(this._currentLink.link.range.start.y>=l&&this._currentLink.link.range.end.y<=o&&(this._clearCurrentLink(l,o),this._lastMouseEvent)){let h=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);h&&this._askForLink(h,!1)}})))}_linkHover(e,t,r){this._currentLink?.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),t.hover&&t.hover(r,t.text)}_fireUnderlineEvent(e,t){let r=e.range,l=this._bufferService.buffer.ydisp,o=this._createLinkUnderlineEvent(r.start.x-1,r.start.y-l-1,r.end.x,r.end.y-l-1,void 0);(t?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(o)}_linkLeave(e,t,r){this._currentLink?.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),t.leave&&t.leave(r,t.text)}_linkAtPosition(e,t){let r=e.range.start.y*this._bufferService.cols+e.range.start.x,l=e.range.end.y*this._bufferService.cols+e.range.end.x,o=t.y*this._bufferService.cols+t.x;return r<=o&&o<=l}_positionFromMouseEvent(e,t,r){let l=r.getCoords(e,t,this._bufferService.cols,this._bufferService.rows);if(l)return{x:l[0],y:l[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(e,t,r,l,o){return{x1:e,y1:t,x2:r,y2:l,cols:this._bufferService.cols,fg:o}}};qd=st([he(1,Qd),he(2,Ls),he(3,Kt),he(4,$0)],qd);function u2(e,t){return e.text===t.text&&e.range.start.x===t.range.start.x&&e.range.start.y===t.range.start.y&&e.range.end.x===t.range.end.x&&e.range.end.y===t.range.end.y}var d2=class extends s2{constructor(e={}){super(e),this._linkifier=this._register(new Hn),this.browser=n1,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this._register(new Hn),this._onCursorMove=this._register(new ne),this.onCursorMove=this._onCursorMove.event,this._onKey=this._register(new ne),this.onKey=this._onKey.event,this._onRender=this._register(new ne),this.onRender=this._onRender.event,this._onSelectionChange=this._register(new ne),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this._register(new ne),this.onTitleChange=this._onTitleChange.event,this._onBell=this._register(new ne),this.onBell=this._onBell.event,this._onFocus=this._register(new ne),this._onBlur=this._register(new ne),this._onA11yCharEmitter=this._register(new ne),this._onA11yTabEmitter=this._register(new ne),this._onWillOpen=this._register(new ne),this._setup(),this._decorationService=this._instantiationService.createInstance(a2),this._instantiationService.setService(ha,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(tC),this._instantiationService.setService($0,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(ud)),this._register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this._register(this._inputHandler.onRequestRefreshRows(t=>this.refresh(t?.start??0,t?.end??this.rows-1))),this._register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this._register(this._inputHandler.onRequestReset(()=>this.reset())),this._register(this._inputHandler.onRequestWindowsOptionsReport(t=>this._reportWindowsOptions(t))),this._register(this._inputHandler.onColor(t=>this._handleColorEvent(t))),this._register(Ht.forward(this._inputHandler.onCursorMove,this._onCursorMove)),this._register(Ht.forward(this._inputHandler.onTitleChange,this._onTitleChange)),this._register(Ht.forward(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this._register(Ht.forward(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this._register(this._bufferService.onResize(t=>this._afterResize(t.cols,t.rows))),this._register(Ve(()=>{this._customKeyEventHandler=void 0,this.element?.parentNode?.removeChild(this.element)}))}get linkifier(){return this._linkifier.value}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}_handleColorEvent(e){if(this._themeService)for(let t of e){let r,l="";switch(t.index){case 256:r="foreground",l="10";break;case 257:r="background",l="11";break;case 258:r="cursor",l="12";break;default:r="ansi",l="4;"+t.index}switch(t.type){case 0:let o=Ie.toColorRGB(r==="ansi"?this._themeService.colors.ansi[t.index]:this._themeService.colors[r]);this.coreService.triggerDataEvent(`${J.ESC}]${l};${ZC(o)}${s1.ST}`);break;case 1:if(r==="ansi")this._themeService.modifyColors(h=>h.ansi[t.index]=ft.toColor(...t.color));else{let h=r;this._themeService.modifyColors(u=>u[h]=ft.toColor(...t.color))}break;case 2:this._themeService.restoreColor(t.index);break}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(e){e?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(lh,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(e){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(J.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){return this.textarea?.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(J.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;let e=this.buffer.ybase+this.buffer.y,t=this.buffer.lines.get(e);if(!t)return;let r=Math.min(this.buffer.x,this.cols-1),l=this._renderService.dimensions.css.cell.height,o=t.getWidth(r),h=this._renderService.dimensions.css.cell.width*o,u=this.buffer.y*this._renderService.dimensions.css.cell.height,_=r*this._renderService.dimensions.css.cell.width;this.textarea.style.left=_+"px",this.textarea.style.top=u+"px",this.textarea.style.width=h+"px",this.textarea.style.height=l+"px",this.textarea.style.lineHeight=l+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this._register(ve(this.element,"copy",t=>{this.hasSelection()&&vw(t,this._selectionService)}));let e=t=>pw(t,this.textarea,this.coreService,this.optionsService);this._register(ve(this.textarea,"paste",e)),this._register(ve(this.element,"paste",e)),l1?this._register(ve(this.element,"mousedown",t=>{t.button===2&&Zp(t,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this._register(ve(this.element,"contextmenu",t=>{Zp(t,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),af&&this._register(ve(this.element,"auxclick",t=>{t.button===1&&R0(t,this.textarea,this.screenElement)}))}_bindKeys(){this._register(ve(this.textarea,"keyup",e=>this._keyUp(e),!0)),this._register(ve(this.textarea,"keydown",e=>this._keyDown(e),!0)),this._register(ve(this.textarea,"keypress",e=>this._keyPress(e),!0)),this._register(ve(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this._register(ve(this.textarea,"compositionupdate",e=>this._compositionHelper.compositionupdate(e))),this._register(ve(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this._register(ve(this.textarea,"input",e=>this._inputEvent(e),!0)),this._register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(e){if(!e)throw new Error("Terminal requires a parent element.");if(e.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this.element?.ownerDocument.defaultView&&this._coreBrowserService){this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView);return}this._document=e.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),e.appendChild(this.element);let t=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),t.appendChild(this._viewportElement),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._register(ve(this.screenElement,"mousemove",o=>this.updateCursorStyle(o))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),t.appendChild(this.screenElement);let r=this.textarea=this._document.createElement("textarea");this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",od.get()),h1||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._register(this.optionsService.onSpecificOptionChange("disableStdin",()=>r.readOnly=this.optionsService.rawOptions.disableStdin)),this.textarea.readOnly=this.optionsService.rawOptions.disableStdin,this._coreBrowserService=this._register(this._instantiationService.createInstance(J5,this.textarea,e.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(ks,this._coreBrowserService),this._register(ve(this.textarea,"focus",o=>this._handleTextAreaFocus(o))),this._register(ve(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(Dd,this._document,this._helperContainer),this._instantiationService.setService(hh,this._charSizeService),this._themeService=this._instantiationService.createInstance(Nd),this._instantiationService.setService(Un,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(sh),this._instantiationService.setService(U0,this._characterJoinerService),this._renderService=this._register(this._instantiationService.createInstance(zd,this.rows,this.screenElement)),this._instantiationService.setService(Ls,this._renderService),this._register(this._renderService.onRenderedViewportChange(o=>this._onRender.fire(o))),this.onResize(o=>this._renderService.resize(o.cols,o.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(Ad,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(Bd),this._instantiationService.setService(Qd,this._mouseService);let l=this._linkifier.value=this._register(this._instantiationService.createInstance(qd,this.screenElement));this.element.appendChild(t);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this._register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this._register(this.onBlur(()=>this._renderService.handleBlur())),this._register(this.onFocus(()=>this._renderService.handleFocus())),this._viewport=this._register(this._instantiationService.createInstance(kd,this.element,this.screenElement)),this._register(this._viewport.onRequestScrollLines(o=>{super.scrollLines(o,!1),this.refresh(0,this.rows-1)})),this._selectionService=this._register(this._instantiationService.createInstance(Od,this.element,this.screenElement,l)),this._instantiationService.setService(Ew,this._selectionService),this._register(this._selectionService.onRequestScrollLines(o=>this.scrollLines(o.amount,o.suppressScrollEvent))),this._register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this._register(this._selectionService.onRequestRedraw(o=>this._renderService.handleSelectionChanged(o.start,o.end,o.columnSelectMode))),this._register(this._selectionService.onLinuxMouseSelection(o=>{this.textarea.value=o,this.textarea.focus(),this.textarea.select()})),this._register(Ht.any(this._onScroll.event,this._inputHandler.onScroll)(()=>{this._selectionService.refresh(),this._viewport?.queueSync()})),this._register(this._instantiationService.createInstance(Ld,this.screenElement)),this._register(ve(this.element,"mousedown",o=>this._selectionService.handleMouseDown(o))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(lh,this)),this._register(this.optionsService.onSpecificOptionChange("screenReaderMode",o=>this._handleScreenReaderModeOptionChange(o))),this.options.overviewRuler.width&&(this._overviewRulerRenderer=this._register(this._instantiationService.createInstance(ih,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRuler",o=>{!this._overviewRulerRenderer&&o&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this._register(this._instantiationService.createInstance(ih,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(Rd,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){let e=this,t=this.element;function r(h){let u=e._mouseService.getMouseReportCoords(h,e.screenElement);if(!u)return!1;let _,g;switch(h.overrideType||h.type){case"mousemove":g=32,h.buttons===void 0?(_=3,h.button!==void 0&&(_=h.button<3?h.button:3)):_=h.buttons&1?0:h.buttons&4?1:h.buttons&2?2:3;break;case"mouseup":g=0,_=h.button<3?h.button:3;break;case"mousedown":g=1,_=h.button<3?h.button:3;break;case"wheel":if(e._customWheelEventHandler&&e._customWheelEventHandler(h)===!1)return!1;let f=h.deltaY;if(f===0||e.coreMouseService.consumeWheelEvent(h,e._renderService?.dimensions?.device?.cell?.height,e._coreBrowserService?.dpr)===0)return!1;g=f<0?0:1,_=4;break;default:return!1}return g===void 0||_===void 0||_>4?!1:e.coreMouseService.triggerMouseEvent({col:u.col,row:u.row,x:u.x,y:u.y,button:_,action:g,ctrl:h.ctrlKey,alt:h.altKey,shift:h.shiftKey})}let l={mouseup:null,wheel:null,mousedrag:null,mousemove:null},o={mouseup:h=>(r(h),h.buttons||(this._document.removeEventListener("mouseup",l.mouseup),l.mousedrag&&this._document.removeEventListener("mousemove",l.mousedrag)),this.cancel(h)),wheel:h=>(r(h),this.cancel(h,!0)),mousedrag:h=>{h.buttons&&r(h)},mousemove:h=>{h.buttons||r(h)}};this._register(this.coreMouseService.onProtocolChange(h=>{h?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(h)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),h&8?l.mousemove||(t.addEventListener("mousemove",o.mousemove),l.mousemove=o.mousemove):(t.removeEventListener("mousemove",l.mousemove),l.mousemove=null),h&16?l.wheel||(t.addEventListener("wheel",o.wheel,{passive:!1}),l.wheel=o.wheel):(t.removeEventListener("wheel",l.wheel),l.wheel=null),h&2?l.mouseup||(l.mouseup=o.mouseup):(this._document.removeEventListener("mouseup",l.mouseup),l.mouseup=null),h&4?l.mousedrag||(l.mousedrag=o.mousedrag):(this._document.removeEventListener("mousemove",l.mousedrag),l.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this._register(ve(t,"mousedown",h=>{if(h.preventDefault(),this.focus(),!(!this.coreMouseService.areMouseEventsActive||this._selectionService.shouldForceSelection(h)))return r(h),l.mouseup&&this._document.addEventListener("mouseup",l.mouseup),l.mousedrag&&this._document.addEventListener("mousemove",l.mousedrag),this.cancel(h)})),this._register(ve(t,"wheel",h=>{if(!l.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(h)===!1)return!1;if(!this.buffer.hasScrollback){if(h.deltaY===0)return!1;if(e.coreMouseService.consumeWheelEvent(h,e._renderService?.dimensions?.device?.cell?.height,e._coreBrowserService?.dpr)===0)return this.cancel(h,!0);let u=J.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(h.deltaY<0?"A":"B");return this.coreService.triggerDataEvent(u,!0),this.cancel(h,!0)}}},{passive:!1}))}refresh(e,t){this._renderService?.refreshRows(e,t)}updateCursorStyle(e){this._selectionService?.shouldColumnSelect(e)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(e,t){this._viewport?this._viewport.scrollLines(e):super.scrollLines(e,t),this.refresh(0,this.rows-1)}scrollPages(e){this.scrollLines(e*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(e){e&&this._viewport?this._viewport.scrollToLine(this.buffer.ybase,!0):this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(e){let t=e-this._bufferService.buffer.ydisp;t!==0&&this.scrollLines(t)}paste(e){T0(e,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(e){this._customKeyEventHandler=e}attachCustomWheelEventHandler(e){this._customWheelEventHandler=e}registerLinkProvider(e){return this._linkProviderService.registerLinkProvider(e)}registerCharacterJoiner(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");let t=this._characterJoinerService.register(e);return this.refresh(0,this.rows-1),t}deregisterCharacterJoiner(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(e)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(e){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)}registerDecoration(e){return this._decorationService.registerDecoration(e)}hasSelection(){return this._selectionService?this._selectionService.hasSelection:!1}select(e,t,r){this._selectionService.setSelection(e,t,r)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(!(!this._selectionService||!this._selectionService.hasSelection))return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){this._selectionService?.clearSelection()}selectAll(){this._selectionService?.selectAll()}selectLines(e,t){this._selectionService?.selectLines(e,t)}_keyDown(e){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(e)===!1)return!1;let t=this.browser.isMac&&this.options.macOptionIsMeta&&e.altKey;if(!t&&!this._compositionHelper.keydown(e))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(!0),!1;!t&&(e.key==="Dead"||e.key==="AltGraph")&&(this._unprocessedDeadKey=!0);let r=n2(e,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),r.type===3||r.type===2){let l=this.rows-1;return this.scrollLines(r.type===2?-l:l),this.cancel(e,!0)}if(r.type===1&&this.selectAll(),this._isThirdLevelShift(this.browser,e)||(r.cancel&&this.cancel(e,!0),!r.key)||e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.key.length===1&&e.key.charCodeAt(0)>=65&&e.key.charCodeAt(0)<=90)return!0;if(this._unprocessedDeadKey)return this._unprocessedDeadKey=!1,!0;if((r.key===J.ETX||r.key===J.CR)&&(this.textarea.value=""),this._onKey.fire({key:r.key,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(r.key,!0),!this.optionsService.rawOptions.screenReaderMode||e.altKey||e.ctrlKey)return this.cancel(e,!0);this._keyDownHandled=!0}_isThirdLevelShift(e,t){let r=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey||e.isWindows&&t.getModifierState("AltGraph");return t.type==="keypress"?r:r&&(!t.keyCode||t.keyCode>47)}_keyUp(e){this._keyDownSeen=!1,!(this._customKeyEventHandler&&this._customKeyEventHandler(e)===!1)&&(f2(e)||this.focus(),this.updateCursorStyle(e),this._keyPressHandled=!1)}_keyPress(e){let t;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(e)===!1)return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(e.which===null||e.which===void 0)t=e.keyCode;else if(e.which!==0&&e.charCode!==0)t=e.which;else return!1;return!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e)?!1:(t=String.fromCharCode(t),this._onKey.fire({key:t,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(t,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,!0)}_inputEvent(e){if(e.data&&e.inputType==="insertText"&&(!e.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;let t=e.data;return this.coreService.triggerDataEvent(t,!0),this.cancel(e),!0}return!1}resize(e,t){if(e===this.cols&&t===this.rows){this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure();return}super.resize(e,t)}_afterResize(e,t){this._charSizeService?.measure()}clear(){if(!(this.buffer.ybase===0&&this.buffer.y===0)){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(ut));this._onScroll.fire({position:this.buffer.ydisp}),this.refresh(0,this.rows-1)}}reset(){this.options.rows=this.rows,this.options.cols=this.cols;let e=this._customKeyEventHandler;this._setup(),super.reset(),this._selectionService?.reset(),this._decorationService.reset(),this._customKeyEventHandler=e,this.refresh(0,this.rows-1)}clearTextureAtlas(){this._renderService?.clearTextureAtlas()}_reportFocus(){this.element?.classList.contains("focus")?this.coreService.triggerDataEvent(J.ESC+"[I"):this.coreService.triggerDataEvent(J.ESC+"[O")}_reportWindowsOptions(e){if(this._renderService)switch(e){case 0:let t=this._renderService.dimensions.css.canvas.width.toFixed(0),r=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${J.ESC}[4;${r};${t}t`);break;case 1:let l=this._renderService.dimensions.css.cell.width.toFixed(0),o=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${J.ESC}[6;${o};${l}t`);break}}cancel(e,t){if(!(!this.options.cancelEvents&&!t))return e.preventDefault(),e.stopPropagation(),!1}};function f2(e){return e.keyCode===16||e.keyCode===17||e.keyCode===18}var _2=class{constructor(){this._addons=[]}dispose(){for(let e=this._addons.length-1;e>=0;e--)this._addons[e].instance.dispose()}loadAddon(e,t){let r={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(r),t.dispose=()=>this._wrappedAddonDispose(r),t.activate(e)}_wrappedAddonDispose(e){if(e.isDisposed)return;let t=-1;for(let r=0;r<this._addons.length;r++)if(this._addons[r]===e){t=r;break}if(t===-1)throw new Error("Could not dispose an addon that has not been loaded");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}},g2=class{constructor(e){this._line=e}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(e,t){if(!(e<0||e>=this._line.length))return t?(this._line.loadCell(e,t),t):this._line.loadCell(e,new Ni)}translateToString(e,t,r){return this._line.translateToString(e,t,r)}},Fm=class{constructor(e,t){this._buffer=e,this.type=t}init(e){return this._buffer=e,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(e){let t=this._buffer.lines.get(e);if(t)return new g2(t)}getNullCell(){return new Ni}},v2=class extends we{constructor(e){super(),this._core=e,this._onBufferChange=this._register(new ne),this.onBufferChange=this._onBufferChange.event,this._normal=new Fm(this._core.buffers.normal,"normal"),this._alternate=new Fm(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}},p2=class{constructor(e){this._core=e}registerCsiHandler(e,t){return this._core.registerCsiHandler(e,r=>t(r.toArray()))}addCsiHandler(e,t){return this.registerCsiHandler(e,t)}registerDcsHandler(e,t){return this._core.registerDcsHandler(e,(r,l)=>t(r,l.toArray()))}addDcsHandler(e,t){return this.registerDcsHandler(e,t)}registerEscHandler(e,t){return this._core.registerEscHandler(e,t)}addEscHandler(e,t){return this.registerEscHandler(e,t)}registerOscHandler(e,t){return this._core.registerOscHandler(e,t)}addOscHandler(e,t){return this.registerOscHandler(e,t)}},m2=class{constructor(e){this._core=e}register(e){this._core.unicodeService.register(e)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(e){this._core.unicodeService.activeVersion=e}},S2=["cols","rows"],Ki=0,S1=class extends we{constructor(e){super(),this._core=this._register(new d2(e)),this._addonManager=this._register(new _2),this._publicOptions={...this._core.options};let t=l=>this._core.options[l],r=(l,o)=>{this._checkReadonlyOptions(l),this._core.options[l]=o};for(let l in this._core.options){let o={get:t.bind(this,l),set:r.bind(this,l)};Object.defineProperty(this._publicOptions,l,o)}}_checkReadonlyOptions(e){if(S2.includes(e))throw new Error(`Option "${e}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new p2(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new m2(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this._register(new v2(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){let e=this._core.coreService.decPrivateModes,t="none";switch(this._core.coreMouseService.activeProtocol){case"X10":t="x10";break;case"VT200":t="vt200";break;case"DRAG":t="drag";break;case"ANY":t="any";break}return{applicationCursorKeysMode:e.applicationCursorKeys,applicationKeypadMode:e.applicationKeypad,bracketedPasteMode:e.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:t,originMode:e.origin,reverseWraparoundMode:e.reverseWraparound,sendFocusMode:e.sendFocus,synchronizedOutputMode:e.synchronizedOutput,wraparoundMode:e.wraparound}}get options(){return this._publicOptions}set options(e){for(let t in e)this._publicOptions[t]=e[t]}blur(){this._core.blur()}focus(){this._core.focus()}input(e,t=!0){this._core.input(e,t)}resize(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)}open(e){this._core.open(e)}attachCustomKeyEventHandler(e){this._core.attachCustomKeyEventHandler(e)}attachCustomWheelEventHandler(e){this._core.attachCustomWheelEventHandler(e)}registerLinkProvider(e){return this._core.registerLinkProvider(e)}registerCharacterJoiner(e){return this._checkProposedApi(),this._core.registerCharacterJoiner(e)}deregisterCharacterJoiner(e){this._checkProposedApi(),this._core.deregisterCharacterJoiner(e)}registerMarker(e=0){return this._verifyIntegers(e),this._core.registerMarker(e)}registerDecoration(e){return this._checkProposedApi(),this._verifyPositiveIntegers(e.x??0,e.width??0,e.height??0),this._core.registerDecoration(e)}hasSelection(){return this._core.hasSelection()}select(e,t,r){this._verifyIntegers(e,t,r),this._core.select(e,t,r)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)}dispose(){super.dispose()}scrollLines(e){this._verifyIntegers(e),this._core.scrollLines(e)}scrollPages(e){this._verifyIntegers(e),this._core.scrollPages(e)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(e){this._verifyIntegers(e),this._core.scrollToLine(e)}clear(){this._core.clear()}write(e,t){this._core.write(e,t)}writeln(e,t){this._core.write(e),this._core.write(`\r
`,t)}paste(e){this._core.paste(e)}refresh(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(e){this._addonManager.loadAddon(this,e)}static get strings(){return{get promptLabel(){return od.get()},set promptLabel(e){od.set(e)},get tooMuchOutput(){return hd.get()},set tooMuchOutput(e){hd.set(e)}}}_verifyIntegers(...e){for(Ki of e)if(Ki===1/0||isNaN(Ki)||Ki%1!==0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...e){for(Ki of e)if(Ki&&(Ki===1/0||isNaN(Ki)||Ki%1!==0||Ki<0))throw new Error("This API only accepts positive integers")}};function y2({prompt:e,lastMessage:t,wsSend:r,wsRequest:l}){return S.jsxs("div",{className:"flex-1 overflow-y-auto",children:[S.jsx(b2,{wsRequest:l}),S.jsx(x2,{wsSend:r}),S.jsx(w2,{wsRequest:l}),S.jsx(C2,{wsRequest:l}),S.jsx(E2,{prompt:e,lastMessage:t,wsRequest:l})]})}function b2({wsRequest:e}){const[t,r]=O.useState(""),[l,o]=O.useState(!0),[h,u]=O.useState(null),_=O.useCallback(async()=>{const g=await e({event:"input:send",text:t,enter:l});u(Oe(g)),r("")},[t,l,e]);return S.jsxs(Lt,{label:"Input",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("input",{type:"text",value:t,onChange:g=>r(g.target.value),onKeyDown:g=>g.key==="Enter"&&_(),placeholder:"Text to send...",className:"min-w-0 flex-1 rounded border border-zinc-600 bg-[#222] px-1.5 py-0.5 font-mono text-[11px] text-zinc-300 outline-none focus:border-blue-400"}),S.jsxs("label",{className:"flex items-center gap-0.5",children:[S.jsx("input",{type:"checkbox",checked:l,onChange:g=>o(g.target.checked),className:"accent-blue-400"}),S.jsx("span",{className:"text-[10px] text-zinc-500",children:"Enter"})]}),S.jsx(Re,{onClick:_,children:"Send"})]}),S.jsx(ni,{result:h})]})}function x2({wsSend:e}){return S.jsx(Lt,{label:"Keys",children:S.jsx("div",{className:"flex flex-wrap gap-0.5",children:ub.map(t=>S.jsx("button",{type:"button",className:"rounded border border-[#3a3a3a] bg-[#252525] px-1.5 py-0.5 font-mono text-[10px] text-zinc-400 transition-all hover:border-zinc-500 hover:bg-[#2e2e2e] hover:text-zinc-300 active:bg-[#333]",onClick:()=>e({event:"keys:send",keys:[t]}),children:t},t))})})}function w2({wsRequest:e}){const[t,r]=O.useState(""),[l,o]=O.useState(""),[h,u]=O.useState(null),_=O.useCallback(async()=>{const g=parseInt(t,10),f=parseInt(l,10);if(!g||!f||g<1||f<1){u({ok:!1,text:"Invalid cols/rows"});return}const p=await e({event:"resize",cols:g,rows:f});u(Oe(p))},[t,l,e]);return S.jsxs(Lt,{label:"Resize",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("input",{type:"text",value:t,onChange:g=>r(g.target.value),placeholder:"cols",className:"w-[60px] rounded border border-zinc-600 bg-[#222] px-1.5 py-0.5 font-mono text-[11px] text-zinc-300 outline-none focus:border-blue-400"}),S.jsx("span",{className:"text-zinc-600",children:"x"}),S.jsx("input",{type:"text",value:l,onChange:g=>o(g.target.value),placeholder:"rows",className:"w-[60px] rounded border border-zinc-600 bg-[#222] px-1.5 py-0.5 font-mono text-[11px] text-zinc-300 outline-none focus:border-blue-400"}),S.jsx(Re,{onClick:_,children:"Resize"})]}),S.jsx(ni,{result:h})]})}function C2({wsRequest:e}){const[t,r]=O.useState(""),[l,o]=O.useState(null),h=O.useCallback(async()=>{const u=await e({event:"nudge",message:t});o(Oe(u)),u.ok&&r("")},[t,e]);return S.jsxs(Lt,{label:"Nudge",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("input",{type:"text",value:t,onChange:u=>r(u.target.value),onKeyDown:u=>u.key==="Enter"&&h(),placeholder:"Nudge message...",className:"min-w-0 flex-1 rounded border border-zinc-600 bg-[#222] px-1.5 py-0.5 font-mono text-[11px] text-zinc-300 outline-none focus:border-blue-400"}),S.jsx(Re,{variant:"warn",onClick:h,children:"Nudge"})]}),S.jsx(ni,{result:l})]})}function E2({prompt:e,lastMessage:t,wsRequest:r}){const[l,o]=O.useState(null);return e?S.jsxs(Lt,{label:S.jsxs(S.Fragment,{children:["Respond to Prompt ",S.jsxs("span",{className:"text-blue-400",children:["(",e.type,")"]})]}),children:[t&&S.jsx("div",{className:"mb-1.5 max-h-[100px] overflow-y-auto whitespace-pre-wrap break-words rounded border border-[#2a2a2a] bg-[#1a1a1a] p-1 text-[10px] text-zinc-400",children:t}),e.type==="permission"&&S.jsx(M2,{prompt:e,onResult:o,wsRequest:r}),e.type==="plan"&&S.jsx(k2,{prompt:e,onResult:o,wsRequest:r}),e.type==="setup"&&S.jsx(L2,{prompt:e,onResult:o,wsRequest:r}),e.type==="question"&&S.jsx(A2,{prompt:e,onResult:o,wsRequest:r}),S.jsx(ni,{result:l})]}):S.jsx(Lt,{label:"Respond to Prompt",children:S.jsx("div",{className:"text-[10px] text-zinc-600",children:"No active prompt"})})}function M2({prompt:e,onResult:t,wsRequest:r}){const l=!!e.options_fallback,o=e.options?.length?e.options:["Yes","Yes, and don't ask again","No"],h=l?["success fallback","danger fallback"]:["success","warn","danger"],u=O.useMemo(()=>{const _=[];return e.tool&&_.push(`Tool: ${e.tool}`),e.input&&_.push(e.input),_.join(`
`)},[e]);return S.jsxs(S.Fragment,{children:[u&&S.jsx("div",{className:"mb-1 max-h-20 overflow-y-auto whitespace-pre-wrap break-words text-[10px] text-zinc-500",children:u}),l&&S.jsx(y1,{}),S.jsx("div",{className:"flex flex-col items-start gap-0.5",children:o.map((_,g)=>S.jsxs(Re,{variant:h[g]?.includes("danger")?"danger":h[g]?.includes("success")?"success":h[g]?.includes("warn")?"warn":void 0,dashed:h[g]?.includes("fallback"),onClick:async()=>{const f=await r({event:"respond",option:g+1});t(Oe(f))},children:[g+1,". ",_]},g))})]})}function k2({prompt:e,onResult:t,wsRequest:r}){const[l,o]=O.useState(""),h=!!e.options_fallback,u=e.options?.length?e.options:["Start with clear context","Auto-accept edits","Review each edit","Provide feedback"],_=u.slice(0,-1),g=u[u.length-1],f=u.length,p=h?["success fallback","danger fallback"]:["success","success","","warn"],m=O.useMemo(()=>{if(!e.input)return null;try{const b=JSON.parse(e.input);return b.plan||JSON.stringify(b,null,2)}catch{return e.input}},[e.input]);return S.jsxs(S.Fragment,{children:[m&&S.jsx("div",{className:"mb-1.5 max-h-[200px] overflow-y-auto whitespace-pre-wrap break-words rounded border border-[#2a2a2a] bg-[#1a1a1a] p-1 text-[10px] text-zinc-400",children:m}),h&&S.jsx(y1,{}),S.jsx("div",{className:"flex flex-col items-start gap-0.5",children:_.map((b,x)=>S.jsxs(Re,{variant:p[x]?.includes("danger")?"danger":p[x]?.includes("success")?"success":p[x]?.includes("warn")?"warn":void 0,dashed:p[x]?.includes("fallback"),onClick:async()=>{const E=await r({event:"respond",option:x+1});t(Oe(E))},children:[x+1,". ",b]},x))}),S.jsxs("div",{className:"mt-2 flex flex-col items-start gap-0.5 border-t border-[#2a2a2a] pt-2",children:[S.jsx("input",{type:"text",value:l,onChange:b=>o(b.target.value),onKeyDown:b=>{b.key==="Enter"&&r({event:"respond",option:f,text:l||void 0}).then(x=>t(Oe(x)))},placeholder:`${g}...`,className:"w-full rounded border border-zinc-600 bg-[#222] px-1.5 py-0.5 font-mono text-[11px] text-zinc-300 outline-none focus:border-blue-400"}),S.jsxs(Re,{variant:"warn",onClick:async()=>{const b=await r({event:"respond",option:f,text:l||void 0});t(Oe(b))},children:[f,". ",g]})]})]})}function L2({prompt:e,onResult:t,wsRequest:r}){const l=e.options?.length?e.options:["Continue"];return S.jsxs(S.Fragment,{children:[e.subtype&&S.jsxs("div",{className:"mb-1 text-[10px] text-zinc-500",children:["Subtype: ",e.subtype]}),e.subtype==="oauth_login"&&e.input&&S.jsxs("div",{className:"mb-1.5",children:[S.jsx("div",{className:"mb-0.5 text-[10px] text-purple-400",children:"Auth URL:"}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("input",{type:"text",readOnly:!0,value:e.input,className:"min-w-0 flex-1 cursor-text rounded border border-zinc-600 bg-[#222] px-1.5 py-0.5 font-mono text-[10px] text-blue-400 outline-none"}),S.jsx(Re,{onClick:()=>{navigator.clipboard.writeText(e.input)},children:"Copy"}),S.jsx(Re,{variant:"success",onClick:()=>window.open(e.input,"_blank"),children:"Open"})]})]}),S.jsx("div",{className:"flex flex-col items-start gap-0.5",children:l.map((o,h)=>S.jsxs(Re,{onClick:async()=>{const u=await r({event:"respond",option:h+1});t(Oe(u))},children:[h+1,". ",o]},h))})]})}function A2({prompt:e,onResult:t,wsRequest:r}){const[l,o]=O.useState(""),h=e.questions?.[e.question_current??0];return(e.question_current??0)>=(e.questions?.length??0)?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"mb-1 text-[10px] text-zinc-400",children:"(confirm phase)"}),S.jsxs("div",{className:"flex flex-col items-start gap-0.5",children:[S.jsx(Re,{variant:"success",onClick:async()=>{const _=await r({event:"input:send",text:"",enter:!0});t(Oe(_))},children:"1. Submit answers"}),S.jsx(Re,{variant:"danger",onClick:async()=>{const _=await r({event:"input:send",text:"\x1B",enter:!1});t(Oe(_))},children:"2. Cancel"})]})]}):h?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"mb-1 text-[10px] text-zinc-400",children:h.question}),S.jsx("div",{className:"flex flex-col items-start gap-0.5",children:h.options.map((_,g)=>S.jsxs("button",{type:"button",className:"rounded border border-[#3a3a3a] bg-[#252525] px-1.5 py-0.5 font-mono text-[10px] text-zinc-400 transition-all hover:border-zinc-500 hover:bg-[#2e2e2e] hover:text-zinc-300 active:bg-[#333]",onClick:async()=>{const f=await r({event:"respond",answers:[{option:g+1}]});t(Oe(f))},children:[g+1,". ",_]},g))}),S.jsxs("div",{className:"mt-1 flex items-center gap-1",children:[S.jsx("input",{type:"text",value:l,onChange:_=>o(_.target.value),onKeyDown:async _=>{if(_.key==="Enter"){const g=await r({event:"respond",answers:[{text:l}]});t(Oe(g)),g.ok&&o("")}},placeholder:"Other (freeform text)...",className:"min-w-0 flex-1 rounded border border-zinc-600 bg-[#222] px-1.5 py-0.5 font-mono text-[11px] text-zinc-300 outline-none focus:border-blue-400"}),S.jsx(Re,{onClick:async()=>{const _=await r({event:"respond",answers:[{text:l}]});t(Oe(_)),_.ok&&o("")},children:"Send"})]})]}):S.jsx("div",{className:"text-[10px] text-zinc-600",children:"(no question data)"})}function y1(){return S.jsx("div",{className:"mb-1 inline-block rounded border border-amber-700 px-1.5 py-px text-[10px] text-amber-500",children:"fallback  parser couldn't find real options"})}function T2({wsRequest:e}){return S.jsxs("div",{className:"flex-1 overflow-y-auto",children:[S.jsx(R2,{wsRequest:e}),S.jsx(D2,{wsRequest:e}),S.jsx(B2,{wsRequest:e}),S.jsx(z2,{wsRequest:e}),S.jsx(O2,{wsRequest:e}),S.jsx(H2,{wsRequest:e}),S.jsx(j2,{wsRequest:e}),S.jsx(U2,{wsRequest:e})]})}function R2({wsRequest:e}){const[t,r]=O.useState([]),[l,o]=O.useState(!0),[h,u]=O.useState(null),_=O.useCallback(async()=>{const p=await e({event:"profiles:list"});if(!p.ok){u(Oe(p));return}const m=p.json;o(m.mode==="auto"),r(m.profiles??[])},[e]);O.useEffect(()=>{_()},[_]);const g=O.useCallback(async p=>{const b=await e({event:"profiles:mode:set",mode:p?"auto":"manual"});u(Oe(b)),b.ok&&_()},[_,e]),f=O.useCallback(async p=>{const m=await e({event:"session:switch",profile:p,force:!1});u(Oe(m)),m.ok&&setTimeout(_,500)},[_,e]);return S.jsxs(Lt,{label:"Profiles",headerRight:S.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-normal normal-case tracking-normal",children:[S.jsxs("label",{className:"flex items-center gap-0.5",children:[S.jsx("input",{type:"checkbox",checked:l,onChange:p=>g(p.target.checked),className:"accent-blue-400"}),S.jsx("span",{className:"text-zinc-500",children:"Auto-rotate"})]}),S.jsx(Re,{onClick:_,className:"!px-1.5 !py-px !text-[10px]",children:"Refresh"})]}),children:[t.length===0?S.jsx("div",{className:"text-[10px] text-zinc-600",children:"No profiles registered"}):S.jsx("div",{className:"mt-1 flex flex-col gap-0.5",children:t.map(p=>S.jsxs("div",{className:"flex items-center gap-1.5 text-[11px]",children:[S.jsx("span",{className:`h-1.5 w-1.5 shrink-0 rounded-full ${p.status==="active"?"bg-green-500":p.status==="rate_limited"?"bg-amber-500":"bg-zinc-500"}`}),S.jsx("span",{className:"text-zinc-300",children:p.name}),S.jsxs("span",{className:"text-[10px] text-zinc-500",children:[p.status,p.cooldown_remaining_secs?` (${p.cooldown_remaining_secs}s)`:""]}),p.status!=="active"&&S.jsx("button",{type:"button",className:"ml-auto border-none bg-transparent p-0 text-[10px] text-blue-400 hover:text-blue-300 hover:underline",onClick:()=>f(p.name),children:"switch"})]},p.name))}),S.jsx(ni,{result:h})]})}function D2({wsRequest:e}){const[t,r]=O.useState(""),[l,o]=O.useState(null),h=O.useCallback(async()=>{let u;try{u=JSON.parse(t)}catch{o({ok:!1,text:"Invalid JSON"});return}const _=Array.isArray(u)?u:[u],g=await e({event:"profiles:register",profiles:_});o(Oe(g)),g.ok&&r("")},[t,e]);return S.jsxs(Lt,{label:"Register Profiles",children:[S.jsx("textarea",{value:t,onChange:u=>r(u.target.value),rows:3,placeholder:'[{"name":"main","credentials":{"ANTHROPIC_API_KEY":"sk-ant-..."}}]',className:"w-full resize-y rounded border border-zinc-600 bg-[#222] px-1.5 py-0.5 font-mono text-[11px] leading-snug text-zinc-300 outline-none focus:border-blue-400"}),S.jsx("div",{className:"mt-1",children:S.jsx(Re,{variant:"success",onClick:h,children:"Register"})}),S.jsx(ni,{result:l})]})}function B2({wsRequest:e}){const[t,r]=O.useState(""),[l,o]=O.useState(!1),[h,u]=O.useState(null),_=O.useCallback(async()=>{let g=null;if(t.trim())try{g=JSON.parse(t)}catch{u({ok:!1,text:"Invalid JSON"});return}const f={event:"session:switch",force:l};g&&(f.credentials=g);const p=await e(f);u(Oe(p))},[t,l,e]);return S.jsxs(Lt,{label:"Session Switch",children:[S.jsx("textarea",{value:t,onChange:g=>r(g.target.value),rows:2,placeholder:'{"ANTHROPIC_API_KEY": "sk-ant-..."}',className:"w-full resize-y rounded border border-zinc-600 bg-[#222] px-1.5 py-0.5 font-mono text-[11px] leading-snug text-zinc-300 outline-none focus:border-blue-400"}),S.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[S.jsxs("label",{className:"flex items-center gap-0.5",children:[S.jsx("input",{type:"checkbox",checked:l,onChange:g=>o(g.target.checked),className:"accent-blue-400"}),S.jsx("span",{className:"text-[10px] text-zinc-500",children:"Force (skip idle wait)"})]}),S.jsx(Re,{variant:"warn",onClick:_,children:"Switch"})]}),S.jsx(ni,{result:h})]})}function z2({wsRequest:e}){const[t,r]=O.useState("allow"),[l,o]=O.useState(""),[h,u]=O.useState(null),_=O.useCallback(async()=>{const f=await e({event:"stop:config:get"});if(u(Oe(f)),f.ok&&f.json){const m=f.json.config??f.json;r(m.mode||"allow"),o(m.prompt||"")}},[e]),g=O.useCallback(async()=>{const f=await e({event:"stop:config:put",config:{mode:t,prompt:l||null}});u(Oe(f))},[t,l,e]);return S.jsxs(Lt,{label:"Stop Config",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsxs("select",{value:t,onChange:f=>r(f.target.value),className:"rounded border border-zinc-600 bg-[#222] px-1.5 py-0.5 font-mono text-[11px] text-zinc-300 outline-none focus:border-blue-400",children:[S.jsx("option",{value:"allow",children:"allow"}),S.jsx("option",{value:"signal",children:"signal"})]}),S.jsx(Re,{onClick:_,children:"Get"}),S.jsx(Re,{onClick:g,children:"Put"})]}),S.jsx("div",{className:"mt-1",children:S.jsx("input",{type:"text",value:l,onChange:f=>o(f.target.value),placeholder:"Block reason (optional)",className:"w-full rounded border border-zinc-600 bg-[#222] px-1.5 py-0.5 font-mono text-[11px] text-zinc-300 outline-none focus:border-blue-400"})}),S.jsx(ni,{result:h})]})}function O2({wsRequest:e}){const[t,r]=O.useState(""),[l,o]=O.useState(null),h=O.useCallback(async()=>{const _=await e({event:"config:start:get"});if(o(Oe(_)),_.ok&&_.json){const g=_.json;r(JSON.stringify(g.config??_.json,null,2))}},[e]),u=O.useCallback(async()=>{let _;try{_=JSON.parse(t)}catch{o({ok:!1,text:"Invalid JSON"});return}const g=await e({event:"config:put:get",config:_});o(Oe(g))},[t,e]);return S.jsxs(Lt,{label:"Start Config",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(Re,{onClick:h,children:"Get"}),S.jsx(Re,{onClick:u,children:"Put"})]}),S.jsx("textarea",{value:t,onChange:_=>r(_.target.value),rows:2,placeholder:'{"mode":"allow"}',className:"mt-1 w-full resize-y rounded border border-zinc-600 bg-[#222] px-1.5 py-0.5 font-mono text-[11px] leading-snug text-zinc-300 outline-none focus:border-blue-400"}),S.jsx(ni,{result:l})]})}function N2(e){return e<1024?`${e}B`:e<1024*1024?`${(e/1024).toFixed(1)}K`:`${(e/(1024*1024)).toFixed(1)}M`}function H2({wsRequest:e}){const[t,r]=O.useState([]),[l,o]=O.useState(null),[h,u]=O.useState(null),_=O.useCallback(async()=>{const[p,m]=await Promise.all([e({event:"transcript:list"}),e({event:"transcript:catchup",since_transcript:0,since_line:0})]);if(!p.ok){u(Oe(p));return}r(p.json?.transcripts??[]),m.ok&&m.json&&o(m.json.current_line??null)},[e]);O.useEffect(()=>{_()},[_]);const g=O.useCallback(async()=>{try{const p=await e({event:"transcript:catchup",since_transcript:0,since_line:0});if(!p.ok||!p.json)throw new Error(p.text||"Request failed");const m=p.json,b=[];if(m.transcripts)for(const K of m.transcripts)b.push(...K.lines);m.live_lines&&b.push(...m.live_lines);const x=b.join(`
`),E=new Blob([x],{type:"text/plain;charset=utf-8"}),D=document.createElement("a");D.href=URL.createObjectURL(E),D.download="transcript.txt",document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(D.href)}catch(p){u({ok:!1,text:`Download failed: ${p}`})}},[e]),f=O.useCallback(async p=>{try{const m=await e({event:"transcript:get",number:p});if(!m.ok||!m.json)throw new Error(m.text||"Request failed");const b=m.json;if(!b.content)throw new Error("No content in response");const x=new Blob([b.content],{type:"text/plain;charset=utf-8"}),E=document.createElement("a");E.href=URL.createObjectURL(x),E.download=`transcript-${p}.txt`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(E.href)}catch(m){u({ok:!1,text:`Download failed: ${m}`})}},[e]);return S.jsxs(Lt,{label:"Transcripts",headerRight:S.jsx(Re,{onClick:_,className:"!px-1.5 !py-px !text-[10px]",children:"Refresh"}),children:[l!=null&&S.jsxs("div",{className:"mt-1 text-[10px] text-zinc-500",children:[S.jsx("span",{className:"text-green-500",children:"active"})," ",l," lines"," ",S.jsx(Re,{onClick:g,className:"!px-1.5 !py-px !text-[10px]",children:"Download"})]}),t.length===0?S.jsx("div",{className:"mt-1 text-[10px] text-zinc-600",children:"No snapshots yet"}):S.jsx("div",{className:"mt-1 flex flex-col gap-0.5",children:t.map(p=>{const m=new Date(Number(p.timestamp)*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return S.jsxs("div",{className:"flex items-center gap-1.5 text-[11px]",children:[S.jsxs("span",{className:"min-w-5 text-zinc-500",children:["#",p.number]}),S.jsxs("span",{className:"flex-1 text-zinc-400",children:[m,"  ",p.line_count," lines  ",N2(p.byte_size)]}),S.jsx(Re,{onClick:()=>f(p.number),className:"!px-1.5 !py-px !text-[10px]",children:"Download"})]},p.number)})}),S.jsx(ni,{result:h})]})}function j2({wsRequest:e}){const[t,r]=O.useState(null),l=O.useCallback(async o=>{const h=await e({event:"signal:send",signal:o});r(Oe(h))},[e]);return S.jsxs(Lt,{label:"Signal",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(Re,{onClick:()=>l("SIGINT"),children:"SIGINT"}),S.jsx(Re,{variant:"warn",onClick:()=>l("SIGTERM"),children:"SIGTERM"}),S.jsx(Re,{variant:"danger",onClick:()=>l("SIGKILL"),children:"SIGKILL"})]}),S.jsxs("div",{className:"mt-1 flex items-center gap-1",children:[S.jsx(Re,{onClick:()=>l("SIGTSTP"),children:"SIGTSTP"}),S.jsx(Re,{onClick:()=>l("SIGCONT"),children:"SIGCONT"}),S.jsx(Re,{onClick:()=>l("SIGHUP"),children:"SIGHUP"})]}),S.jsx(ni,{result:t})]})}function U2({wsRequest:e}){const[t,r]=O.useState(null),l=async()=>{const h=await e({event:"session:restart"});r(Oe(h))},o=async()=>{const h=await e({event:"shutdown"});r(Oe(h))};return S.jsxs(Lt,{label:"Lifecycle",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(Re,{variant:"warn",onClick:l,children:"Restart"}),S.jsx(Re,{variant:"danger",onClick:o,children:"Shutdown"})]}),S.jsx(ni,{result:t})]})}function b1(e,t){if(e==null)return[{key:t||"--",value:"--"}];if(typeof e!="object")return[{key:t,value:String(e)}];const r=Array.isArray(e)?e.map((o,h)=>[String(h),o]):Object.entries(e),l=[];for(const[o,h]of r){const u=t?`${t}.${o}`:o;h!=null&&typeof h=="object"?l.push(...b1(h,u)):l.push({key:u,value:String(h??"--")})}return l}function Fo({label:e,data:t,defaultOpen:r=!0}){const l=t?b1(t,""):[];return S.jsx("div",{className:"px-2.5 py-1",children:S.jsxs("details",{open:r,children:[S.jsx("summary",{className:"cursor-pointer py-0.5 text-[11px] font-semibold text-zinc-400 select-none",children:e}),S.jsx("table",{className:"w-full border-collapse",children:S.jsx("tbody",{children:l.length>0?l.map((o,h)=>S.jsxs("tr",{children:[S.jsx("td",{className:"max-w-[90px] truncate px-1 py-px text-[11px] text-zinc-500",children:o.key}),S.jsx("td",{className:"max-w-[180px] truncate px-1 py-px text-[11px] text-zinc-300",children:o.value})]},h)):S.jsx("tr",{children:S.jsx("td",{colSpan:2,className:"px-1 py-px text-[11px] text-zinc-600",children:"--"})})})})]})})}const $2={pty:"text-blue-400",output:"text-blue-400",transition:"text-yellow-400",exit:"text-red-400",error:"text-red-400",resize:"text-teal-400",pong:"text-zinc-600",stop:"text-amber-500",start:"text-green-400",prompt:"text-green-400",session:"text-purple-400",usage:"text-teal-400",hook:"text-purple-400"};function P2(e){const t=e.split(":")[0];return $2[t]||"text-zinc-400"}function F2({health:e,status:t,agent:r,usage:l,events:o}){const h=O.useRef(null),[u,_]=O.useState(void 0);O.useEffect(()=>{const f=h.current;f&&f.scrollHeight-f.scrollTop-f.clientHeight<60&&(f.scrollTop=f.scrollHeight)},[]);const g=O.useCallback(f=>{f.preventDefault();const p=f.currentTarget.closest("[data-state-panel]");if(!p)return;document.body.style.cursor="row-resize",document.body.style.userSelect="none";const m=x=>{const E=p.getBoundingClientRect(),D=x.clientY-E.top,K=E.height-60-5;_(Math.min(K,Math.max(80,D)))},b=()=>{document.body.style.cursor="",document.body.style.userSelect="",window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",b)};window.addEventListener("mousemove",m),window.addEventListener("mouseup",b)},[]);return S.jsxs("div",{className:"flex min-h-0 flex-1 flex-col","data-state-panel":!0,children:[S.jsxs("div",{className:"shrink-0 overflow-y-auto",style:{height:u??"50%"},children:[S.jsx(Fo,{label:"Health",data:e}),S.jsx(Fo,{label:"Status",data:t}),S.jsx(Fo,{label:"Agent",data:r}),S.jsx(Fo,{label:"Usage",data:l})]}),S.jsx("div",{"aria-hidden":"true",className:"h-[5px] shrink-0 cursor-row-resize border-t border-[#2a2a2a] transition-colors hover:bg-blue-400",onMouseDown:g}),S.jsx("h2",{className:"shrink-0 border-b border-[#2a2a2a] px-2.5 py-2 text-[11px] font-semibold uppercase tracking-wide text-zinc-500",children:"Events"}),S.jsx("div",{ref:h,className:"min-h-[60px] flex-1 overflow-y-auto px-2.5 py-1 text-[11px] leading-snug",children:o.map((f,p)=>S.jsxs("div",{className:"border-b border-[#222] py-0.5",children:[S.jsx("span",{className:"text-zinc-600",children:f.ts})," ",S.jsx("span",{className:`font-semibold ${P2(f.type)}`,children:f.type}),f.detail&&S.jsx("span",{className:"ml-1 text-zinc-500",children:f.detail})]},p))})]})}function W2({subscribeWsEvents:e,prompt:t,lastMessage:r,wsSend:l,wsRequest:o,onTabClick:h}){const[u,_]=O.useState("state"),[g,f]=O.useState(null),[p,m]=O.useState(null),[b,x]=O.useState(null),[E,D]=O.useState(null);O.useEffect(()=>{let ee=!1;const V=async()=>{if(!ee)try{const[Q,te,ie,le]=await Promise.all([o({event:"health:get"}).catch(()=>null),o({event:"status:get"}).catch(()=>null),o({event:"agent:get"}).catch(()=>null),o({event:"usage:get"}).catch(()=>null)]);if(ee)return;Q?.ok&&f(Q.json),te?.ok&&m(te.json),ie?.ok&&x(ie.json),le?.ok&&D(le.json)}catch{}};V();const z=setInterval(V,2e3);return()=>{ee=!0,clearInterval(z)}},[o]);const[K,W]=O.useState([]);return O.useEffect(()=>e(ee=>{ee.event==="usage:update"&&ee.cumulative&&D({...ee.cumulative,uptime_secs:"(live)"}),q2(ee,W)}),[e]),S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"flex shrink-0 border-b border-[#333] bg-[#151515]",children:["state","actions","config"].map(ee=>S.jsx("button",{type:"button",className:`flex-1 border-b-2 py-1.5 text-center text-[11px] font-semibold uppercase tracking-wide transition-colors ${u===ee?"border-blue-400 text-zinc-300":"border-transparent text-zinc-600 hover:text-zinc-400"}`,onClick:()=>{_(ee),h?.()},children:ee},ee))}),u==="state"&&S.jsx(F2,{health:g,status:p,agent:b,usage:E,events:K}),u==="actions"&&S.jsx(y2,{prompt:t,lastMessage:r,wsSend:l,wsRequest:o}),u==="config"&&S.jsx(T2,{wsRequest:o})]})}function q2(e,t){t(r=>{const l=[...r],o=e.event,h=new Date().toTimeString().slice(0,8);if(o==="pty"||o==="replay"){const _="data"in e&&e.data?atob(e.data).length:0,g=l[l.length-1];return g?.type==="pty"?[...l.slice(0,-1),{...g,ts:h,detail:`${(g.count??1)+1}x ${(g.bytes??0)+_}B thru ${("offset"in e?e.offset:0)+_}`,count:(g.count??1)+1,bytes:(g.bytes??0)+_}]:[...l,{ts:h,type:"pty",detail:`1x ${_}B thru ${("offset"in e?e.offset:0)+_}`,count:1,bytes:_}].slice(-200)}if(o==="pong"){const _=l[l.length-1];return _?.type==="pong"?[...l.slice(0,-1),{..._,ts:h,detail:`${(_.count??1)+1}x`,count:(_.count??1)+1}]:[...l,{ts:h,type:"pong",detail:"1x",count:1}].slice(-200)}let u="";if(e.event==="transition")u=`${e.prev} -> ${e.next}`,e.cause&&(u+=` [${e.cause}]`),e.error_detail&&(u+=` (${e.error_category||"error"})`);else if(e.event==="exit")u=e.signal!=null?`signal ${e.signal}`:`code ${e.code??"?"}`;else if(e.event==="error")u=`${e.code}: ${e.message}`;else if(e.event==="resize")u=`${e.cols}x${e.rows}`;else if(e.event==="stop:outcome")u=e.type||"";else if(e.event==="start:outcome")u=e.source||"",e.session_id&&(u+=` session=${e.session_id}`),e.injected&&(u+=" (injected)");else if(e.event==="prompt:outcome")u=`${e.source}: ${e.type||"?"}`,e.subtype&&(u+=`(${e.subtype})`),e.option!=null&&(u+=` opt=${e.option}`);else if(e.event==="session:switched")u=e.scheduled?"scheduled":"immediate";else if(e.event==="usage:update")u=e.cumulative?`in=${e.cumulative.input_tokens} out=${e.cumulative.output_tokens} $${e.cumulative.total_cost_usd?.toFixed(4)??"?"} seq=${e.seq}`:`seq=${e.seq}`;else if(e.event==="hook:raw"){const _=e.data||{},g=[_.event||"?"];_.tool_name&&g.push(_.tool_name),_.notification_type&&g.push(_.notification_type),u=g.join(" ")}return[...l,{ts:h,type:e.event,detail:u}].slice(-200)})}function Y2({message:e,onDismiss:t}){return S.jsxs("div",{className:"fixed top-4 right-4 z-[200] flex items-center gap-3 rounded-lg border border-amber-500/50 bg-[#1a1a2e] px-4 py-3 shadow-lg",children:[S.jsx("span",{className:"text-sm text-amber-300",children:e}),S.jsx("button",{type:"button",className:"px-0.5 text-zinc-500 hover:text-zinc-300",onClick:t,title:"Dismiss",children:S.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[S.jsx("title",{children:"Dismiss"}),S.jsx("line",{x1:"3",y1:"3",x2:"11",y2:"11"}),S.jsx("line",{x1:"11",y1:"3",x2:"3",y2:"11"})]})})]})}const I2=O.forwardRef(function({instance:t,fitAddon:r,onReady:l,fontSize:o,fontFamily:h=sa,theme:u,scrollback:_=1e4,cursorBlink:g=!1,disableStdin:f=!1,className:p,onData:m,onBinary:b,onResize:x},E){const D=O.useRef(null),K=O.useRef(null),W=O.useRef(null),ee=O.useRef(m);ee.current=m;const V=O.useRef(b);V.current=b;const z=O.useRef(x);z.current=x;const Q=O.useRef(l);Q.current=l,O.useImperativeHandle(E,()=>({get terminal(){return t??K.current},fit(){(r??W.current)?.fit()}}));const te=O.useRef(!1),ie=O.useRef(r);return ie.current=r,O.useEffect(()=>{if(t==null)return;const le=D.current;if(!le||te.current)return;t.element?(le.appendChild(t.element),t.refresh(0,t.rows-1)):t.open(le),te.current=!0,Q.current?.();const fe=new ResizeObserver(()=>{requestAnimationFrame(()=>ie.current?.fit())});return fe.observe(le),()=>{for(fe.disconnect(),te.current=!1;le.firstChild;)le.removeChild(le.firstChild)}},[t]),O.useEffect(()=>{if(t!=null)return;const le=D.current;if(!le)return;const fe=new S1({fontSize:o??14,fontFamily:h,theme:u??hr,scrollback:_,cursorBlink:g,cursorInactiveStyle:"none",disableStdin:f,convertEol:!1}),Le=new t0;fe.loadAddon(Le),fe.open(le);try{const A=new L0;A.onContextLoss(()=>A.dispose()),fe.loadAddon(A)}catch{}fe.onData(A=>ee.current?.(A)),fe.onBinary(A=>V.current?.(A)),fe.onResize(A=>z.current?.(A));const ae=new ResizeObserver(()=>{requestAnimationFrame(()=>Le.fit())});return ae.observe(le),K.current=fe,W.current=Le,()=>{ae.disconnect(),fe.dispose(),K.current=null,W.current=null}},[t,o,h,u,_,g,f]),S.jsx("div",{className:p,style:{background:(u??hr).background},children:S.jsx("div",{ref:D,className:"h-full w-full overflow-hidden"})})});function K2({title:e,subtitle:t,headerRight:r,credAlert:l,wsStatus:o,agentState:h,ptyOffset:u,host:_,statusLabel:g,inspector:f,onInteraction:p,children:m,className:b,style:x}){const[E,D]=O.useState(!1),[K,W]=O.useState(450),ee=O.useCallback(()=>{D(z=>!z),p?.()},[p]),V=O.useCallback(z=>{z.preventDefault();const Q=ie=>{const le=window.innerWidth-ie.clientX;W(Math.min(600,Math.max(300,le)))},te=()=>{document.body.style.cursor="",document.body.style.userSelect="",window.removeEventListener("mousemove",Q),window.removeEventListener("mouseup",te),p?.()};document.body.style.cursor="col-resize",document.body.style.userSelect="none",window.addEventListener("mousemove",Q),window.addEventListener("mouseup",te)},[p]);return S.jsxs("div",{className:`flex flex-col overflow-hidden bg-[#1e1e1e] font-sans text-[#c9d1d9] ${b||""}`,style:x,children:[S.jsxs("div",{className:"flex shrink-0 items-center justify-between gap-2 border-b border-[#333] px-3 py-1.5",children:[S.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[S.jsx("span",{className:"truncate font-mono text-[13px] font-semibold text-zinc-200",children:e}),t&&S.jsx("span",{className:"truncate font-mono text-[11px] text-zinc-500",children:t})]}),S.jsxs("div",{className:"flex shrink-0 items-center gap-1.5",children:[l&&S.jsx("span",{className:"text-xs text-red-400",title:"Credential issue",children:" auth"}),h&&S.jsx(Km,{state:h}),r]})]}),S.jsxs("div",{className:"flex min-h-0 flex-1",children:[m,E&&f&&S.jsx("div",{"aria-hidden":"true",className:"w-[5px] shrink-0 cursor-col-resize transition-colors hover:bg-blue-400",onMouseDown:V}),E&&f&&S.jsx("div",{className:"flex shrink-0 flex-col overflow-hidden border-l border-[#333] bg-[#181818] font-mono text-xs text-zinc-400",style:{width:K},children:f})]}),S.jsx(Im,{label:g,wsStatus:o,ptyOffset:u,host:_,onToggleInspector:f?ee:void 0,inspectorVisible:E})]})}class x1{constructor(){this.nextOffset=-1}reset(){this.nextOffset=-1}offset(){return this.nextOffset}onReplay(t,r,l){const o=this.nextOffset===-1,h=o?0:this.nextOffset;if(!o&&l<=h)return null;const u=l-t,_=h>u?h-u:0;return this.nextOffset=l,{skip:_,isFirst:o}}onPty(t,r){if(this.nextOffset===-1)return null;const l=this.nextOffset,o=r+t;if(o<=l)return null;const h=l>r?l-r:0;return this.nextOffset=o,h}}class G2{constructor(){this.gate=new x1,this.resets=0,this.writes=[],this.buf=[],this.ranges=[]}replay(t,r,l){const o=typeof t=="string"?new TextEncoder().encode(t):t,h=this.gate.onReplay(o.length,r,l);if(!h){this.writes.push({kind:"replay",offset:r,dataLen:o.length,skip:0,written:0,dropped:!0,gateAfter:this.gate.offset()});return}h.isFirst&&(this.buf=[],this.ranges=[],this.resets++);const u=o.length-h.skip;for(let g=h.skip;g<o.length;g++)this.buf.push(o[g]);const _=l-o.length+h.skip;u>0&&this.ranges.push({from:_,to:_+u}),this.writes.push({kind:"replay",offset:r,dataLen:o.length,skip:h.skip,written:u,dropped:!1,isFirst:h.isFirst,gateAfter:this.gate.offset()})}pty(t,r){const l=typeof t=="string"?new TextEncoder().encode(t):t,o=this.gate.onPty(l.length,r);if(o===null){this.writes.push({kind:"pty",offset:r,dataLen:l.length,skip:0,written:0,dropped:!0,gateAfter:this.gate.offset()});return}const h=l.length-o;for(let _=o;_<l.length;_++)this.buf.push(l[_]);const u=r+o;h>0&&this.ranges.push({from:u,to:u+h}),this.writes.push({kind:"pty",offset:r,dataLen:l.length,skip:o,written:h,dropped:!1,gateAfter:this.gate.offset()})}reconnect(){this.gate.reset(),this.buf=[],this.ranges=[]}output(){return new Uint8Array(this.buf)}outputStr(){return new TextDecoder().decode(this.output())}gaps(){const t=Wm(this.ranges),r=[];for(let l=1;l<t.length;l++)t[l].from>t[l-1].to&&r.push({from:t[l-1].to,to:t[l].from});return r}overlaps(){if(this.ranges.length<2)return[];const t=[...this.ranges].sort((l,o)=>l.from-o.from||l.to-o.to),r=[];for(let l=1;l<t.length;l++)t[l].from<t[l-1].to&&r.push({from:t[l].from,to:Math.min(t[l-1].to,t[l].to)});return Wm(r)}diagnose(){const t=[],r=this.gaps();if(r.length>0){const u=r.reduce((_,g)=>_+(g.to-g.from),0);t.push({kind:"gaps",message:`${r.length} gap(s) detected  ${u} bytes missing from PTY stream`,count:r.length})}const l=this.overlaps();l.length>0&&t.push({kind:"overlaps",message:`${l.length} overlap(s) detected  duplicate data written (stale-gate race)`,count:l.length});let o=-1;for(let u=this.writes.length-1;u>=0;u--)if(this.writes[u].isFirst){o=u;break}if(o>0){const u=this.writes.filter((p,m)=>m<o&&!p.dropped&&p.kind==="pty"),_=this.writes[o],g=_.offset+_.dataLen,f=u.filter(p=>p.offset+p.written>_.offset&&p.offset<g);f.length>0&&t.push({kind:"stale_leak",message:`${f.length} PTY write(s) leaked through stale gate before reconnect reset`,count:f.length})}const h=this.writes.filter(u=>u.kind==="pty");if(h.length>=5){const u=h.filter(g=>g.dropped).length,_=u/h.length;_>.2&&t.push({kind:"large_drop_rate",message:`${Math.round(_*100)}% of PTY writes dropped (${u}/${h.length})`,count:u})}return t}}function Wm(e){if(e.length===0)return[];const t=[...e].sort((l,o)=>l.from-o.from),r=[{...t[0]}];for(let l=1;l<t.length;l++){const o=r[r.length-1];t[l].from<=o.to?o.to=Math.max(o.to,t[l].to):r.push({...t[l]})}return r}function V2({info:e,sidebarWidth:t,muxSend:r,sendInputRef:l,onTransition:o,onClose:h}){const u=O.useRef(null),_=O.useRef(null),g=O.useRef(new x1),f=O.useRef(new G2),p=O.useRef(0),m=O.useRef(null),[b,x]=O.useState("disconnected"),[E,D]=O.useState(!1),[K,W]=O.useState(null),[ee,V]=O.useState(null),[z,Q]=O.useState(null),te=O.useRef(new Set),ie=vb(o),[{term:le,fit:fe}]=O.useState(()=>{const C=new S1({scrollback:1e4,fontSize:Gm,fontFamily:sa,theme:hr,cursorBlink:!1,cursorInactiveStyle:"none",disableStdin:!0,convertEol:!1}),N=new t0;return C.loadAddon(N),{term:C,fit:N}}),Le=O.useRef(null);Kd(()=>{window.__wsHarness=f.current,e.term=le,e.fit=fe;const C=le.onData(Y=>{u.current?.readyState===WebSocket.OPEN?u.current.send(JSON.stringify({event:"input:send:raw",data:bp(Y)})):r({event:"input:send",session:e.id,text:Y})}),N=le.onResize(({cols:Y,rows:w})=>{u.current?.readyState===WebSocket.OPEN&&u.current.send(JSON.stringify({event:"resize",cols:Y,rows:w}))});l.current=Y=>{u.current?.readyState===WebSocket.OPEN?u.current.send(JSON.stringify({event:"input:send:raw",data:bp(Y)})):r({event:"input:send",session:e.id,text:Y})},Le.current=()=>{window.__wsHarness=void 0,C.dispose(),N.dispose(),_.current?.dispose(),_.current=null,u.current?.close(),u.current=null,e.webgl&&(e.webgl.dispose(),e.webgl=null),le.dispose(),e.term=null,e.fit=null,l.current=null}}),O.useEffect(()=>()=>Le.current?.(),[]);function ae(){m.current===null&&(m.current=setTimeout(()=>{m.current=null;const C=f.current.diagnose();C.length>p.current&&(p.current=C.length,Q(C[0].message),setTimeout(()=>Q(null),1e4))},2e3))}function A(){g.current.reset(),f.current.reconnect(),p.current=0,Q(null);const C=location.protocol==="https:"?"wss:":"ws:",N=new URLSearchParams(location.search);let Y=`${C}//${location.host}/ws/${e.id}?subscribe=pty,state,usage,hooks`;const w=N.get("token");w&&(Y+=`&token=${encodeURIComponent(w)}`),x("connecting");const U=new WebSocket(Y);u.current=U;const X=new e0(U);_.current=X,U.onopen=()=>{x("connected"),U.send(JSON.stringify({event:"resize",cols:le.cols,rows:le.rows})),U.send(JSON.stringify({event:"replay:get",offset:0})),X.request({event:"agent:get"}).then(se=>{if(se.ok&&se.json){const re=se.json;W(re.prompt??null),V(re.last_message??null),re.state&&ie.current(e.id,re.state,re.prompt??null,re.last_message??null)}})},U.onmessage=se=>{try{const re=JSON.parse(se.data);if(X.handleMessage(re))return;for(const oe of te.current)oe(re);if(re.event==="replay"){const oe=yp(re.data);f.current.replay(oe,re.offset,re.next_offset);const ue=g.current.onReplay(oe.length,re.offset,re.next_offset);if(!ue)return;ue.isFirst&&(le.reset(),Z2(le,D)),le.write(ue.skip>0?oe.subarray(ue.skip):oe),ae()}else if(re.event==="pty"){const oe=yp(re.data);f.current.pty(oe,re.offset);const ue=g.current.onPty(oe.length,re.offset);if(ue===null)return;le.write(ue>0?oe.subarray(ue):oe),ae()}else re.event==="transition"&&(W(re.prompt??null),V(re.last_message??null),ie.current(e.id,re.next,re.prompt??null,re.last_message??null))}catch{}},U.onclose=()=>{u.current=null,X.dispose(),_.current=null,x("disconnected")}}function T(){if(!e.webgl)try{const C=new L0;C.onContextLoss(()=>{C.dispose(),e.webgl===C&&(e.webgl=null)}),le.loadAddon(C),e.webgl=C}catch{}fe.fit(),A()}function F(C){return te.current.add(C),()=>{te.current.delete(C)}}function j(C){u.current?.readyState===WebSocket.OPEN&&u.current.send(JSON.stringify(C))}function M(C){const N=_.current;return N?N.request(C):Promise.resolve({ok:!1,status:0,json:null,text:"Not connected"})}function k(){le.focus()}return S.jsxs(K2,{className:"absolute inset-y-0 right-0 z-[100] transition-[left] duration-200",style:{left:t},title:Qm(e),subtitle:Jm(e),credAlert:e.credAlert,headerRight:S.jsx("button",{type:"button",className:"border-none bg-transparent p-1 text-zinc-500 hover:text-zinc-300",title:"Close (Esc)",onClick:h,children:S.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[S.jsx("title",{children:"Close"}),S.jsx("line",{x1:"4",y1:"4",x2:"14",y2:"14"}),S.jsx("line",{x1:"14",y1:"4",x2:"4",y2:"14"})]})}),wsStatus:b,agentState:e.state,statusLabel:"[coopmux]",onInteraction:k,inspector:S.jsx(W2,{subscribeWsEvents:F,prompt:K,lastMessage:ee,wsSend:j,wsRequest:M,onTabClick:k}),children:[z&&S.jsx(Y2,{message:z,onDismiss:()=>Q(null)}),S.jsxs("div",{className:"relative min-w-0 flex-1",children:[S.jsx(I2,{instance:le,fitAddon:fe,onReady:T,theme:hr,className:`h-full py-4 pl-4 ${E?"":"invisible"}`}),!E&&S.jsxs("div",{className:"absolute inset-0 overflow-hidden",style:{background:hr.background},children:[S.jsxs("div",{className:"relative h-0.5 w-full overflow-hidden bg-zinc-800",children:[S.jsx("div",{className:"absolute inset-y-0 w-1/3 animate-[shimmer_1.5s_ease-in-out_infinite] bg-blue-500/60",style:{animation:"shimmer 1.5s ease-in-out infinite"}}),S.jsx("style",{children:"@keyframes shimmer { 0% { left: -33% } 100% { left: 100% } }"})]}),S.jsx("div",{className:"mr-[14px] overflow-hidden py-4 pl-4",children:e.lastScreenLines?S.jsx(X2,{lines:e.lastScreenLines}):S.jsx("div",{className:"flex items-center gap-2 text-sm text-zinc-500",style:{fontFamily:sa},children:"Loading session"})})]})]})]})}function X2({lines:e}){const t=O.useRef(null);return Kd(()=>{t.current&&t.current.appendChild(Vm(e,{fontSize:Gm}))}),S.jsx("div",{ref:t})}function Z2(e,t){e.options.disableStdin=!1,t(!0),requestAnimationFrame(()=>e.focus())}const w1=O.createContext({sidebarCollapsed:!1,toggleSidebar:()=>{}});function Q2({children:e}){const[t,r]=O.useState(!1),l=O.useCallback(()=>r(o=>!o),[]);return S.jsx(w1.Provider,{value:{sidebarCollapsed:t,toggleSidebar:l},children:e})}function C1(){return O.useContext(w1)}function qm(e){if(!e)return 4;const t=e.toLowerCase();return t.includes("prompt")?0:t.includes("error")||t==="parked"?1:t==="idle"||t==="waiting_for_input"?2:t==="working"?3:4}function J2(e){if(!e)return"bg-zinc-500";const t=e.toLowerCase();return t.includes("prompt")?"bg-yellow-400":t.includes("error")||t==="parked"?"bg-red-400":t==="idle"||t==="waiting_for_input"?"bg-blue-400":t==="working"?"bg-green-400":"bg-zinc-500"}function eE(e){if(!e)return!1;const t=e.toLowerCase();return t.includes("prompt")||t.includes("error")}function Ym(e){if(e.metadata?.k8s?.pod)return e.metadata.k8s.pod;if(e.url)try{return new URL(e.url).host}catch{}return e.id.substring(0,12)}function tE(e){return[...e].sort((t,r)=>qm(t.state)-qm(r.state))}function iE({sessions:e,expandedSession:t,focusedSession:r,launchAvailable:l,onSelectSession:o}){const{sidebarCollapsed:h}=C1(),u=O.useMemo(()=>tE(e),[e]),[_,g]=O.useState(!1),f=O.useCallback(()=>{g(!0)},[]);return e.length===0&&!l?null:S.jsxs("div",{className:"flex shrink-0 flex-col border-r border-[#21262d] bg-[#0d1117] transition-[width] duration-200",style:{width:h?40:220},children:[S.jsx("div",{className:"flex-1 overflow-y-auto",children:u.map(p=>{const m=p.id===t||p.id===r,b=eE(p.state),x=J2(p.state);return h?S.jsx("button",{type:"button",className:`flex w-full items-center justify-center py-2 hover:bg-[#1a1f26] ${m?"bg-[#1a1f26]":""}`,title:`${Ym(p)}  ${(p.state||"unknown").toUpperCase()}`,onClick:()=>o(p.id),children:S.jsx("span",{className:`inline-block h-2.5 w-2.5 rounded-full ${x} ${b?"animate-pulse":""}`})},p.id):S.jsxs("button",{type:"button",className:`flex w-full items-center gap-2.5 px-3 py-2 text-left hover:bg-[#1a1f26] ${m?"border-l-2 border-blue-500 bg-[#1a1f26]":"border-l-2 border-transparent"}`,onClick:()=>o(p.id),children:[S.jsx("span",{className:`inline-block h-2 w-2 shrink-0 rounded-full ${x} ${b?"animate-pulse":""}`}),S.jsxs("div",{className:"min-w-0 flex-1",children:[S.jsx("div",{className:"truncate text-[12px] text-zinc-300",children:Ym(p)}),S.jsx("div",{className:"text-[10px] uppercase text-zinc-500",children:p.state||"unknown"}),p.lastMessage&&S.jsx("div",{className:"mt-0.5 line-clamp-2 text-[10px] leading-tight text-zinc-500",children:p.lastMessage})]})]},p.id)})}),l&&(h?S.jsx("button",{type:"button",className:"flex w-full items-center justify-center border-t border-[#21262d] py-2 text-zinc-500 hover:bg-[#1a1f26] hover:text-blue-400",onClick:f,title:"New session",children:S.jsx("span",{className:"text-base leading-none",children:"+"})}):S.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 border-t border-[#21262d] px-3 py-2 text-[12px] text-zinc-500 hover:bg-[#1a1f26] hover:text-blue-400",onClick:f,children:[S.jsx("span",{className:"text-base leading-none",children:"+"}),S.jsx("span",{children:"New Session"})]})),_&&S.jsx(Zm,{onClose:()=>g(!1)})]})}function sE(){const[e,t]=O.useState(()=>new Map),r=O.useRef(e);r.current=e;const[l,o]=O.useState(null),h=O.useRef(l);h.current=l;const[u,_]=O.useState(null),g=O.useRef(u);g.current=u;const f=O.useRef(null),[p,m]=O.useState(!1),[b,x]=O.useState(null),[E,D]=O.useState(()=>new Map),[K,W]=O.useState(!1),ee=e.size,V=O.useMemo(()=>{let k=0;for(const[,C]of e){const N=(C.state||"").toLowerCase();N&&N!=="exited"&&!N.includes("error")&&k++}return k},[e]),z=O.useMemo(()=>[...E.values()].filter(k=>k.event!=="credential:refreshed").length,[E]);function Q(k,C,N,Y){return{id:k,url:C,state:N,metadata:Y,lastMessage:null,term:null,fit:null,webgl:null,sourceCols:80,sourceRows:24,lastScreenLines:null,credAlert:!1}}function te(k,C,N,Y){const w=r.current.get(k);w&&(w.state=C,t(new Map(r.current))),N?.subtype==="oauth_login"&&N.input&&x(N.input)}function ie(k){g.current===k?_(null):(_(k),o(k))}const le=O.useRef(null);function fe(k){const C=k;if(C.event==="sessions"){const N=new Map,Y=[];for(const w of C.sessions)if(Y.push(w.id),r.current.has(w.id)){const U=r.current.get(w.id);U.url=w.url??null,U.state=w.state??null,U.metadata=w.metadata??null,N.set(w.id,U)}else N.set(w.id,Q(w.id,w.url??null,w.state??null,w.metadata??null));for(const[w,U]of r.current)N.has(w)||U.term?.dispose();r.current=N,t(N),Y.length>0&&le.current&&le.current({event:"subscribe",sessions:Y})}else if(C.event==="transition"){const N=r.current.get(C.session);N&&(N.state=C.next,C.last_message!=null&&(N.lastMessage=C.last_message),t(new Map(r.current))),C.prompt?.subtype==="oauth_login"&&C.prompt.input&&x(C.prompt.input)}else if(C.event==="session:online"){if(!r.current.has(C.session)){const N=new Map(r.current);N.set(C.session,Q(C.session,C.url??null,null,C.metadata??null)),r.current=N,t(N),le.current?.({event:"subscribe",sessions:[C.session]})}}else if(C.event==="session:offline"){const N=r.current.get(C.session);if(N){N.term?.dispose();const Y=new Map(r.current);Y.delete(C.session),r.current=Y,t(Y),h.current===C.session&&o(null),g.current===C.session&&_(null)}}else if(C.event==="credential:refreshed"||C.event==="credential:refresh:failed"||C.event==="credential:reauth:required")D(N=>{const Y=new Map(N);if(C.event==="credential:refreshed")Y.delete(C.account);else{const w={event:C.event};if(C.event==="credential:reauth:required"){const U=C;w.auth_url=U.auth_url,w.user_code=U.user_code}Y.set(C.account,w)}return Y});else if(C.event==="screen_batch"){for(const N of C.screens){const Y=r.current.get(N.session);if(!Y)continue;const w=N.lines.slice(),U=N.ansi?.slice()??w.slice();for(;w.length>1&&w[w.length-1].trim()==="";)w.pop(),U.pop();Y.sourceCols=N.cols,Y.sourceRows=N.rows,Y.lastScreenLines=U}t(N=>new Map(N))}}const{send:Le,status:ae}=Cb({path:"/ws/mux",onMessage:fe});O.useEffect(()=>{le.current=Le},[Le]),O.useEffect(()=>{Id("/api/v1/config/launch").then(k=>{k.ok&&k.json&&typeof k.json=="object"&&"available"in k.json&&m(k.json.available===!0)})},[]);const{dragActive:A}=xb({uploadPath:()=>h.current?`/api/v1/sessions/${h.current}/upload`:null,onUploaded:k=>{const C=`${k.join(" ")} `,N=h.current;N&&(f.current?f.current(C):le.current?.({event:"input:send",session:N,text:C}),r.current.get(N)?.term?.focus())},onError:k=>{const C=h.current;C&&r.current.get(C)?.term?.write(`\r
\x1B[31m[${k}]\x1B[0m\r
`)}}),{sidebarCollapsed:T,toggleSidebar:F}=C1(),j=T?40:220;O.useEffect(()=>{const k=C=>{C.key==="Escape"&&(K?W(!1):g.current&&_(null)),C.key==="b"&&(C.metaKey||C.ctrlKey)&&(C.preventDefault(),F())};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[F,K]);const M=O.useMemo(()=>[...e.values()],[e]);return S.jsxs("div",{className:"flex h-screen flex-col bg-[#0d1117] font-sans text-[#c9d1d9]",children:[S.jsxs("header",{className:"flex shrink-0 items-center gap-4 border-b border-[#21262d] px-2.5 py-2.5",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{type:"button",className:"border-none bg-transparent p-0.5 text-zinc-500 hover:text-zinc-300",onClick:F,title:T?"Expand sidebar (Cmd+B)":"Collapse sidebar (Cmd+B)",children:S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("title",{children:"Toggle sidebar"}),S.jsx("rect",{x:"1.5",y:"2",width:"13",height:"12",rx:"1.5"}),S.jsx("line",{x1:"5.5",y1:"2",x2:"5.5",y2:"14"})]})}),S.jsx("h1",{className:"text-base font-semibold",children:"coopmux"})]}),S.jsxs("div",{className:"flex gap-4 text-[13px] text-zinc-500",children:[S.jsxs("span",{children:[ee," session",ee!==1?"s":""]}),S.jsxs("span",{children:[V," healthy"]})]}),S.jsxs("div",{className:"relative ml-auto",children:[S.jsx("button",{type:"button",className:`rounded border px-2.5 py-1 text-[12px] transition-colors ${z>0?"border-red-700 bg-red-500/10 text-red-400 hover:border-red-500 hover:text-red-300":"border-zinc-700 bg-[#1c2128] text-zinc-400 hover:border-zinc-500 hover:text-zinc-300"}`,onClick:()=>W(k=>!k),children:z>0?`${z} Credential Alert${z!==1?"s":""}`:"Credentials"}),K&&S.jsx(Ab,{onClose:()=>W(!1),alerts:E})]})]}),S.jsx(sb,{active:A}),b&&S.jsx(rb,{url:b,onDismiss:()=>x(null)}),S.jsxs("div",{className:"relative flex min-h-0 flex-1 flex-col",children:[S.jsxs("div",{className:"flex min-h-0 flex-1",children:[S.jsx(iE,{sessions:M,expandedSession:u,focusedSession:l,launchAvailable:p,onSelectSession:k=>ie(k)}),ee>0||p?S.jsxs("div",{className:"grid flex-1 auto-rows-min grid-cols-[repeat(auto-fill,minmax(340px,1fr))] content-start gap-3 overflow-auto p-4",children:[M.filter(k=>k.id!==u).map(k=>S.jsx(pb,{info:k,focused:l===k.id,onToggleExpand:()=>ie(k.id)},k.id)),p&&S.jsx(mb,{})]}):S.jsx("div",{className:"flex flex-1 items-center justify-center text-sm text-zinc-500",children:S.jsx("p",{children:"Waiting for connections"})})]}),u&&e.get(u)&&S.jsx(V2,{info:e.get(u),sidebarWidth:j,muxSend:Le,sendInputRef:f,onTransition:te,onClose:()=>_(null)},u),S.jsx(Im,{label:"[coopmux]",wsStatus:ae})]})]})}function rE(){return S.jsx(Q2,{children:S.jsx(sE,{})})}ib.createRoot(document.getElementById("root")).render(S.jsx(O.StrictMode,{children:S.jsx(rE,{})}));</script>
    <style rel="stylesheet" crossorigin>@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-space-y-reverse:0;--tw-border-style:solid;--tw-leading:initial;--tw-font-weight:initial;--tw-tracking:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-duration:initial;--tw-ease:initial}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-300:oklch(80.8% .114 19.571);--color-red-400:oklch(70.4% .191 22.216);--color-red-500:oklch(63.7% .237 25.331);--color-red-700:oklch(50.5% .213 27.518);--color-red-800:oklch(44.4% .177 26.899);--color-amber-300:oklch(87.9% .169 91.605);--color-amber-400:oklch(82.8% .189 84.429);--color-amber-500:oklch(76.9% .188 70.08);--color-amber-700:oklch(55.5% .163 48.998);--color-yellow-200:oklch(94.5% .129 101.54);--color-yellow-300:oklch(90.5% .182 98.111);--color-yellow-400:oklch(85.2% .199 91.936);--color-yellow-500:oklch(79.5% .184 86.047);--color-yellow-700:oklch(55.4% .135 66.442);--color-green-300:oklch(87.1% .15 154.449);--color-green-400:oklch(79.2% .209 151.711);--color-green-500:oklch(72.3% .219 149.579);--color-green-800:oklch(44.8% .119 151.328);--color-teal-400:oklch(77.7% .152 181.912);--color-blue-300:oklch(80.9% .105 251.813);--color-blue-400:oklch(70.7% .165 254.624);--color-blue-500:oklch(62.3% .214 259.815);--color-blue-700:oklch(48.8% .243 264.376);--color-purple-300:oklch(82.7% .119 306.383);--color-purple-400:oklch(71.4% .203 305.504);--color-purple-500:oklch(62.7% .265 303.9);--color-purple-600:oklch(55.8% .288 302.321);--color-zinc-200:oklch(92% .004 286.32);--color-zinc-300:oklch(87.1% .006 286.286);--color-zinc-400:oklch(70.5% .015 286.067);--color-zinc-500:oklch(55.2% .016 285.938);--color-zinc-600:oklch(44.2% .017 285.786);--color-zinc-700:oklch(37% .013 285.805);--color-zinc-800:oklch(27.4% .006 286.033);--color-zinc-900:oklch(21% .006 285.885);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-lg:32rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height: 1.5 ;--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-3xl:1.875rem;--text-3xl--line-height: 1.2 ;--font-weight-normal:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--tracking-normal:0em;--tracking-wide:.025em;--leading-tight:1.25;--leading-snug:1.375;--radius-lg:.5rem;--ease-in-out:cubic-bezier(.4,0,.2,1);--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::file-selector-button{appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer components;@layer utilities{.pointer-events-none{pointer-events:none}.invisible{visibility:hidden}.visible{visibility:visible}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.inset-0{inset:calc(var(--spacing)*0)}.inset-y-0{inset-block:calc(var(--spacing)*0)}.top-4{top:calc(var(--spacing)*4)}.top-full{top:100%}.right-0{right:calc(var(--spacing)*0)}.right-4{right:calc(var(--spacing)*4)}.z-\[100\]{z-index:100}.z-\[200\]{z-index:200}.z-\[300\]{z-index:300}.z-\[1000\]{z-index:1000}.container{width:100%}@media(min-width:40rem){.container{max-width:40rem}}@media(min-width:48rem){.container{max-width:48rem}}@media(min-width:64rem){.container{max-width:64rem}}@media(min-width:80rem){.container{max-width:80rem}}@media(min-width:96rem){.container{max-width:96rem}}.mt-0\.5{margin-top:calc(var(--spacing)*.5)}.mt-1{margin-top:calc(var(--spacing)*1)}.mt-2{margin-top:calc(var(--spacing)*2)}.mr-1\.5{margin-right:calc(var(--spacing)*1.5)}.mr-\[14px\]{margin-right:14px}.mb-0\.5{margin-bottom:calc(var(--spacing)*.5)}.mb-1{margin-bottom:calc(var(--spacing)*1)}.mb-1\.5{margin-bottom:calc(var(--spacing)*1.5)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.ml-1{margin-left:calc(var(--spacing)*1)}.ml-auto{margin-left:auto}.line-clamp-2{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.inline-block{display:inline-block}.h-0\.5{height:calc(var(--spacing)*.5)}.h-1\.5{height:calc(var(--spacing)*1.5)}.h-2{height:calc(var(--spacing)*2)}.h-2\.5{height:calc(var(--spacing)*2.5)}.h-8{height:calc(var(--spacing)*8)}.h-\[5px\]{height:5px}.h-\[280px\]{height:280px}.h-full{height:100%}.h-screen{height:100vh}.max-h-10{max-height:calc(var(--spacing)*10)}.max-h-20{max-height:calc(var(--spacing)*20)}.max-h-\[100px\]{max-height:100px}.max-h-\[200px\]{max-height:200px}.min-h-0{min-height:calc(var(--spacing)*0)}.min-h-\[60px\]{min-height:60px}.w-1\.5{width:calc(var(--spacing)*1.5)}.w-1\/3{width:33.3333%}.w-2{width:calc(var(--spacing)*2)}.w-2\.5{width:calc(var(--spacing)*2.5)}.w-80{width:calc(var(--spacing)*80)}.w-\[5px\]{width:5px}.w-\[60px\]{width:60px}.w-full{width:100%}.max-w-\[90px\]{max-width:90px}.max-w-\[180px\]{max-width:180px}.max-w-lg{max-width:var(--container-lg)}.min-w-0{min-width:calc(var(--spacing)*0)}.min-w-5{min-width:calc(var(--spacing)*5)}.flex-1{flex:1}.shrink-0{flex-shrink:0}.border-collapse{border-collapse:collapse}.animate-\[shimmer_1\.5s_ease-in-out_infinite\]{animation:1.5s ease-in-out infinite shimmer}.animate-pulse{animation:var(--animate-pulse)}.cursor-col-resize{cursor:col-resize}.cursor-pointer{cursor:pointer}.cursor-row-resize{cursor:row-resize}.cursor-text{cursor:text}.resize{resize:both}.resize-y{resize:vertical}.auto-rows-min{grid-auto-rows:min-content}.grid-cols-\[repeat\(auto-fill\,minmax\(340px\,1fr\)\)\]{grid-template-columns:repeat(auto-fill,minmax(340px,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.content-start{align-content:flex-start}.items-center{align-items:center}.items-start{align-items:flex-start}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.gap-0\.5{gap:calc(var(--spacing)*.5)}.gap-1{gap:calc(var(--spacing)*1)}.gap-1\.5{gap:calc(var(--spacing)*1.5)}.gap-2{gap:calc(var(--spacing)*2)}.gap-2\.5{gap:calc(var(--spacing)*2.5)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}:where(.space-y-1\.5>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1.5)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1.5)*calc(1 - var(--tw-space-y-reverse)))}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:.25rem}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-lg)}.border{border-style:var(--tw-border-style);border-width:1px}.border-3{border-style:var(--tw-border-style);border-width:3px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-r{border-right-style:var(--tw-border-style);border-right-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-b-2{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.border-l{border-left-style:var(--tw-border-style);border-left-width:1px}.border-l-2{border-left-style:var(--tw-border-style);border-left-width:2px}.border-dashed{--tw-border-style:dashed;border-style:dashed}.border-none{--tw-border-style:none;border-style:none}.border-\[\#2a2a2a\]{border-color:#2a2a2a}.border-\[\#3a3a3a\]{border-color:#3a3a3a}.border-\[\#222\]{border-color:#222}.border-\[\#333\]{border-color:#333}.border-\[\#21262d\]{border-color:#21262d}.border-amber-500\/50{border-color:#f99c0080}@supports (color:color-mix(in lab,red,red)){.border-amber-500\/50{border-color:color-mix(in oklab,var(--color-amber-500)50%,transparent)}}.border-amber-700{border-color:var(--color-amber-700)}.border-blue-400{border-color:var(--color-blue-400)}.border-blue-500{border-color:var(--color-blue-500)}.border-blue-700\/50{border-color:#1447e680}@supports (color:color-mix(in lab,red,red)){.border-blue-700\/50{border-color:color-mix(in oklab,var(--color-blue-700)50%,transparent)}}.border-green-800{border-color:var(--color-green-800)}.border-purple-500\/50{border-color:#ac4bff80}@supports (color:color-mix(in lab,red,red)){.border-purple-500\/50{border-color:color-mix(in oklab,var(--color-purple-500)50%,transparent)}}.border-red-700{border-color:var(--color-red-700)}.border-red-800{border-color:var(--color-red-800)}.border-transparent{border-color:#0000}.border-yellow-700\/50{border-color:#a3610080}@supports (color:color-mix(in lab,red,red)){.border-yellow-700\/50{border-color:color-mix(in oklab,var(--color-yellow-700)50%,transparent)}}.border-zinc-600{border-color:var(--color-zinc-600)}.border-zinc-700{border-color:var(--color-zinc-700)}.bg-\[\#0d1117\]{background-color:#0d1117}.bg-\[\#1a1a1a\]{background-color:#1a1a1a}.bg-\[\#1a1a2e\]{background-color:#1a1a2e}.bg-\[\#1a1f26\]{background-color:#1a1f26}.bg-\[\#1c2128\]{background-color:#1c2128}.bg-\[\#1e1e1e\]{background-color:#1e1e1e}.bg-\[\#2a2a2a\]{background-color:#2a2a2a}.bg-\[\#161b22\]{background-color:#161b22}.bg-\[\#222\]{background-color:#222}.bg-\[\#151515\]{background-color:#151515}.bg-\[\#181818\]{background-color:#181818}.bg-\[\#252525\]{background-color:#252525}.bg-amber-500{background-color:var(--color-amber-500)}.bg-black\/50{background-color:#00000080}@supports (color:color-mix(in lab,red,red)){.bg-black\/50{background-color:color-mix(in oklab,var(--color-black)50%,transparent)}}.bg-blue-400{background-color:var(--color-blue-400)}.bg-blue-500\/10{background-color:#3080ff1a}@supports (color:color-mix(in lab,red,red)){.bg-blue-500\/10{background-color:color-mix(in oklab,var(--color-blue-500)10%,transparent)}}.bg-blue-500\/20{background-color:#3080ff33}@supports (color:color-mix(in lab,red,red)){.bg-blue-500\/20{background-color:color-mix(in oklab,var(--color-blue-500)20%,transparent)}}.bg-blue-500\/60{background-color:#3080ff99}@supports (color:color-mix(in lab,red,red)){.bg-blue-500\/60{background-color:color-mix(in oklab,var(--color-blue-500)60%,transparent)}}.bg-green-400{background-color:var(--color-green-400)}.bg-green-500{background-color:var(--color-green-500)}.bg-green-500\/20{background-color:#00c75833}@supports (color:color-mix(in lab,red,red)){.bg-green-500\/20{background-color:color-mix(in oklab,var(--color-green-500)20%,transparent)}}.bg-purple-500\/20{background-color:#ac4bff33}@supports (color:color-mix(in lab,red,red)){.bg-purple-500\/20{background-color:color-mix(in oklab,var(--color-purple-500)20%,transparent)}}.bg-purple-600{background-color:var(--color-purple-600)}.bg-red-400{background-color:var(--color-red-400)}.bg-red-500{background-color:var(--color-red-500)}.bg-red-500\/10{background-color:#fb2c361a}@supports (color:color-mix(in lab,red,red)){.bg-red-500\/10{background-color:color-mix(in oklab,var(--color-red-500)10%,transparent)}}.bg-red-500\/20{background-color:#fb2c3633}@supports (color:color-mix(in lab,red,red)){.bg-red-500\/20{background-color:color-mix(in oklab,var(--color-red-500)20%,transparent)}}.bg-transparent{background-color:#0000}.bg-yellow-400{background-color:var(--color-yellow-400)}.bg-yellow-500\/10{background-color:#edb2001a}@supports (color:color-mix(in lab,red,red)){.bg-yellow-500\/10{background-color:color-mix(in oklab,var(--color-yellow-500)10%,transparent)}}.bg-yellow-500\/20{background-color:#edb20033}@supports (color:color-mix(in lab,red,red)){.bg-yellow-500\/20{background-color:color-mix(in oklab,var(--color-yellow-500)20%,transparent)}}.bg-zinc-500{background-color:var(--color-zinc-500)}.bg-zinc-700{background-color:var(--color-zinc-700)}.bg-zinc-800{background-color:var(--color-zinc-800)}.bg-zinc-900\/85{background-color:#18181bd9}@supports (color:color-mix(in lab,red,red)){.bg-zinc-900\/85{background-color:color-mix(in oklab,var(--color-zinc-900)85%,transparent)}}.p-0{padding:calc(var(--spacing)*0)}.p-0\.5{padding:calc(var(--spacing)*.5)}.p-1{padding:calc(var(--spacing)*1)}.p-2{padding:calc(var(--spacing)*2)}.p-4{padding:calc(var(--spacing)*4)}.\!px-1\.5{padding-inline:calc(var(--spacing)*1.5)!important}.px-0\.5{padding-inline:calc(var(--spacing)*.5)}.px-1{padding-inline:calc(var(--spacing)*1)}.px-1\.5{padding-inline:calc(var(--spacing)*1.5)}.px-2{padding-inline:calc(var(--spacing)*2)}.px-2\.5{padding-inline:calc(var(--spacing)*2.5)}.px-3{padding-inline:calc(var(--spacing)*3)}.px-4{padding-inline:calc(var(--spacing)*4)}.\!py-px{padding-block:1px!important}.py-0\.5{padding-block:calc(var(--spacing)*.5)}.py-1{padding-block:calc(var(--spacing)*1)}.py-1\.5{padding-block:calc(var(--spacing)*1.5)}.py-2{padding-block:calc(var(--spacing)*2)}.py-2\.5{padding-block:calc(var(--spacing)*2.5)}.py-3{padding-block:calc(var(--spacing)*3)}.py-4{padding-block:calc(var(--spacing)*4)}.py-px{padding-block:1px}.pt-2{padding-top:calc(var(--spacing)*2)}.pl-4{padding-left:calc(var(--spacing)*4)}.text-center{text-align:center}.text-left{text-align:left}.font-mono{font-family:var(--font-mono)}.font-sans{font-family:var(--font-sans)}.text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.text-base{font-size:var(--text-base);line-height:var(--tw-leading,var(--text-base--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.\!text-\[10px\]{font-size:10px!important}.text-\[9px\]{font-size:9px}.text-\[10px\]{font-size:10px}.text-\[11px\]{font-size:11px}.text-\[12px\]{font-size:12px}.text-\[13px\]{font-size:13px}.text-\[14px\]{font-size:14px}.leading-none{--tw-leading:1;line-height:1}.leading-snug{--tw-leading:var(--leading-snug);line-height:var(--leading-snug)}.leading-tight{--tw-leading:var(--leading-tight);line-height:var(--leading-tight)}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-normal{--tw-font-weight:var(--font-weight-normal);font-weight:var(--font-weight-normal)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.tracking-normal{--tw-tracking:var(--tracking-normal);letter-spacing:var(--tracking-normal)}.tracking-wide{--tw-tracking:var(--tracking-wide);letter-spacing:var(--tracking-wide)}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-wrap{white-space:pre-wrap}.text-\[\#c9d1d9\]{color:#c9d1d9}.text-amber-300{color:var(--color-amber-300)}.text-amber-400{color:var(--color-amber-400)}.text-amber-500{color:var(--color-amber-500)}.text-blue-300{color:var(--color-blue-300)}.text-blue-400{color:var(--color-blue-400)}.text-green-400{color:var(--color-green-400)}.text-green-500{color:var(--color-green-500)}.text-purple-300{color:var(--color-purple-300)}.text-purple-400{color:var(--color-purple-400)}.text-red-400{color:var(--color-red-400)}.text-teal-400{color:var(--color-teal-400)}.text-white{color:var(--color-white)}.text-yellow-200{color:var(--color-yellow-200)}.text-yellow-300{color:var(--color-yellow-300)}.text-yellow-400{color:var(--color-yellow-400)}.text-yellow-500{color:var(--color-yellow-500)}.text-zinc-200{color:var(--color-zinc-200)}.text-zinc-300{color:var(--color-zinc-300)}.text-zinc-400{color:var(--color-zinc-400)}.text-zinc-500{color:var(--color-zinc-500)}.text-zinc-600{color:var(--color-zinc-600)}.normal-case{text-transform:none}.uppercase{text-transform:uppercase}.italic{font-style:italic}.line-through{text-decoration-line:line-through}.underline{text-decoration-line:underline}.placeholder-zinc-600::placeholder{color:var(--color-zinc-600)}.accent-blue-400{accent-color:var(--color-blue-400)}.opacity-50{opacity:.5}.opacity-85{opacity:.85}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\[border-color\,background-color\]{transition-property:border-color,background-color;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\[left\]{transition-property:left;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\[width\]{transition-property:width;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.duration-150{--tw-duration:.15s;transition-duration:.15s}.duration-200{--tw-duration:.2s;transition-duration:.2s}.ease-in-out{--tw-ease:var(--ease-in-out);transition-timing-function:var(--ease-in-out)}.outline-none{--tw-outline-style:none;outline-style:none}.select-none{-webkit-user-select:none;user-select:none}@media(hover:hover){.hover\:border-\[\#444c56\]:hover{border-color:#444c56}.hover\:border-amber-400:hover{border-color:var(--color-amber-400)}.hover\:border-green-400:hover{border-color:var(--color-green-400)}.hover\:border-red-400:hover{border-color:var(--color-red-400)}.hover\:border-red-500:hover{border-color:var(--color-red-500)}.hover\:border-zinc-400:hover{border-color:var(--color-zinc-400)}.hover\:border-zinc-500:hover{border-color:var(--color-zinc-500)}.hover\:bg-\[\#1a1f26\]:hover{background-color:#1a1f26}.hover\:bg-\[\#2e2e2e\]:hover{background-color:#2e2e2e}.hover\:bg-\[\#242424\]:hover{background-color:#242424}.hover\:bg-blue-400:hover{background-color:var(--color-blue-400)}.hover\:bg-purple-500:hover{background-color:var(--color-purple-500)}.hover\:text-amber-300:hover{color:var(--color-amber-300)}.hover\:text-blue-300:hover{color:var(--color-blue-300)}.hover\:text-blue-400:hover{color:var(--color-blue-400)}.hover\:text-green-300:hover{color:var(--color-green-300)}.hover\:text-red-300:hover{color:var(--color-red-300)}.hover\:text-red-400:hover{color:var(--color-red-400)}.hover\:text-white:hover{color:var(--color-white)}.hover\:text-zinc-200:hover{color:var(--color-zinc-200)}.hover\:text-zinc-300:hover{color:var(--color-zinc-300)}.hover\:text-zinc-400:hover{color:var(--color-zinc-400)}.hover\:underline:hover{text-decoration-line:underline}}.focus\:border-blue-400:focus{border-color:var(--color-blue-400)}.focus\:border-zinc-500:focus{border-color:var(--color-zinc-500)}.active\:bg-\[\#333\]:active{background-color:#333}}@font-face{font-family:Source Code Pro;font-style:normal;font-weight:400;font-display:swap;src:url(data:font/woff2;base64,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)format("woff2")}@font-face{font-family:Source Code Pro;font-style:normal;font-weight:700;font-display:swap;src:url(data:font/woff2;base64,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)format("woff2")}.xterm{width:100%;height:100%}.xterm .xterm-viewport{background-color:inherit!important}.xterm-cursor-layer{display:none!important}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-duration{syntax:"*";inherits:false}@property --tw-ease{syntax:"*";inherits:false}@keyframes pulse{50%{opacity:.5}}.xterm{cursor:text;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;inset:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility:not(.debug),.xterm .xterm-message{position:absolute;inset:0;z-index:10;color:transparent;pointer-events:none}.xterm .xterm-accessibility-tree:not(.debug) *::selection{color:transparent}.xterm .xterm-accessibility-tree{font-family:monospace;-webkit-user-select:text;user-select:text;white-space:pre}.xterm .xterm-accessibility-tree>div{transform-origin:left;width:fit-content}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{text-decoration:double underline}.xterm-underline-3{text-decoration:wavy underline}.xterm-underline-4{text-decoration:dotted underline}.xterm-underline-5{text-decoration:dashed underline}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:overline underline}.xterm-overline.xterm-underline-2{text-decoration:overline double underline}.xterm-overline.xterm-underline-3{text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}.xterm .xterm-scrollable-element>.scrollbar{cursor:default}.xterm .xterm-scrollable-element>.scrollbar>.scra{cursor:pointer;font-size:11px!important}.xterm .xterm-scrollable-element>.visible{opacity:1;background:#0000;transition:opacity .1s linear;z-index:11}.xterm .xterm-scrollable-element>.invisible{opacity:0;pointer-events:none}.xterm .xterm-scrollable-element>.invisible.fade{transition:opacity .8s linear}.xterm .xterm-scrollable-element>.shadow{position:absolute;display:none}.xterm .xterm-scrollable-element>.shadow.top{display:block;top:0;left:3px;height:3px;width:100%;box-shadow:var(--vscode-scrollbar-shadow, #000) 0 6px 6px -6px inset}.xterm .xterm-scrollable-element>.shadow.left{display:block;top:3px;left:0;height:100%;width:3px;box-shadow:var(--vscode-scrollbar-shadow, #000) 6px 0 6px -6px inset}.xterm .xterm-scrollable-element>.shadow.top-left-corner{display:block;top:0;left:0;height:3px;width:3px}.xterm .xterm-scrollable-element>.shadow.top.left{box-shadow:var(--vscode-scrollbar-shadow, #000) 6px 0 6px -6px inset}</style>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
